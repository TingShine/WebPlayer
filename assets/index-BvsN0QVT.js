var dc=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var a1=dc((ht,pt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerPolicy&&(u.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?u.credentials="include":f.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(f){if(f.ep)return;f.ep=!0;const u=r(f);fetch(f.href,u)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qs(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Te={},Hi=[],Se=()=>{},hc=()=>!1,Cr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zs=e=>e.startsWith("onUpdate:"),Me=Object.assign,Xs=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},pc=Object.prototype.hasOwnProperty,_e=(e,t)=>pc.call(e,t),K=Array.isArray,Gi=e=>kn(e)==="[object Map]",Dl=e=>kn(e)==="[object Set]",Do=e=>kn(e)==="[object Date]",J=e=>typeof e=="function",he=e=>typeof e=="string",Ct=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Nl=e=>(me(e)||J(e))&&J(e.then)&&J(e.catch),$l=Object.prototype.toString,kn=e=>$l.call(e),gc=e=>kn(e).slice(8,-1),lr=e=>kn(e)==="[object Object]",Js=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_n=qs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ar=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},_c=/-(\w)/g,bt=Ar(e=>e.replace(_c,(t,r)=>r?r.toUpperCase():"")),vc=/\B([A-Z])/g,di=Ar(e=>e.replace(vc,"-$1").toLowerCase()),Fr=Ar(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wr=Ar(e=>e?`on${Fr(e)}`:""),fi=(e,t)=>!Object.is(e,t),er=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Hl=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},mc=e=>{const t=he(e)?Number(e):NaN;return isNaN(t)?e:t};let No;const Ir=()=>No||(No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Je(e){if(K(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],f=he(s)?Sc(s):Je(s);if(f)for(const u in f)t[u]=f[u]}return t}else if(he(e)||me(e))return e}const bc=/;(?![^(]*\))/g,wc=/:([^]+)/,xc=/\/\*[^]*?\*\//g;function Sc(e){const t={};return e.replace(xc,"").split(bc).forEach(r=>{if(r){const s=r.split(wc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Y(e){let t="";if(he(e))t=e;else if(K(e))for(let r=0;r<e.length;r++){const s=Y(e[r]);s&&(t+=s+" ")}else if(me(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Ec="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Uc=qs(Ec);function Gl(e){return!!e||e===""}function Tc(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=fr(e[s],t[s]);return r}function fr(e,t){if(e===t)return!0;let r=Do(e),s=Do(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=Ct(e),s=Ct(t),r||s)return e===t;if(r=K(e),s=K(t),r||s)return r&&s?Tc(e,t):!1;if(r=me(e),s=me(t),r||s){if(!r||!s)return!1;const f=Object.keys(e).length,u=Object.keys(t).length;if(f!==u)return!1;for(const c in e){const a=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(a&&!p||!a&&p||!fr(e[c],t[c]))return!1}}return String(e)===String(t)}const Vl=e=>!!(e&&e.__v_isRef===!0),ut=e=>he(e)?e:e==null?"":K(e)||me(e)&&(e.toString===$l||!J(e.toString))?Vl(e)?ut(e.value):JSON.stringify(e,jl,2):String(e),jl=(e,t)=>Vl(t)?jl(e,t.value):Gi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,f],u)=>(r[Kr(s,u)+" =>"]=f,r),{})}:Dl(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Kr(r))}:Ct(t)?Kr(t):me(t)&&!K(t)&&!lr(t)?String(t):t,Kr=(e,t="")=>{var r;return Ct(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class Cc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Xe;try{return Xe=this,t()}finally{Xe=r}}}on(){Xe=this}off(){Xe=this.parent}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0}}}function Yl(){return Xe}function Ac(e,t=!1){Xe&&Xe.cleanups.push(e)}let Ae;const qr=new WeakSet;class Wl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qr.has(this)&&(qr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ql(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$o(this),Zl(this);const t=Ae,r=Ut;Ae=this,Ut=!0;try{return this.fn()}finally{Xl(this),Ae=t,Ut=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)to(t);this.deps=this.depsTail=void 0,$o(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ms(this)&&this.run()}get dirty(){return ms(this)}}let Kl=0,vn,yn;function ql(e,t=!1){if(e.flags|=8,t){e.next=yn,yn=e;return}e.next=vn,vn=e}function Qs(){Kl++}function eo(){if(--Kl>0)return;if(yn){let t=yn;for(yn=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;vn;){let t=vn;for(vn=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function Zl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Xl(e){let t,r=e.depsTail,s=r;for(;s;){const f=s.prevDep;s.version===-1?(s===r&&(r=f),to(s),Fc(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=f}e.deps=t,e.depsTail=r}function ms(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Jl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Jl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Un))return;e.globalVersion=Un;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ms(e)){e.flags&=-3;return}const r=Ae,s=Ut;Ae=e,Ut=!0;try{Zl(e);const f=e.fn(e._value);(t.version===0||fi(f,e._value))&&(e._value=f,t.version++)}catch(f){throw t.version++,f}finally{Ae=r,Ut=s,Xl(e),e.flags&=-3}}function to(e,t=!1){const{dep:r,prevSub:s,nextSub:f}=e;if(s&&(s.nextSub=f,e.prevSub=void 0),f&&(f.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let u=r.computed.deps;u;u=u.nextDep)to(u,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Fc(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Ut=!0;const Ql=[];function hi(){Ql.push(Ut),Ut=!1}function pi(){const e=Ql.pop();Ut=e===void 0?!0:e}function $o(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Ae;Ae=void 0;try{t()}finally{Ae=r}}}let Un=0;class Ic{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class io{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ae||!Ut||Ae===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ae)r=this.activeLink=new Ic(Ae,this),Ae.deps?(r.prevDep=Ae.depsTail,Ae.depsTail.nextDep=r,Ae.depsTail=r):Ae.deps=Ae.depsTail=r,ef(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=Ae.depsTail,r.nextDep=void 0,Ae.depsTail.nextDep=r,Ae.depsTail=r,Ae.deps===r&&(Ae.deps=s)}return r}trigger(t){this.version++,Un++,this.notify(t)}notify(t){Qs();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{eo()}}}function ef(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)ef(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ur=new WeakMap,Ei=Symbol(""),bs=Symbol(""),Tn=Symbol("");function We(e,t,r){if(Ut&&Ae){let s=ur.get(e);s||ur.set(e,s=new Map);let f=s.get(r);f||(s.set(r,f=new io),f.map=s,f.key=r),f.track()}}function Wt(e,t,r,s,f,u){const c=ur.get(e);if(!c){Un++;return}const a=p=>{p&&p.trigger()};if(Qs(),t==="clear")c.forEach(a);else{const p=K(e),v=p&&Js(r);if(p&&r==="length"){const g=Number(s);c.forEach((y,E)=>{(E==="length"||E===Tn||!Ct(E)&&E>=g)&&a(y)})}else switch((r!==void 0||c.has(void 0))&&a(c.get(r)),v&&a(c.get(Tn)),t){case"add":p?v&&a(c.get("length")):(a(c.get(Ei)),Gi(e)&&a(c.get(bs)));break;case"delete":p||(a(c.get(Ei)),Gi(e)&&a(c.get(bs)));break;case"set":Gi(e)&&a(c.get(Ei));break}}eo()}function Pc(e,t){const r=ur.get(e);return r&&r.get(t)}function Ri(e){const t=ge(e);return t===e?t:(We(t,"iterate",Tn),mt(e)?t:t.map(Ke))}function Pr(e){return We(e=ge(e),"iterate",Tn),e}const Bc={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,Ke)},concat(...e){return Ri(this).concat(...e.map(t=>K(t)?Ri(t):t))},entries(){return Zr(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return Ht(this,"every",e,t,void 0,arguments)},filter(e,t){return Ht(this,"filter",e,t,r=>r.map(Ke),arguments)},find(e,t){return Ht(this,"find",e,t,Ke,arguments)},findIndex(e,t){return Ht(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ht(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return Ht(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ht(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xr(this,"includes",e)},indexOf(...e){return Xr(this,"indexOf",e)},join(e){return Ri(this).join(e)},lastIndexOf(...e){return Xr(this,"lastIndexOf",e)},map(e,t){return Ht(this,"map",e,t,void 0,arguments)},pop(){return sn(this,"pop")},push(...e){return sn(this,"push",e)},reduce(e,...t){return Ho(this,"reduce",e,t)},reduceRight(e,...t){return Ho(this,"reduceRight",e,t)},shift(){return sn(this,"shift")},some(e,t){return Ht(this,"some",e,t,void 0,arguments)},splice(...e){return sn(this,"splice",e)},toReversed(){return Ri(this).toReversed()},toSorted(e){return Ri(this).toSorted(e)},toSpliced(...e){return Ri(this).toSpliced(...e)},unshift(...e){return sn(this,"unshift",e)},values(){return Zr(this,"values",Ke)}};function Zr(e,t,r){const s=Pr(e),f=s[t]();return s!==e&&!mt(e)&&(f._next=f.next,f.next=()=>{const u=f._next();return u.value&&(u.value=r(u.value)),u}),f}const Lc=Array.prototype;function Ht(e,t,r,s,f,u){const c=Pr(e),a=c!==e&&!mt(e),p=c[t];if(p!==Lc[t]){const y=p.apply(e,u);return a?Ke(y):y}let v=r;c!==e&&(a?v=function(y,E){return r.call(this,Ke(y),E,e)}:r.length>2&&(v=function(y,E){return r.call(this,y,E,e)}));const g=p.call(c,v,s);return a&&f?f(g):g}function Ho(e,t,r,s){const f=Pr(e);let u=r;return f!==e&&(mt(e)?r.length>3&&(u=function(c,a,p){return r.call(this,c,a,p,e)}):u=function(c,a,p){return r.call(this,c,Ke(a),p,e)}),f[t](u,...s)}function Xr(e,t,r){const s=ge(e);We(s,"iterate",Tn);const f=s[t](...r);return(f===-1||f===!1)&&oo(r[0])?(r[0]=ge(r[0]),s[t](...r)):f}function sn(e,t,r=[]){hi(),Qs();const s=ge(e)[t].apply(e,r);return eo(),pi(),s}const Oc=qs("__proto__,__v_isRef,__isVue"),tf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ct));function Rc(e){Ct(e)||(e=String(e));const t=ge(this);return We(t,"has",e),t.hasOwnProperty(e)}class nf{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const f=this._isReadonly,u=this._isShallow;if(r==="__v_isReactive")return!f;if(r==="__v_isReadonly")return f;if(r==="__v_isShallow")return u;if(r==="__v_raw")return s===(f?u?jc:af:u?of:sf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const c=K(t);if(!f){let p;if(c&&(p=Bc[r]))return p;if(r==="hasOwnProperty")return Rc}const a=Reflect.get(t,r,Oe(t)?t:s);return(Ct(r)?tf.has(r):Oc(r))||(f||We(t,"get",r),u)?a:Oe(a)?c&&Js(r)?a:a.value:me(a)?f?ro(a):Ii(a):a}}class rf extends nf{constructor(t=!1){super(!1,t)}set(t,r,s,f){let u=t[r];if(!this._isShallow){const p=Ui(u);if(!mt(s)&&!Ui(s)&&(u=ge(u),s=ge(s)),!K(t)&&Oe(u)&&!Oe(s))return p?!1:(u.value=s,!0)}const c=K(t)&&Js(r)?Number(r)<t.length:_e(t,r),a=Reflect.set(t,r,s,Oe(t)?t:f);return t===ge(f)&&(c?fi(s,u)&&Wt(t,"set",r,s):Wt(t,"add",r,s)),a}deleteProperty(t,r){const s=_e(t,r);t[r];const f=Reflect.deleteProperty(t,r);return f&&s&&Wt(t,"delete",r,void 0),f}has(t,r){const s=Reflect.has(t,r);return(!Ct(r)||!tf.has(r))&&We(t,"has",r),s}ownKeys(t){return We(t,"iterate",K(t)?"length":Ei),Reflect.ownKeys(t)}}class zc extends nf{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const kc=new rf,Mc=new zc,Dc=new rf(!0),ws=e=>e,Vn=e=>Reflect.getPrototypeOf(e);function Nc(e,t,r){return function(...s){const f=this.__v_raw,u=ge(f),c=Gi(u),a=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,v=f[e](...s),g=r?ws:t?xs:Ke;return!t&&We(u,"iterate",p?bs:Ei),{next(){const{value:y,done:E}=v.next();return E?{value:y,done:E}:{value:a?[g(y[0]),g(y[1])]:g(y),done:E}},[Symbol.iterator](){return this}}}}function jn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function $c(e,t){const r={get(f){const u=this.__v_raw,c=ge(u),a=ge(f);e||(fi(f,a)&&We(c,"get",f),We(c,"get",a));const{has:p}=Vn(c),v=t?ws:e?xs:Ke;if(p.call(c,f))return v(u.get(f));if(p.call(c,a))return v(u.get(a));u!==c&&u.get(f)},get size(){const f=this.__v_raw;return!e&&We(ge(f),"iterate",Ei),Reflect.get(f,"size",f)},has(f){const u=this.__v_raw,c=ge(u),a=ge(f);return e||(fi(f,a)&&We(c,"has",f),We(c,"has",a)),f===a?u.has(f):u.has(f)||u.has(a)},forEach(f,u){const c=this,a=c.__v_raw,p=ge(a),v=t?ws:e?xs:Ke;return!e&&We(p,"iterate",Ei),a.forEach((g,y)=>f.call(u,v(g),v(y),c))}};return Me(r,e?{add:jn("add"),set:jn("set"),delete:jn("delete"),clear:jn("clear")}:{add(f){!t&&!mt(f)&&!Ui(f)&&(f=ge(f));const u=ge(this);return Vn(u).has.call(u,f)||(u.add(f),Wt(u,"add",f,f)),this},set(f,u){!t&&!mt(u)&&!Ui(u)&&(u=ge(u));const c=ge(this),{has:a,get:p}=Vn(c);let v=a.call(c,f);v||(f=ge(f),v=a.call(c,f));const g=p.call(c,f);return c.set(f,u),v?fi(u,g)&&Wt(c,"set",f,u):Wt(c,"add",f,u),this},delete(f){const u=ge(this),{has:c,get:a}=Vn(u);let p=c.call(u,f);p||(f=ge(f),p=c.call(u,f)),a&&a.call(u,f);const v=u.delete(f);return p&&Wt(u,"delete",f,void 0),v},clear(){const f=ge(this),u=f.size!==0,c=f.clear();return u&&Wt(f,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(f=>{r[f]=Nc(f,e,t)}),r}function no(e,t){const r=$c(e,t);return(s,f,u)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?s:Reflect.get(_e(r,f)&&f in s?r:s,f,u)}const Hc={get:no(!1,!1)},Gc={get:no(!1,!0)},Vc={get:no(!0,!1)},sf=new WeakMap,of=new WeakMap,af=new WeakMap,jc=new WeakMap;function Yc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wc(e){return e.__v_skip||!Object.isExtensible(e)?0:Yc(gc(e))}function Ii(e){return Ui(e)?e:so(e,!1,kc,Hc,sf)}function Kc(e){return so(e,!1,Dc,Gc,of)}function ro(e){return so(e,!0,Mc,Vc,af)}function so(e,t,r,s,f){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=f.get(e);if(u)return u;const c=Wc(e);if(c===0)return e;const a=new Proxy(e,c===2?s:r);return f.set(e,a),a}function Vi(e){return Ui(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Ui(e){return!!(e&&e.__v_isReadonly)}function mt(e){return!!(e&&e.__v_isShallow)}function oo(e){return e?!!e.__v_raw:!1}function ge(e){const t=e&&e.__v_raw;return t?ge(t):e}function qc(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&Hl(e,"__v_skip",!0),e}const Ke=e=>me(e)?Ii(e):e,xs=e=>me(e)?ro(e):e;function Oe(e){return e?e.__v_isRef===!0:!1}function de(e){return lf(e,!1)}function ui(e){return lf(e,!0)}function lf(e,t){return Oe(e)?e:new Zc(e,t)}class Zc{constructor(t,r){this.dep=new io,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:ge(t),this._value=r?t:Ke(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||mt(t)||Ui(t);t=s?t:ge(t),fi(t,r)&&(this._rawValue=t,this._value=s?t:Ke(t),this.dep.trigger())}}function w(e){return Oe(e)?e.value:e}const Xc={get:(e,t,r)=>t==="__v_raw"?e:w(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const f=e[t];return Oe(f)&&!Oe(r)?(f.value=r,!0):Reflect.set(e,t,r,s)}};function ff(e){return Vi(e)?e:new Proxy(e,Xc)}function ao(e){const t=K(e)?new Array(e.length):{};for(const r in e)t[r]=uf(e,r);return t}class Jc{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Pc(ge(this._object),this._key)}}class Qc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Cn(e,t,r){return Oe(e)?e:J(e)?new Qc(e):me(e)&&arguments.length>1?uf(e,t,r):de(e)}function uf(e,t,r){const s=e[t];return Oe(s)?s:new Jc(e,t,r)}class ed{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new io(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return ql(this,!0),!0}get value(){const t=this.dep.track();return Jl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function td(e,t,r=!1){let s,f;return J(e)?s=e:(s=e.get,f=e.set),new ed(s,f,r)}const Yn={},cr=new WeakMap;let wi;function id(e,t=!1,r=wi){if(r){let s=cr.get(r);s||cr.set(r,s=[]),s.push(e)}}function nd(e,t,r=Te){const{immediate:s,deep:f,once:u,scheduler:c,augmentJob:a,call:p}=r,v=_=>f?_:mt(_)||f===!1||f===0?Kt(_,1):Kt(_);let g,y,E,m,U=!1,n=!1;if(Oe(e)?(y=()=>e.value,U=mt(e)):Vi(e)?(y=()=>v(e),U=!0):K(e)?(n=!0,U=e.some(_=>Vi(_)||mt(_)),y=()=>e.map(_=>{if(Oe(_))return _.value;if(Vi(_))return v(_);if(J(_))return p?p(_,2):_()})):J(e)?t?y=p?()=>p(e,2):e:y=()=>{if(E){hi();try{E()}finally{pi()}}const _=wi;wi=g;try{return p?p(e,3,[m]):e(m)}finally{wi=_}}:y=Se,t&&f){const _=y,b=f===!0?1/0:f;y=()=>Kt(_(),b)}const o=Yl(),l=()=>{g.stop(),o&&o.active&&Xs(o.effects,g)};if(u&&t){const _=t;t=(...b)=>{_(...b),l()}}let d=n?new Array(e.length).fill(Yn):Yn;const h=_=>{if(!(!(g.flags&1)||!g.dirty&&!_))if(t){const b=g.run();if(f||U||(n?b.some((S,C)=>fi(S,d[C])):fi(b,d))){E&&E();const S=wi;wi=g;try{const C=[b,d===Yn?void 0:n&&d[0]===Yn?[]:d,m];p?p(t,3,C):t(...C),d=b}finally{wi=S}}}else g.run()};return a&&a(h),g=new Wl(y),g.scheduler=c?()=>c(h,!1):h,m=_=>id(_,!1,g),E=g.onStop=()=>{const _=cr.get(g);if(_){if(p)p(_,4);else for(const b of _)b();cr.delete(g)}},t?s?h(!0):d=g.run():c?c(h.bind(null,!0),!0):g.run(),l.pause=g.pause.bind(g),l.resume=g.resume.bind(g),l.stop=l,l}function Kt(e,t=1/0,r){if(t<=0||!me(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Oe(e))Kt(e.value,t,r);else if(K(e))for(let s=0;s<e.length;s++)Kt(e[s],t,r);else if(Dl(e)||Gi(e))e.forEach(s=>{Kt(s,t,r)});else if(lr(e)){for(const s in e)Kt(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Kt(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mn(e,t,r,s){try{return s?e(...s):e()}catch(f){Br(f,t,r)}}function At(e,t,r,s){if(J(e)){const f=Mn(e,t,r,s);return f&&Nl(f)&&f.catch(u=>{Br(u,t,r)}),f}if(K(e)){const f=[];for(let u=0;u<e.length;u++)f.push(At(e[u],t,r,s));return f}}function Br(e,t,r,s=!0){const f=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Te;if(t){let a=t.parent;const p=t.proxy,v=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const g=a.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](e,p,v)===!1)return}a=a.parent}if(u){hi(),Mn(u,null,10,[e,p,v]),pi();return}}rd(e,r,f,s,c)}function rd(e,t,r,s=!0,f=!1){if(f)throw e;console.error(e)}const Qe=[];let kt=-1;const ji=[];let si=null,Mi=0;const cf=Promise.resolve();let dr=null;function yt(e){const t=dr||cf;return e?t.then(this?e.bind(this):e):t}function sd(e){let t=kt+1,r=Qe.length;for(;t<r;){const s=t+r>>>1,f=Qe[s],u=An(f);u<e||u===e&&f.flags&2?t=s+1:r=s}return t}function lo(e){if(!(e.flags&1)){const t=An(e),r=Qe[Qe.length-1];!r||!(e.flags&2)&&t>=An(r)?Qe.push(e):Qe.splice(sd(t),0,e),e.flags|=1,df()}}function df(){dr||(dr=cf.then(pf))}function od(e){K(e)?ji.push(...e):si&&e.id===-1?si.splice(Mi+1,0,e):e.flags&1||(ji.push(e),e.flags|=1),df()}function Go(e,t,r=kt+1){for(;r<Qe.length;r++){const s=Qe[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Qe.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function hf(e){if(ji.length){const t=[...new Set(ji)].sort((r,s)=>An(r)-An(s));if(ji.length=0,si){si.push(...t);return}for(si=t,Mi=0;Mi<si.length;Mi++){const r=si[Mi];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}si=null,Mi=0}}const An=e=>e.id==null?e.flags&2?-1:1/0:e.id;function pf(e){try{for(kt=0;kt<Qe.length;kt++){const t=Qe[kt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;kt<Qe.length;kt++){const t=Qe[kt];t&&(t.flags&=-2)}kt=-1,Qe.length=0,hf(),dr=null,(Qe.length||ji.length)&&pf()}}let $e=null,gf=null;function hr(e){const t=$e;return $e=e,gf=e&&e.type.__scopeId||null,t}function ce(e,t=$e,r){if(!t||e._n)return e;const s=(...f)=>{s._d&&ea(-1);const u=hr(t);let c;try{c=e(...f)}finally{hr(u),s._d&&ea(1)}return c};return s._n=!0,s._c=!0,s._d=!0,s}function _f(e,t){if($e===null)return e;const r=zr($e),s=e.dirs||(e.dirs=[]);for(let f=0;f<t.length;f++){let[u,c,a,p=Te]=t[f];u&&(J(u)&&(u={mounted:u,updated:u}),u.deep&&Kt(c),s.push({dir:u,instance:r,value:c,oldValue:void 0,arg:a,modifiers:p}))}return e}function vi(e,t,r,s){const f=e.dirs,u=t&&t.dirs;for(let c=0;c<f.length;c++){const a=f[c];u&&(a.oldValue=u[c].value);let p=a.dir[s];p&&(hi(),At(p,r,8,[e.el,a,e,t]),pi())}}const ad=Symbol("_vte"),ld=e=>e.__isTeleport,zi=Symbol("_leaveCb"),Wn=Symbol("_enterCb");function fd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gi(()=>{e.isMounted=!0}),Dn(()=>{e.isUnmounting=!0}),e}const _t=[Function,Array],ud={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_t,onEnter:_t,onAfterEnter:_t,onEnterCancelled:_t,onBeforeLeave:_t,onLeave:_t,onAfterLeave:_t,onLeaveCancelled:_t,onBeforeAppear:_t,onAppear:_t,onAfterAppear:_t,onAppearCancelled:_t};function cd(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function Ss(e,t,r,s,f){const{appear:u,mode:c,persisted:a=!1,onBeforeEnter:p,onEnter:v,onAfterEnter:g,onEnterCancelled:y,onBeforeLeave:E,onLeave:m,onAfterLeave:U,onLeaveCancelled:n,onBeforeAppear:o,onAppear:l,onAfterAppear:d,onAppearCancelled:h}=t,_=String(e.key),b=cd(r,e),S=(I,k)=>{I&&At(I,s,9,k)},C=(I,k)=>{const G=k[1];S(I,k),K(I)?I.every(A=>A.length<=1)&&G():I.length<=1&&G()},B={mode:c,persisted:a,beforeEnter(I){let k=p;if(!r.isMounted)if(u)k=o||p;else return;I[zi]&&I[zi](!0);const G=b[_];G&&Di(e,G)&&G.el[zi]&&G.el[zi](),S(k,[I])},enter(I){let k=v,G=g,A=y;if(!r.isMounted)if(u)k=l||v,G=d||g,A=h||y;else return;let W=!1;const Q=I[Wn]=ke=>{W||(W=!0,ke?S(A,[I]):S(G,[I]),B.delayedLeave&&B.delayedLeave(),I[Wn]=void 0)};k?C(k,[I,Q]):Q()},leave(I,k){const G=String(e.key);if(I[Wn]&&I[Wn](!0),r.isUnmounting)return k();S(E,[I]);let A=!1;const W=I[zi]=Q=>{A||(A=!0,k(),Q?S(n,[I]):S(U,[I]),I[zi]=void 0,b[G]===e&&delete b[G])};b[G]=e,m?C(m,[I,W]):W()},clone(I){return Ss(I,t,r,s)}};return B}function Fn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vf(e,t=!1,r){let s=[],f=0;for(let u=0;u<e.length;u++){let c=e[u];const a=r==null?c.key:String(r)+String(c.key!=null?c.key:u);c.type===Le?(c.patchFlag&128&&f++,s=s.concat(vf(c.children,t,a))):(t||c.type!==Xt)&&s.push(a!=null?Ti(c,{key:a}):c)}if(f>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function oe(e,t){return J(e)?Me({name:e.name},t,{setup:e}):e}function yf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function pr(e,t,r,s,f=!1){if(K(e)){e.forEach((U,n)=>pr(U,t&&(K(t)?t[n]:t),r,s,f));return}if(Yi(s)&&!f){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&pr(e,t,r,s.component.subTree);return}const u=s.shapeFlag&4?zr(s.component):s.el,c=f?null:u,{i:a,r:p}=e,v=t&&t.r,g=a.refs===Te?a.refs={}:a.refs,y=a.setupState,E=ge(y),m=y===Te?()=>!1:U=>_e(E,U);if(v!=null&&v!==p&&(he(v)?(g[v]=null,m(v)&&(y[v]=null)):Oe(v)&&(v.value=null)),J(p))Mn(p,a,12,[c,g]);else{const U=he(p),n=Oe(p);if(U||n){const o=()=>{if(e.f){const l=U?m(p)?y[p]:g[p]:p.value;f?K(l)&&Xs(l,u):K(l)?l.includes(u)||l.push(u):U?(g[p]=[u],m(p)&&(y[p]=g[p])):(p.value=[u],e.k&&(g[e.k]=p.value))}else U?(g[p]=c,m(p)&&(y[p]=c)):n&&(p.value=c,e.k&&(g[e.k]=c))};c?(o.id=-1,ft(o,r)):o()}}}Ir().requestIdleCallback;Ir().cancelIdleCallback;const Yi=e=>!!e.type.__asyncLoader,mf=e=>e.type.__isKeepAlive;function dd(e,t){bf(e,"a",t)}function hd(e,t){bf(e,"da",t)}function bf(e,t,r=Ve){const s=e.__wdc||(e.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(Lr(t,s,r),r){let f=r.parent;for(;f&&f.parent;)mf(f.parent.vnode)&&pd(s,t,r,f),f=f.parent}}function pd(e,t,r,s){const f=Lr(t,e,s,!0);Or(()=>{Xs(s[t],f)},r)}function Lr(e,t,r=Ve,s=!1){if(r){const f=r[e]||(r[e]=[]),u=t.__weh||(t.__weh=(...c)=>{hi();const a=$n(r),p=At(t,r,e,c);return a(),pi(),p});return s?f.unshift(u):f.push(u),u}}const Jt=e=>(t,r=Ve)=>{(!Pn||e==="sp")&&Lr(e,(...s)=>t(...s),r)},gd=Jt("bm"),gi=Jt("m"),_d=Jt("bu"),fo=Jt("u"),Dn=Jt("bum"),Or=Jt("um"),vd=Jt("sp"),yd=Jt("rtg"),md=Jt("rtc");function bd(e,t=Ve){Lr("ec",e,t)}const wd="components",wf=Symbol.for("v-ndc");function qt(e){return he(e)?xd(wd,e,!1)||e:e||wf}function xd(e,t,r=!0,s=!1){const f=$e||Ve;if(f){const u=f.type;{const a=fh(u,!1);if(a&&(a===t||a===bt(t)||a===Fr(bt(t))))return u}const c=Vo(f[e]||u[e],t)||Vo(f.appContext[e],t);return!c&&s?u:c}}function Vo(e,t){return e&&(e[t]||e[bt(t)]||e[Fr(bt(t))])}function Sd(e,t,r,s){let f;const u=r,c=K(e);if(c||he(e)){const a=c&&Vi(e);let p=!1;a&&(p=!mt(e),e=Pr(e)),f=new Array(e.length);for(let v=0,g=e.length;v<g;v++)f[v]=t(p?Ke(e[v]):e[v],v,void 0,u)}else if(typeof e=="number"){f=new Array(e);for(let a=0;a<e;a++)f[a]=t(a+1,a,void 0,u)}else if(me(e))if(e[Symbol.iterator])f=Array.from(e,(a,p)=>t(a,p,void 0,u));else{const a=Object.keys(e);f=new Array(a.length);for(let p=0,v=a.length;p<v;p++){const g=a[p];f[p]=t(e[g],g,p,u)}}else f=[];return f}function jo(e,t){for(let r=0;r<t.length;r++){const s=t[r];if(K(s))for(let f=0;f<s.length;f++)e[s[f].name]=s[f].fn;else s&&(e[s.name]=s.key?(...f)=>{const u=s.fn(...f);return u&&(u.key=s.key),u}:s.fn)}return e}function ye(e,t,r={},s,f){if($e.ce||$e.parent&&Yi($e.parent)&&$e.parent.ce)return t!=="default"&&(r.name=t),$(),ve(Le,null,[le("slot",r,s&&s())],64);let u=e[t];u&&u._c&&(u._d=!1),$();const c=u&&xf(u(r)),a=r.key||c&&c.key,p=ve(Le,{key:(a&&!Ct(a)?a:`_${t}`)+(!c&&s?"_fb":"")},c||(s?s():[]),c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function xf(e){return e.some(t=>po(t)?!(t.type===Xt||t.type===Le&&!xf(t.children)):!0)?e:null}const Es=e=>e?Gf(e)?zr(e):Es(e.parent):null,mn=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Es(e.parent),$root:e=>Es(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Uf(e),$forceUpdate:e=>e.f||(e.f=()=>{lo(e.update)}),$nextTick:e=>e.n||(e.n=yt.bind(e.proxy)),$watch:e=>Yd.bind(e)}),Jr=(e,t)=>e!==Te&&!e.__isScriptSetup&&_e(e,t),Ed={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:f,props:u,accessCache:c,type:a,appContext:p}=e;let v;if(t[0]!=="$"){const m=c[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return f[t];case 4:return r[t];case 3:return u[t]}else{if(Jr(s,t))return c[t]=1,s[t];if(f!==Te&&_e(f,t))return c[t]=2,f[t];if((v=e.propsOptions[0])&&_e(v,t))return c[t]=3,u[t];if(r!==Te&&_e(r,t))return c[t]=4,r[t];Us&&(c[t]=0)}}const g=mn[t];let y,E;if(g)return t==="$attrs"&&We(e.attrs,"get",""),g(e);if((y=a.__cssModules)&&(y=y[t]))return y;if(r!==Te&&_e(r,t))return c[t]=4,r[t];if(E=p.config.globalProperties,_e(E,t))return E[t]},set({_:e},t,r){const{data:s,setupState:f,ctx:u}=e;return Jr(f,t)?(f[t]=r,!0):s!==Te&&_e(s,t)?(s[t]=r,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:f,propsOptions:u}},c){let a;return!!r[c]||e!==Te&&_e(e,c)||Jr(t,c)||(a=u[0])&&_e(a,c)||_e(s,c)||_e(mn,c)||_e(f.config.globalProperties,c)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:_e(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function uo(){return Sf().slots}function Ud(){return Sf().attrs}function Sf(){const e=Dt();return e.setupContext||(e.setupContext=jf(e))}function Yo(e){return K(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Us=!0;function Td(e){const t=Uf(e),r=e.proxy,s=e.ctx;Us=!1,t.beforeCreate&&Wo(t.beforeCreate,e,"bc");const{data:f,computed:u,methods:c,watch:a,provide:p,inject:v,created:g,beforeMount:y,mounted:E,beforeUpdate:m,updated:U,activated:n,deactivated:o,beforeDestroy:l,beforeUnmount:d,destroyed:h,unmounted:_,render:b,renderTracked:S,renderTriggered:C,errorCaptured:B,serverPrefetch:I,expose:k,inheritAttrs:G,components:A,directives:W,filters:Q}=t;if(v&&Cd(v,s,null),c)for(const ne in c){const X=c[ne];J(X)&&(s[ne]=X.bind(r))}if(f){const ne=f.call(r,r);me(ne)&&(e.data=Ii(ne))}if(Us=!0,u)for(const ne in u){const X=u[ne],Pe=J(X)?X.bind(r,r):J(X.get)?X.get.bind(r,r):Se,Ne=!J(X)&&J(X.set)?X.set.bind(r):Se,Ge=M({get:Pe,set:Ne});Object.defineProperty(s,ne,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:Ie=>Ge.value=Ie})}if(a)for(const ne in a)Ef(a[ne],s,r,ne);if(p){const ne=J(p)?p.call(r):p;Reflect.ownKeys(ne).forEach(X=>{en(X,ne[X])})}g&&Wo(g,e,"c");function we(ne,X){K(X)?X.forEach(Pe=>ne(Pe.bind(r))):X&&ne(X.bind(r))}if(we(gd,y),we(gi,E),we(_d,m),we(fo,U),we(dd,n),we(hd,o),we(bd,B),we(md,S),we(yd,C),we(Dn,d),we(Or,_),we(vd,I),K(k))if(k.length){const ne=e.exposed||(e.exposed={});k.forEach(X=>{Object.defineProperty(ne,X,{get:()=>r[X],set:Pe=>r[X]=Pe})})}else e.exposed||(e.exposed={});b&&e.render===Se&&(e.render=b),G!=null&&(e.inheritAttrs=G),A&&(e.components=A),W&&(e.directives=W),I&&yf(e)}function Cd(e,t,r=Se){K(e)&&(e=Ts(e));for(const s in e){const f=e[s];let u;me(f)?"default"in f?u=Re(f.from||s,f.default,!0):u=Re(f.from||s):u=Re(f),Oe(u)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):t[s]=u}}function Wo(e,t,r){At(K(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ef(e,t,r,s){let f=s.includes(".")?Mf(r,s):()=>r[s];if(he(e)){const u=t[e];J(u)&&ze(f,u)}else if(J(e))ze(f,e.bind(r));else if(me(e))if(K(e))e.forEach(u=>Ef(u,t,r,s));else{const u=J(e.handler)?e.handler.bind(r):t[e.handler];J(u)&&ze(f,u,e)}}function Uf(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:f,optionsCache:u,config:{optionMergeStrategies:c}}=e.appContext,a=u.get(t);let p;return a?p=a:!f.length&&!r&&!s?p=t:(p={},f.length&&f.forEach(v=>gr(p,v,c,!0)),gr(p,t,c)),me(t)&&u.set(t,p),p}function gr(e,t,r,s=!1){const{mixins:f,extends:u}=t;u&&gr(e,u,r,!0),f&&f.forEach(c=>gr(e,c,r,!0));for(const c in t)if(!(s&&c==="expose")){const a=Ad[c]||r&&r[c];e[c]=a?a(e[c],t[c]):t[c]}return e}const Ad={data:Ko,props:qo,emits:qo,methods:ln,computed:ln,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:ln,directives:ln,watch:Id,provide:Ko,inject:Fd};function Ko(e,t){return t?e?function(){return Me(J(e)?e.call(this,this):e,J(t)?t.call(this,this):t)}:t:e}function Fd(e,t){return ln(Ts(e),Ts(t))}function Ts(e){if(K(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function ln(e,t){return e?Me(Object.create(null),e,t):t}function qo(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:Me(Object.create(null),Yo(e),Yo(t??{})):t}function Id(e,t){if(!e)return t;if(!t)return e;const r=Me(Object.create(null),e);for(const s in t)r[s]=qe(e[s],t[s]);return r}function Tf(){return{app:null,config:{isNativeTag:hc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pd=0;function Bd(e,t){return function(s,f=null){J(s)||(s=Me({},s)),f!=null&&!me(f)&&(f=null);const u=Tf(),c=new WeakSet,a=[];let p=!1;const v=u.app={_uid:Pd++,_component:s,_props:f,_container:null,_context:u,_instance:null,version:ch,get config(){return u.config},set config(g){},use(g,...y){return c.has(g)||(g&&J(g.install)?(c.add(g),g.install(v,...y)):J(g)&&(c.add(g),g(v,...y))),v},mixin(g){return u.mixins.includes(g)||u.mixins.push(g),v},component(g,y){return y?(u.components[g]=y,v):u.components[g]},directive(g,y){return y?(u.directives[g]=y,v):u.directives[g]},mount(g,y,E){if(!p){const m=v._ceVNode||le(s,f);return m.appContext=u,E===!0?E="svg":E===!1&&(E=void 0),e(m,g,E),p=!0,v._container=g,g.__vue_app__=v,zr(m.component)}},onUnmount(g){a.push(g)},unmount(){p&&(At(a,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(g,y){return u.provides[g]=y,v},runWithContext(g){const y=Wi;Wi=v;try{return g()}finally{Wi=y}}};return v}}let Wi=null;function en(e,t){if(Ve){let r=Ve.provides;const s=Ve.parent&&Ve.parent.provides;s===r&&(r=Ve.provides=Object.create(s)),r[e]=t}}function Re(e,t,r=!1){const s=Ve||$e;if(s||Wi){const f=Wi?Wi._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(f&&e in f)return f[e];if(arguments.length>1)return r&&J(t)?t.call(s&&s.proxy):t}}const Cf={},Af=()=>Object.create(Cf),Ff=e=>Object.getPrototypeOf(e)===Cf;function Ld(e,t,r,s=!1){const f={},u=Af();e.propsDefaults=Object.create(null),If(e,t,f,u);for(const c in e.propsOptions[0])c in f||(f[c]=void 0);r?e.props=s?f:Kc(f):e.type.props?e.props=f:e.props=u,e.attrs=u}function Od(e,t,r,s){const{props:f,attrs:u,vnode:{patchFlag:c}}=e,a=ge(f),[p]=e.propsOptions;let v=!1;if((s||c>0)&&!(c&16)){if(c&8){const g=e.vnode.dynamicProps;for(let y=0;y<g.length;y++){let E=g[y];if(Rr(e.emitsOptions,E))continue;const m=t[E];if(p)if(_e(u,E))m!==u[E]&&(u[E]=m,v=!0);else{const U=bt(E);f[U]=Cs(p,a,U,m,e,!1)}else m!==u[E]&&(u[E]=m,v=!0)}}}else{If(e,t,f,u)&&(v=!0);let g;for(const y in a)(!t||!_e(t,y)&&((g=di(y))===y||!_e(t,g)))&&(p?r&&(r[y]!==void 0||r[g]!==void 0)&&(f[y]=Cs(p,a,y,void 0,e,!0)):delete f[y]);if(u!==a)for(const y in u)(!t||!_e(t,y))&&(delete u[y],v=!0)}v&&Wt(e.attrs,"set","")}function If(e,t,r,s){const[f,u]=e.propsOptions;let c=!1,a;if(t)for(let p in t){if(_n(p))continue;const v=t[p];let g;f&&_e(f,g=bt(p))?!u||!u.includes(g)?r[g]=v:(a||(a={}))[g]=v:Rr(e.emitsOptions,p)||(!(p in s)||v!==s[p])&&(s[p]=v,c=!0)}if(u){const p=ge(r),v=a||Te;for(let g=0;g<u.length;g++){const y=u[g];r[y]=Cs(f,p,y,v[y],e,!_e(v,y))}}return c}function Cs(e,t,r,s,f,u){const c=e[r];if(c!=null){const a=_e(c,"default");if(a&&s===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&J(p)){const{propsDefaults:v}=f;if(r in v)s=v[r];else{const g=$n(f);s=v[r]=p.call(null,t),g()}}else s=p;f.ce&&f.ce._setProp(r,s)}c[0]&&(u&&!a?s=!1:c[1]&&(s===""||s===di(r))&&(s=!0))}return s}const Rd=new WeakMap;function Pf(e,t,r=!1){const s=r?Rd:t.propsCache,f=s.get(e);if(f)return f;const u=e.props,c={},a=[];let p=!1;if(!J(e)){const g=y=>{p=!0;const[E,m]=Pf(y,t,!0);Me(c,E),m&&a.push(...m)};!r&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!u&&!p)return me(e)&&s.set(e,Hi),Hi;if(K(u))for(let g=0;g<u.length;g++){const y=bt(u[g]);Zo(y)&&(c[y]=Te)}else if(u)for(const g in u){const y=bt(g);if(Zo(y)){const E=u[g],m=c[y]=K(E)||J(E)?{type:E}:Me({},E),U=m.type;let n=!1,o=!0;if(K(U))for(let l=0;l<U.length;++l){const d=U[l],h=J(d)&&d.name;if(h==="Boolean"){n=!0;break}else h==="String"&&(o=!1)}else n=J(U)&&U.name==="Boolean";m[0]=n,m[1]=o,(n||_e(m,"default"))&&a.push(y)}}const v=[c,a];return me(e)&&s.set(e,v),v}function Zo(e){return e[0]!=="$"&&!_n(e)}const Bf=e=>e[0]==="_"||e==="$stable",co=e=>K(e)?e.map(Mt):[Mt(e)],zd=(e,t,r)=>{if(t._n)return t;const s=ce((...f)=>co(t(...f)),r);return s._c=!1,s},Lf=(e,t,r)=>{const s=e._ctx;for(const f in e){if(Bf(f))continue;const u=e[f];if(J(u))t[f]=zd(f,u,s);else if(u!=null){const c=co(u);t[f]=()=>c}}},Of=(e,t)=>{const r=co(t);e.slots.default=()=>r},Rf=(e,t,r)=>{for(const s in t)(r||s!=="_")&&(e[s]=t[s])},kd=(e,t,r)=>{const s=e.slots=Af();if(e.vnode.shapeFlag&32){const f=t._;f?(Rf(s,t,r),r&&Hl(s,"_",f,!0)):Lf(t,s)}else t&&Of(e,t)},Md=(e,t,r)=>{const{vnode:s,slots:f}=e;let u=!0,c=Te;if(s.shapeFlag&32){const a=t._;a?r&&a===1?u=!1:Rf(f,t,r):(u=!t.$stable,Lf(t,f)),c=t}else t&&(Of(e,t),c={default:1});if(u)for(const a in f)!Bf(a)&&c[a]==null&&delete f[a]},ft=Qd;function Dd(e){return Nd(e)}function Nd(e,t){const r=Ir();r.__VUE__=!0;const{insert:s,remove:f,patchProp:u,createElement:c,createText:a,createComment:p,setText:v,setElementText:g,parentNode:y,nextSibling:E,setScopeId:m=Se,insertStaticContent:U}=e,n=(x,T,P,R=null,L=null,O=null,H=void 0,N=null,D=!!T.dynamicChildren)=>{if(x===T)return;x&&!Di(x,T)&&(R=$t(x),Ie(x,L,O,!0),x=null),T.patchFlag===-2&&(D=!1,T.dynamicChildren=null);const{type:z,ref:Z,shapeFlag:V}=T;switch(z){case Nn:o(x,T,P,R);break;case Xt:l(x,T,P,R);break;case es:x==null&&d(T,P,R,H);break;case Le:A(x,T,P,R,L,O,H,N,D);break;default:V&1?b(x,T,P,R,L,O,H,N,D):V&6?W(x,T,P,R,L,O,H,N,D):(V&64||V&128)&&z.process(x,T,P,R,L,O,H,N,D,Ee)}Z!=null&&L&&pr(Z,x&&x.ref,O,T||x,!T)},o=(x,T,P,R)=>{if(x==null)s(T.el=a(T.children),P,R);else{const L=T.el=x.el;T.children!==x.children&&v(L,T.children)}},l=(x,T,P,R)=>{x==null?s(T.el=p(T.children||""),P,R):T.el=x.el},d=(x,T,P,R)=>{[x.el,x.anchor]=U(x.children,T,P,R,x.el,x.anchor)},h=({el:x,anchor:T},P,R)=>{let L;for(;x&&x!==T;)L=E(x),s(x,P,R),x=L;s(T,P,R)},_=({el:x,anchor:T})=>{let P;for(;x&&x!==T;)P=E(x),f(x),x=P;f(T)},b=(x,T,P,R,L,O,H,N,D)=>{T.type==="svg"?H="svg":T.type==="math"&&(H="mathml"),x==null?S(T,P,R,L,O,H,N,D):I(x,T,L,O,H,N,D)},S=(x,T,P,R,L,O,H,N)=>{let D,z;const{props:Z,shapeFlag:V,transition:F,dirs:j}=x;if(D=x.el=c(x.type,O,Z&&Z.is,Z),V&8?g(D,x.children):V&16&&B(x.children,D,null,R,L,Qr(x,O),H,N),j&&vi(x,null,R,"created"),C(D,x,x.scopeId,H,R),Z){for(const xe in Z)xe!=="value"&&!_n(xe)&&u(D,xe,null,Z[xe],O,R);"value"in Z&&u(D,"value",null,Z.value,O),(z=Z.onVnodeBeforeMount)&&Lt(z,R,x)}j&&vi(x,null,R,"beforeMount");const se=$d(L,F);se&&F.beforeEnter(D),s(D,T,P),((z=Z&&Z.onVnodeMounted)||se||j)&&ft(()=>{z&&Lt(z,R,x),se&&F.enter(D),j&&vi(x,null,R,"mounted")},L)},C=(x,T,P,R,L)=>{if(P&&m(x,P),R)for(let O=0;O<R.length;O++)m(x,R[O]);if(L){let O=L.subTree;if(T===O||Nf(O.type)&&(O.ssContent===T||O.ssFallback===T)){const H=L.vnode;C(x,H,H.scopeId,H.slotScopeIds,L.parent)}}},B=(x,T,P,R,L,O,H,N,D=0)=>{for(let z=D;z<x.length;z++){const Z=x[z]=N?oi(x[z]):Mt(x[z]);n(null,Z,T,P,R,L,O,H,N)}},I=(x,T,P,R,L,O,H)=>{const N=T.el=x.el;let{patchFlag:D,dynamicChildren:z,dirs:Z}=T;D|=x.patchFlag&16;const V=x.props||Te,F=T.props||Te;let j;if(P&&yi(P,!1),(j=F.onVnodeBeforeUpdate)&&Lt(j,P,T,x),Z&&vi(T,x,P,"beforeUpdate"),P&&yi(P,!0),(V.innerHTML&&F.innerHTML==null||V.textContent&&F.textContent==null)&&g(N,""),z?k(x.dynamicChildren,z,N,P,R,Qr(T,L),O):H||X(x,T,N,null,P,R,Qr(T,L),O,!1),D>0){if(D&16)G(N,V,F,P,L);else if(D&2&&V.class!==F.class&&u(N,"class",null,F.class,L),D&4&&u(N,"style",V.style,F.style,L),D&8){const se=T.dynamicProps;for(let xe=0;xe<se.length;xe++){const pe=se[xe],ot=V[pe],tt=F[pe];(tt!==ot||pe==="value")&&u(N,pe,ot,tt,L,P)}}D&1&&x.children!==T.children&&g(N,T.children)}else!H&&z==null&&G(N,V,F,P,L);((j=F.onVnodeUpdated)||Z)&&ft(()=>{j&&Lt(j,P,T,x),Z&&vi(T,x,P,"updated")},R)},k=(x,T,P,R,L,O,H)=>{for(let N=0;N<T.length;N++){const D=x[N],z=T[N],Z=D.el&&(D.type===Le||!Di(D,z)||D.shapeFlag&70)?y(D.el):P;n(D,z,Z,null,R,L,O,H,!0)}},G=(x,T,P,R,L)=>{if(T!==P){if(T!==Te)for(const O in T)!_n(O)&&!(O in P)&&u(x,O,T[O],null,L,R);for(const O in P){if(_n(O))continue;const H=P[O],N=T[O];H!==N&&O!=="value"&&u(x,O,N,H,L,R)}"value"in P&&u(x,"value",T.value,P.value,L)}},A=(x,T,P,R,L,O,H,N,D)=>{const z=T.el=x?x.el:a(""),Z=T.anchor=x?x.anchor:a("");let{patchFlag:V,dynamicChildren:F,slotScopeIds:j}=T;j&&(N=N?N.concat(j):j),x==null?(s(z,P,R),s(Z,P,R),B(T.children||[],P,Z,L,O,H,N,D)):V>0&&V&64&&F&&x.dynamicChildren?(k(x.dynamicChildren,F,P,L,O,H,N),(T.key!=null||L&&T===L.subTree)&&zf(x,T,!0)):X(x,T,P,Z,L,O,H,N,D)},W=(x,T,P,R,L,O,H,N,D)=>{T.slotScopeIds=N,x==null?T.shapeFlag&512?L.ctx.activate(T,P,R,H,D):Q(T,P,R,L,O,H,D):ke(x,T,D)},Q=(x,T,P,R,L,O,H)=>{const N=x.component=sh(x,R,L);if(mf(x)&&(N.ctx.renderer=Ee),oh(N,!1,H),N.asyncDep){if(L&&L.registerDep(N,we,H),!x.el){const D=N.subTree=le(Xt);l(null,D,T,P)}}else we(N,x,T,P,L,O,H)},ke=(x,T,P)=>{const R=T.component=x.component;if(Xd(x,T,P))if(R.asyncDep&&!R.asyncResolved){ne(R,T,P);return}else R.next=T,R.update();else T.el=x.el,R.vnode=T},we=(x,T,P,R,L,O,H)=>{const N=()=>{if(x.isMounted){let{next:V,bu:F,u:j,parent:se,vnode:xe}=x;{const Pt=kf(x);if(Pt){V&&(V.el=xe.el,ne(x,V,H)),Pt.asyncDep.then(()=>{x.isUnmounted||N()});return}}let pe=V,ot;yi(x,!1),V?(V.el=xe.el,ne(x,V,H)):V=xe,F&&er(F),(ot=V.props&&V.props.onVnodeBeforeUpdate)&&Lt(ot,se,V,xe),yi(x,!0);const tt=Jo(x),It=x.subTree;x.subTree=tt,n(It,tt,y(It.el),$t(It),x,L,O),V.el=tt.el,pe===null&&Jd(x,tt.el),j&&ft(j,L),(ot=V.props&&V.props.onVnodeUpdated)&&ft(()=>Lt(ot,se,V,xe),L)}else{let V;const{el:F,props:j}=T,{bm:se,m:xe,parent:pe,root:ot,type:tt}=x,It=Yi(T);yi(x,!1),se&&er(se),!It&&(V=j&&j.onVnodeBeforeMount)&&Lt(V,pe,T),yi(x,!0);{ot.ce&&ot.ce._injectChildStyle(tt);const Pt=x.subTree=Jo(x);n(null,Pt,P,R,x,L,O),T.el=Pt.el}if(xe&&ft(xe,L),!It&&(V=j&&j.onVnodeMounted)){const Pt=T;ft(()=>Lt(V,pe,Pt),L)}(T.shapeFlag&256||pe&&Yi(pe.vnode)&&pe.vnode.shapeFlag&256)&&x.a&&ft(x.a,L),x.isMounted=!0,T=P=R=null}};x.scope.on();const D=x.effect=new Wl(N);x.scope.off();const z=x.update=D.run.bind(D),Z=x.job=D.runIfDirty.bind(D);Z.i=x,Z.id=x.uid,D.scheduler=()=>lo(Z),yi(x,!0),z()},ne=(x,T,P)=>{T.component=x;const R=x.vnode.props;x.vnode=T,x.next=null,Od(x,T.props,R,P),Md(x,T.children,P),hi(),Go(x),pi()},X=(x,T,P,R,L,O,H,N,D=!1)=>{const z=x&&x.children,Z=x?x.shapeFlag:0,V=T.children,{patchFlag:F,shapeFlag:j}=T;if(F>0){if(F&128){Ne(z,V,P,R,L,O,H,N,D);return}else if(F&256){Pe(z,V,P,R,L,O,H,N,D);return}}j&8?(Z&16&&st(z,L,O),V!==z&&g(P,V)):Z&16?j&16?Ne(z,V,P,R,L,O,H,N,D):st(z,L,O,!0):(Z&8&&g(P,""),j&16&&B(V,P,R,L,O,H,N,D))},Pe=(x,T,P,R,L,O,H,N,D)=>{x=x||Hi,T=T||Hi;const z=x.length,Z=T.length,V=Math.min(z,Z);let F;for(F=0;F<V;F++){const j=T[F]=D?oi(T[F]):Mt(T[F]);n(x[F],j,P,null,L,O,H,N,D)}z>Z?st(x,L,O,!0,!1,V):B(T,P,R,L,O,H,N,D,V)},Ne=(x,T,P,R,L,O,H,N,D)=>{let z=0;const Z=T.length;let V=x.length-1,F=Z-1;for(;z<=V&&z<=F;){const j=x[z],se=T[z]=D?oi(T[z]):Mt(T[z]);if(Di(j,se))n(j,se,P,null,L,O,H,N,D);else break;z++}for(;z<=V&&z<=F;){const j=x[V],se=T[F]=D?oi(T[F]):Mt(T[F]);if(Di(j,se))n(j,se,P,null,L,O,H,N,D);else break;V--,F--}if(z>V){if(z<=F){const j=F+1,se=j<Z?T[j].el:R;for(;z<=F;)n(null,T[z]=D?oi(T[z]):Mt(T[z]),P,se,L,O,H,N,D),z++}}else if(z>F)for(;z<=V;)Ie(x[z],L,O,!0),z++;else{const j=z,se=z,xe=new Map;for(z=se;z<=F;z++){const at=T[z]=D?oi(T[z]):Mt(T[z]);at.key!=null&&xe.set(at.key,z)}let pe,ot=0;const tt=F-se+1;let It=!1,Pt=0;const rn=new Array(tt);for(z=0;z<tt;z++)rn[z]=0;for(z=j;z<=V;z++){const at=x[z];if(ot>=tt){Ie(at,L,O,!0);continue}let Bt;if(at.key!=null)Bt=xe.get(at.key);else for(pe=se;pe<=F;pe++)if(rn[pe-se]===0&&Di(at,T[pe])){Bt=pe;break}Bt===void 0?Ie(at,L,O,!0):(rn[Bt-se]=z+1,Bt>=Pt?Pt=Bt:It=!0,n(at,T[Bt],P,null,L,O,H,N,D),ot++)}const ko=It?Hd(rn):Hi;for(pe=ko.length-1,z=tt-1;z>=0;z--){const at=se+z,Bt=T[at],Mo=at+1<Z?T[at+1].el:R;rn[z]===0?n(null,Bt,P,Mo,L,O,H,N,D):It&&(pe<0||z!==ko[pe]?Ge(Bt,P,Mo,2):pe--)}}},Ge=(x,T,P,R,L=null)=>{const{el:O,type:H,transition:N,children:D,shapeFlag:z}=x;if(z&6){Ge(x.component.subTree,T,P,R);return}if(z&128){x.suspense.move(T,P,R);return}if(z&64){H.move(x,T,P,Ee);return}if(H===Le){s(O,T,P);for(let V=0;V<D.length;V++)Ge(D[V],T,P,R);s(x.anchor,T,P);return}if(H===es){h(x,T,P);return}if(R!==2&&z&1&&N)if(R===0)N.beforeEnter(O),s(O,T,P),ft(()=>N.enter(O),L);else{const{leave:V,delayLeave:F,afterLeave:j}=N,se=()=>s(O,T,P),xe=()=>{V(O,()=>{se(),j&&j()})};F?F(O,se,xe):xe()}else s(O,T,P)},Ie=(x,T,P,R=!1,L=!1)=>{const{type:O,props:H,ref:N,children:D,dynamicChildren:z,shapeFlag:Z,patchFlag:V,dirs:F,cacheIndex:j}=x;if(V===-2&&(L=!1),N!=null&&pr(N,null,P,x,!0),j!=null&&(T.renderCache[j]=void 0),Z&256){T.ctx.deactivate(x);return}const se=Z&1&&F,xe=!Yi(x);let pe;if(xe&&(pe=H&&H.onVnodeBeforeUnmount)&&Lt(pe,T,x),Z&6)Oi(x.component,P,R);else{if(Z&128){x.suspense.unmount(P,R);return}se&&vi(x,null,T,"beforeUnmount"),Z&64?x.type.remove(x,T,P,Ee,R):z&&!z.hasOnce&&(O!==Le||V>0&&V&64)?st(z,T,P,!1,!0):(O===Le&&V&384||!L&&Z&16)&&st(D,T,P),R&&et(x)}(xe&&(pe=H&&H.onVnodeUnmounted)||se)&&ft(()=>{pe&&Lt(pe,T,x),se&&vi(x,null,T,"unmounted")},P)},et=x=>{const{type:T,el:P,anchor:R,transition:L}=x;if(T===Le){ie(P,R);return}if(T===es){_(x);return}const O=()=>{f(P),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(x.shapeFlag&1&&L&&!L.persisted){const{leave:H,delayLeave:N}=L,D=()=>H(P,O);N?N(x.el,O,D):D()}else O()},ie=(x,T)=>{let P;for(;x!==T;)P=E(x),f(x),x=P;f(T)},Oi=(x,T,P)=>{const{bum:R,scope:L,job:O,subTree:H,um:N,m:D,a:z}=x;Xo(D),Xo(z),R&&er(R),L.stop(),O&&(O.flags|=8,Ie(H,x,T,P)),N&&ft(N,T),ft(()=>{x.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},st=(x,T,P,R=!1,L=!1,O=0)=>{for(let H=O;H<x.length;H++)Ie(x[H],T,P,R,L)},$t=x=>{if(x.shapeFlag&6)return $t(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const T=E(x.anchor||x.el),P=T&&T[ad];return P?E(P):T};let q=!1;const ae=(x,T,P)=>{x==null?T._vnode&&Ie(T._vnode,null,null,!0):n(T._vnode||null,x,T,null,null,null,P),T._vnode=x,q||(q=!0,Go(),hf(),q=!1)},Ee={p:n,um:Ie,m:Ge,r:et,mt:Q,mc:B,pc:X,pbc:k,n:$t,o:e};return{render:ae,hydrate:void 0,createApp:Bd(ae)}}function Qr({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function yi({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $d(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function zf(e,t,r=!1){const s=e.children,f=t.children;if(K(s)&&K(f))for(let u=0;u<s.length;u++){const c=s[u];let a=f[u];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=f[u]=oi(f[u]),a.el=c.el),!r&&a.patchFlag!==-2&&zf(c,a)),a.type===Nn&&(a.el=c.el)}}function Hd(e){const t=e.slice(),r=[0];let s,f,u,c,a;const p=e.length;for(s=0;s<p;s++){const v=e[s];if(v!==0){if(f=r[r.length-1],e[f]<v){t[s]=f,r.push(s);continue}for(u=0,c=r.length-1;u<c;)a=u+c>>1,e[r[a]]<v?u=a+1:c=a;v<e[r[u]]&&(u>0&&(t[s]=r[u-1]),r[u]=s)}}for(u=r.length,c=r[u-1];u-- >0;)r[u]=c,c=t[c];return r}function kf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:kf(t)}function Xo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gd=Symbol.for("v-scx"),Vd=()=>Re(Gd);function jd(e,t){return ho(e,null,t)}function ze(e,t,r){return ho(e,t,r)}function ho(e,t,r=Te){const{immediate:s,deep:f,flush:u,once:c}=r,a=Me({},r),p=t&&s||!t&&u!=="post";let v;if(Pn){if(u==="sync"){const m=Vd();v=m.__watcherHandles||(m.__watcherHandles=[])}else if(!p){const m=()=>{};return m.stop=Se,m.resume=Se,m.pause=Se,m}}const g=Ve;a.call=(m,U,n)=>At(m,g,U,n);let y=!1;u==="post"?a.scheduler=m=>{ft(m,g&&g.suspense)}:u!=="sync"&&(y=!0,a.scheduler=(m,U)=>{U?m():lo(m)}),a.augmentJob=m=>{t&&(m.flags|=4),y&&(m.flags|=2,g&&(m.id=g.uid,m.i=g))};const E=nd(e,t,a);return Pn&&(v?v.push(E):p&&E()),E}function Yd(e,t,r){const s=this.proxy,f=he(e)?e.includes(".")?Mf(s,e):()=>s[e]:e.bind(s,s);let u;J(t)?u=t:(u=t.handler,r=t);const c=$n(this),a=ho(f,u.bind(s),r);return c(),a}function Mf(e,t){const r=t.split(".");return()=>{let s=e;for(let f=0;f<r.length&&s;f++)s=s[r[f]];return s}}const Wd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bt(t)}Modifiers`]||e[`${di(t)}Modifiers`];function Kd(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||Te;let f=r;const u=t.startsWith("update:"),c=u&&Wd(s,t.slice(7));c&&(c.trim&&(f=r.map(g=>he(g)?g.trim():g)),c.number&&(f=r.map(yc)));let a,p=s[a=Wr(t)]||s[a=Wr(bt(t))];!p&&u&&(p=s[a=Wr(di(t))]),p&&At(p,e,6,f);const v=s[a+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,At(v,e,6,f)}}function Df(e,t,r=!1){const s=t.emitsCache,f=s.get(e);if(f!==void 0)return f;const u=e.emits;let c={},a=!1;if(!J(e)){const p=v=>{const g=Df(v,t,!0);g&&(a=!0,Me(c,g))};!r&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!a?(me(e)&&s.set(e,null),null):(K(u)?u.forEach(p=>c[p]=null):Me(c,u),me(e)&&s.set(e,c),c)}function Rr(e,t){return!e||!Cr(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,di(t))||_e(e,t))}function Jo(e){const{type:t,vnode:r,proxy:s,withProxy:f,propsOptions:[u],slots:c,attrs:a,emit:p,render:v,renderCache:g,props:y,data:E,setupState:m,ctx:U,inheritAttrs:n}=e,o=hr(e);let l,d;try{if(r.shapeFlag&4){const _=f||s,b=_;l=Mt(v.call(b,_,g,y,m,E,U)),d=a}else{const _=t;l=Mt(_.length>1?_(y,{attrs:a,slots:c,emit:p}):_(y,null)),d=t.props?a:qd(a)}}catch(_){bn.length=0,Br(_,e,1),l=le(Xt)}let h=l;if(d&&n!==!1){const _=Object.keys(d),{shapeFlag:b}=h;_.length&&b&7&&(u&&_.some(Zs)&&(d=Zd(d,u)),h=Ti(h,d,!1,!0))}return r.dirs&&(h=Ti(h,null,!1,!0),h.dirs=h.dirs?h.dirs.concat(r.dirs):r.dirs),r.transition&&Fn(h,r.transition),l=h,hr(o),l}const qd=e=>{let t;for(const r in e)(r==="class"||r==="style"||Cr(r))&&((t||(t={}))[r]=e[r]);return t},Zd=(e,t)=>{const r={};for(const s in e)(!Zs(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Xd(e,t,r){const{props:s,children:f,component:u}=e,{props:c,children:a,patchFlag:p}=t,v=u.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&p>=0){if(p&1024)return!0;if(p&16)return s?Qo(s,c,v):!!c;if(p&8){const g=t.dynamicProps;for(let y=0;y<g.length;y++){const E=g[y];if(c[E]!==s[E]&&!Rr(v,E))return!0}}}else return(f||a)&&(!a||!a.$stable)?!0:s===c?!1:s?c?Qo(s,c,v):!0:!!c;return!1}function Qo(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let f=0;f<s.length;f++){const u=s[f];if(t[u]!==e[u]&&!Rr(r,u))return!0}return!1}function Jd({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Nf=e=>e.__isSuspense;function Qd(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):od(e)}const Le=Symbol.for("v-fgt"),Nn=Symbol.for("v-txt"),Xt=Symbol.for("v-cmt"),es=Symbol.for("v-stc"),bn=[];let ct=null;function $(e=!1){bn.push(ct=e?null:[])}function eh(){bn.pop(),ct=bn[bn.length-1]||null}let In=1;function ea(e,t=!1){In+=e,e<0&&ct&&t&&(ct.hasOnce=!0)}function $f(e){return e.dynamicChildren=In>0?ct||Hi:null,eh(),In>0&&ct&&ct.push(e),e}function ee(e,t,r,s,f,u){return $f(re(e,t,r,s,f,u,!0))}function ve(e,t,r,s,f){return $f(le(e,t,r,s,f,!0))}function po(e){return e?e.__v_isVNode===!0:!1}function Di(e,t){return e.type===t.type&&e.key===t.key}const Hf=({key:e})=>e??null,tr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||Oe(e)||J(e)?{i:$e,r:e,k:t,f:!!r}:e:null);function re(e,t=null,r=null,s=0,f=null,u=e===Le?0:1,c=!1,a=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Hf(t),ref:t&&tr(t),scopeId:gf,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:$e};return a?(go(p,r),u&128&&e.normalize(p)):r&&(p.shapeFlag|=he(r)?8:16),In>0&&!c&&ct&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&ct.push(p),p}const le=th;function th(e,t=null,r=null,s=0,f=null,u=!1){if((!e||e===wf)&&(e=Xt),po(e)){const a=Ti(e,t,!0);return r&&go(a,r),In>0&&!u&&ct&&(a.shapeFlag&6?ct[ct.indexOf(e)]=a:ct.push(a)),a.patchFlag=-2,a}if(uh(e)&&(e=e.__vccOpts),t){t=ih(t);let{class:a,style:p}=t;a&&!he(a)&&(t.class=Y(a)),me(p)&&(oo(p)&&!K(p)&&(p=Me({},p)),t.style=Je(p))}const c=he(e)?1:Nf(e)?128:ld(e)?64:me(e)?4:J(e)?2:0;return re(e,t,r,s,f,c,u,!0)}function ih(e){return e?oo(e)||Ff(e)?Me({},e):e:null}function Ti(e,t,r=!1,s=!1){const{props:f,ref:u,patchFlag:c,children:a,transition:p}=e,v=t?Ci(f||{},t):f,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&Hf(v),ref:t&&t.ref?r&&u?K(u)?u.concat(tr(t)):[u,tr(t)]:tr(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ti(e.ssContent),ssFallback:e.ssFallback&&Ti(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&s&&Fn(g,p.clone(g)),g}function qi(e=" ",t=0){return le(Nn,null,e,t)}function te(e="",t=!1){return t?($(),ve(Xt,null,e)):le(Xt,null,e)}function Mt(e){return e==null||typeof e=="boolean"?le(Xt):K(e)?le(Le,null,e.slice()):po(e)?oi(e):le(Nn,null,String(e))}function oi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ti(e)}function go(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(K(t))r=16;else if(typeof t=="object")if(s&65){const f=t.default;f&&(f._c&&(f._d=!1),go(e,f()),f._c&&(f._d=!0));return}else{r=32;const f=t._;!f&&!Ff(t)?t._ctx=$e:f===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else J(t)?(t={default:t,_ctx:$e},r=32):(t=String(t),s&64?(r=16,t=[qi(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ci(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const f in s)if(f==="class")t.class!==s.class&&(t.class=Y([t.class,s.class]));else if(f==="style")t.style=Je([t.style,s.style]);else if(Cr(f)){const u=t[f],c=s[f];c&&u!==c&&!(K(u)&&u.includes(c))&&(t[f]=u?[].concat(u,c):c)}else f!==""&&(t[f]=s[f])}return t}function Lt(e,t,r,s=null){At(e,t,7,[r,s])}const nh=Tf();let rh=0;function sh(e,t,r){const s=e.type,f=(t?t.appContext:e.appContext)||nh,u={uid:rh++,vnode:e,type:s,parent:t,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(f.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pf(s,f),emitsOptions:Df(s,f),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:s.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=Kd.bind(null,u),e.ce&&e.ce(u),u}let Ve=null;const Dt=()=>Ve||$e;let _r,As;{const e=Ir(),t=(r,s)=>{let f;return(f=e[r])||(f=e[r]=[]),f.push(s),u=>{f.length>1?f.forEach(c=>c(u)):f[0](u)}};_r=t("__VUE_INSTANCE_SETTERS__",r=>Ve=r),As=t("__VUE_SSR_SETTERS__",r=>Pn=r)}const $n=e=>{const t=Ve;return _r(e),e.scope.on(),()=>{e.scope.off(),_r(t)}},ta=()=>{Ve&&Ve.scope.off(),_r(null)};function Gf(e){return e.vnode.shapeFlag&4}let Pn=!1;function oh(e,t=!1,r=!1){t&&As(t);const{props:s,children:f}=e.vnode,u=Gf(e);Ld(e,s,u,t),kd(e,f,r);const c=u?ah(e,t):void 0;return t&&As(!1),c}function ah(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ed);const{setup:s}=r;if(s){hi();const f=e.setupContext=s.length>1?jf(e):null,u=$n(e),c=Mn(s,e,0,[e.props,f]),a=Nl(c);if(pi(),u(),(a||e.sp)&&!Yi(e)&&yf(e),a){if(c.then(ta,ta),t)return c.then(p=>{ia(e,p)}).catch(p=>{Br(p,e,0)});e.asyncDep=c}else ia(e,c)}else Vf(e)}function ia(e,t,r){J(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=ff(t)),Vf(e)}function Vf(e,t,r){const s=e.type;e.render||(e.render=s.render||Se);{const f=$n(e);hi();try{Td(e)}finally{pi(),f()}}}const lh={get(e,t){return We(e,"get",""),e[t]}};function jf(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,lh),slots:e.slots,emit:e.emit,expose:t}}function zr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ff(qc(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in mn)return mn[r](e)},has(t,r){return r in t||r in mn}})):e.proxy}function fh(e,t=!0){return J(e)?e.displayName||e.name:e.name||t&&e.__name}function uh(e){return J(e)&&"__vccOpts"in e}const M=(e,t)=>td(e,t,Pn),ch="3.5.13",dh=Se;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fs;const na=typeof window<"u"&&window.trustedTypes;if(na)try{Fs=na.createPolicy("vue",{createHTML:e=>e})}catch{}const Yf=Fs?e=>Fs.createHTML(e):e=>e,hh="http://www.w3.org/2000/svg",ph="http://www.w3.org/1998/Math/MathML",Yt=typeof document<"u"?document:null,ra=Yt&&Yt.createElement("template"),gh={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const f=t==="svg"?Yt.createElementNS(hh,e):t==="mathml"?Yt.createElementNS(ph,e):r?Yt.createElement(e,{is:r}):Yt.createElement(e);return e==="select"&&s&&s.multiple!=null&&f.setAttribute("multiple",s.multiple),f},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,f,u){const c=r?r.previousSibling:t.lastChild;if(f&&(f===u||f.nextSibling))for(;t.insertBefore(f.cloneNode(!0),r),!(f===u||!(f=f.nextSibling)););else{ra.innerHTML=Yf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=ra.content;if(s==="svg"||s==="mathml"){const p=a.firstChild;for(;p.firstChild;)a.appendChild(p.firstChild);a.removeChild(p)}t.insertBefore(a,r)}return[c?c.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ti="transition",on="animation",Zi=Symbol("_vtc"),Wf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_h=Me({},ud,Wf),mi=(e,t=[])=>{K(e)?e.forEach(r=>r(...t)):e&&e(...t)},sa=e=>e?K(e)?e.some(t=>t.length>1):e.length>1:!1;function vh(e){const t={};for(const A in e)A in Wf||(t[A]=e[A]);if(e.css===!1)return t;const{name:r="v",type:s,duration:f,enterFromClass:u=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:p=u,appearActiveClass:v=c,appearToClass:g=a,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:E=`${r}-leave-active`,leaveToClass:m=`${r}-leave-to`}=e,U=yh(f),n=U&&U[0],o=U&&U[1],{onBeforeEnter:l,onEnter:d,onEnterCancelled:h,onLeave:_,onLeaveCancelled:b,onBeforeAppear:S=l,onAppear:C=d,onAppearCancelled:B=h}=t,I=(A,W,Q,ke)=>{A._enterCancelled=ke,ni(A,W?g:a),ni(A,W?v:c),Q&&Q()},k=(A,W)=>{A._isLeaving=!1,ni(A,y),ni(A,m),ni(A,E),W&&W()},G=A=>(W,Q)=>{const ke=A?C:d,we=()=>I(W,A,Q);mi(ke,[W,we]),oa(()=>{ni(W,A?p:u),Ot(W,A?g:a),sa(ke)||aa(W,s,n,we)})};return Me(t,{onBeforeEnter(A){mi(l,[A]),Ot(A,u),Ot(A,c)},onBeforeAppear(A){mi(S,[A]),Ot(A,p),Ot(A,v)},onEnter:G(!1),onAppear:G(!0),onLeave(A,W){A._isLeaving=!0;const Q=()=>k(A,W);Ot(A,y),A._enterCancelled?(Ot(A,E),Is()):(Is(),Ot(A,E)),oa(()=>{A._isLeaving&&(ni(A,y),Ot(A,m),sa(_)||aa(A,s,o,Q))}),mi(_,[A,Q])},onEnterCancelled(A){I(A,!1,void 0,!0),mi(h,[A])},onAppearCancelled(A){I(A,!0,void 0,!0),mi(B,[A])},onLeaveCancelled(A){k(A),mi(b,[A])}})}function yh(e){if(e==null)return null;if(me(e))return[ts(e.enter),ts(e.leave)];{const t=ts(e);return[t,t]}}function ts(e){return mc(e)}function Ot(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Zi]||(e[Zi]=new Set)).add(t)}function ni(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[Zi];r&&(r.delete(t),r.size||(e[Zi]=void 0))}function oa(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mh=0;function aa(e,t,r,s){const f=e._endId=++mh,u=()=>{f===e._endId&&s()};if(r!=null)return setTimeout(u,r);const{type:c,timeout:a,propCount:p}=Kf(e,t);if(!c)return s();const v=c+"end";let g=0;const y=()=>{e.removeEventListener(v,E),u()},E=m=>{m.target===e&&++g>=p&&y()};setTimeout(()=>{g<p&&y()},a+1),e.addEventListener(v,E)}function Kf(e,t){const r=window.getComputedStyle(e),s=U=>(r[U]||"").split(", "),f=s(`${ti}Delay`),u=s(`${ti}Duration`),c=la(f,u),a=s(`${on}Delay`),p=s(`${on}Duration`),v=la(a,p);let g=null,y=0,E=0;t===ti?c>0&&(g=ti,y=c,E=u.length):t===on?v>0&&(g=on,y=v,E=p.length):(y=Math.max(c,v),g=y>0?c>v?ti:on:null,E=g?g===ti?u.length:p.length:0);const m=g===ti&&/\b(transform|all)(,|$)/.test(s(`${ti}Property`).toString());return{type:g,timeout:y,propCount:E,hasTransform:m}}function la(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>fa(r)+fa(e[s])))}function fa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Is(){return document.body.offsetHeight}function bh(e,t,r){const s=e[Zi];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const ua=Symbol("_vod"),wh=Symbol("_vsh"),xh=Symbol(""),Sh=/(^|;)\s*display\s*:/;function Eh(e,t,r){const s=e.style,f=he(r);let u=!1;if(r&&!f){if(t)if(he(t))for(const c of t.split(";")){const a=c.slice(0,c.indexOf(":")).trim();r[a]==null&&ir(s,a,"")}else for(const c in t)r[c]==null&&ir(s,c,"");for(const c in r)c==="display"&&(u=!0),ir(s,c,r[c])}else if(f){if(t!==r){const c=s[xh];c&&(r+=";"+c),s.cssText=r,u=Sh.test(r)}}else t&&e.removeAttribute("style");ua in e&&(e[ua]=u?s.display:"",e[wh]&&(s.display="none"))}const ca=/\s*!important$/;function ir(e,t,r){if(K(r))r.forEach(s=>ir(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Uh(e,t);ca.test(r)?e.setProperty(di(s),r.replace(ca,""),"important"):e[s]=r}}const da=["Webkit","Moz","ms"],is={};function Uh(e,t){const r=is[t];if(r)return r;let s=bt(t);if(s!=="filter"&&s in e)return is[t]=s;s=Fr(s);for(let f=0;f<da.length;f++){const u=da[f]+s;if(u in e)return is[t]=u}return t}const ha="http://www.w3.org/1999/xlink";function pa(e,t,r,s,f,u=Uc(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(ha,t.slice(6,t.length)):e.setAttributeNS(ha,t,r):r==null||u&&!Gl(r)?e.removeAttribute(t):e.setAttribute(t,u?"":Ct(r)?String(r):r)}function ga(e,t,r,s,f){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Yf(r):r);return}const u=e.tagName;if(t==="value"&&u!=="PROGRESS"&&!u.includes("-")){const a=u==="OPTION"?e.getAttribute("value")||"":e.value,p=r==null?e.type==="checkbox"?"on":"":String(r);(a!==p||!("_value"in e))&&(e.value=p),r==null&&e.removeAttribute(t),e._value=r;return}let c=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Gl(r):r==null&&a==="string"?(r="",c=!0):a==="number"&&(r=0,c=!0)}try{e[t]=r}catch{}c&&e.removeAttribute(f||t)}function qf(e,t,r,s){e.addEventListener(t,r,s)}function Th(e,t,r,s){e.removeEventListener(t,r,s)}const _a=Symbol("_vei");function Ch(e,t,r,s,f=null){const u=e[_a]||(e[_a]={}),c=u[t];if(s&&c)c.value=s;else{const[a,p]=Ah(t);if(s){const v=u[t]=Ph(s,f);qf(e,a,v,p)}else c&&(Th(e,a,c,p),u[t]=void 0)}}const va=/(?:Once|Passive|Capture)$/;function Ah(e){let t;if(va.test(e)){t={};let s;for(;s=e.match(va);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):di(e.slice(2)),t]}let ns=0;const Fh=Promise.resolve(),Ih=()=>ns||(Fh.then(()=>ns=0),ns=Date.now());function Ph(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;At(Bh(s,r.value),t,5,[s])};return r.value=e,r.attached=Ih(),r}function Bh(e,t){if(K(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>f=>!f._stopped&&s&&s(f))}else return t}const ya=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Lh=(e,t,r,s,f,u)=>{const c=f==="svg";t==="class"?bh(e,s,c):t==="style"?Eh(e,r,s):Cr(t)?Zs(t)||Ch(e,t,r,s,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Oh(e,t,s,c))?(ga(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&pa(e,t,s,c,u,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!he(s))?ga(e,bt(t),s,u,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),pa(e,t,s,c))};function Oh(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ya(t)&&J(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const f=e.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return ya(t)&&he(r)?!1:t in e}const Zf=new WeakMap,Xf=new WeakMap,vr=Symbol("_moveCb"),ma=Symbol("_enterCb"),Rh=e=>(delete e.props.mode,e),zh=Rh({name:"TransitionGroup",props:Me({},_h,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Dt(),s=fd();let f,u;return fo(()=>{if(!f.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!Nh(f[0].el,r.vnode.el,c))return;f.forEach(kh),f.forEach(Mh);const a=f.filter(Dh);Is(),a.forEach(p=>{const v=p.el,g=v.style;Ot(v,c),g.transform=g.webkitTransform=g.transitionDuration="";const y=v[vr]=E=>{E&&E.target!==v||(!E||/transform$/.test(E.propertyName))&&(v.removeEventListener("transitionend",y),v[vr]=null,ni(v,c))};v.addEventListener("transitionend",y)})}),()=>{const c=ge(e),a=vh(c);let p=c.tag||Le;if(f=[],u)for(let v=0;v<u.length;v++){const g=u[v];g.el&&g.el instanceof Element&&(f.push(g),Fn(g,Ss(g,a,s,r)),Zf.set(g,g.el.getBoundingClientRect()))}u=t.default?vf(t.default()):[];for(let v=0;v<u.length;v++){const g=u[v];g.key!=null&&Fn(g,Ss(g,a,s,r))}return le(p,null,u)}}}),Jf=zh;function kh(e){const t=e.el;t[vr]&&t[vr](),t[ma]&&t[ma]()}function Mh(e){Xf.set(e,e.el.getBoundingClientRect())}function Dh(e){const t=Zf.get(e),r=Xf.get(e),s=t.left-r.left,f=t.top-r.top;if(s||f){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${s}px,${f}px)`,u.transitionDuration="0s",e}}function Nh(e,t,r){const s=e.cloneNode(),f=e[Zi];f&&f.forEach(a=>{a.split(/\s+/).forEach(p=>p&&s.classList.remove(p))}),r.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const u=t.nodeType===1?t:t.parentNode;u.appendChild(s);const{hasTransform:c}=Kf(s);return u.removeChild(s),c}const ba=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?r=>er(t,r):t},rs=Symbol("_assign"),Qf={created(e,{value:t},r){e.checked=fr(t,r.props.value),e[rs]=ba(r),qf(e,"change",()=>{e[rs]($h(e))})},beforeUpdate(e,{value:t,oldValue:r},s){e[rs]=ba(s),t!==r&&(e.checked=fr(t,s.props.value))}};function $h(e){return"_value"in e?e._value:e.value}const Hh=["ctrl","shift","alt","meta"],Gh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hh.some(r=>e[`${r}Key`]&&!t.includes(r))},Tt=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(f,...u)=>{for(let c=0;c<t.length;c++){const a=Gh[t[c]];if(a&&a(f,t))return}return e(f,...u)})},Vh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},eu=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=f=>{if(!("key"in f))return;const u=di(f.key);if(t.some(c=>c===u||Vh[c]===u))return e(f)})},jh=Me({patchProp:Lh},gh);let wa;function Yh(){return wa||(wa=Dd(jh))}const Wh=(...e)=>{const t=Yh().createApp(...e),{mount:r}=t;return t.mount=s=>{const f=qh(s);if(!f)return;const u=t._component;!J(u)&&!u.render&&!u.template&&(u.template=f.innerHTML),f.nodeType===1&&(f.textContent="");const c=r(f,!1,Kh(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),c},t};function Kh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function qh(e){return he(e)?document.querySelector(e):e}const Zh=Symbol(),ss="el",Xh="is-",bi=(e,t,r,s,f)=>{let u=`${e}-${t}`;return r&&(u+=`-${r}`),s&&(u+=`__${s}`),f&&(u+=`--${f}`),u},Jh=Symbol("namespaceContextKey"),tu=e=>{const t=Dt()?Re(Jh,de(ss)):de(ss);return M(()=>w(t)||ss)},He=(e,t)=>{const r=tu();return{namespace:r,b:(n="")=>bi(r.value,e,n,"",""),e:n=>n?bi(r.value,e,"",n,""):"",m:n=>n?bi(r.value,e,"","",n):"",be:(n,o)=>n&&o?bi(r.value,e,n,o,""):"",em:(n,o)=>n&&o?bi(r.value,e,"",n,o):"",bm:(n,o)=>n&&o?bi(r.value,e,n,"",o):"",bem:(n,o,l)=>n&&o&&l?bi(r.value,e,n,o,l):"",is:(n,...o)=>{const l=o.length>=1?o[0]:!0;return n&&l?`${Xh}${n}`:""},cssVar:n=>{const o={};for(const l in n)n[l]&&(o[`--${r.value}-${l}`]=n[l]);return o},cssVarName:n=>`--${r.value}-${n}`,cssVarBlock:n=>{const o={};for(const l in n)n[l]&&(o[`--${r.value}-${e}-${l}`]=n[l]);return o},cssVarBlockName:n=>`--${r.value}-${e}-${n}`}};var iu=typeof global=="object"&&global&&global.Object===Object&&global,Qh=typeof self=="object"&&self&&self.Object===Object&&self,Nt=iu||Qh||Function("return this")(),wt=Nt.Symbol,nu=Object.prototype,ep=nu.hasOwnProperty,tp=nu.toString,an=wt?wt.toStringTag:void 0;function ip(e){var t=ep.call(e,an),r=e[an];try{e[an]=void 0;var s=!0}catch{}var f=tp.call(e);return s&&(t?e[an]=r:delete e[an]),f}var np=Object.prototype,rp=np.toString;function sp(e){return rp.call(e)}var op="[object Null]",ap="[object Undefined]",xa=wt?wt.toStringTag:void 0;function tn(e){return e==null?e===void 0?ap:op:xa&&xa in Object(e)?ip(e):sp(e)}function ci(e){return e!=null&&typeof e=="object"}var lp="[object Symbol]";function _o(e){return typeof e=="symbol"||ci(e)&&tn(e)==lp}function fp(e,t){for(var r=-1,s=e==null?0:e.length,f=Array(s);++r<s;)f[r]=t(e[r],r,e);return f}var Ft=Array.isArray,Sa=wt?wt.prototype:void 0,Ea=Sa?Sa.toString:void 0;function ru(e){if(typeof e=="string")return e;if(Ft(e))return fp(e,ru)+"";if(_o(e))return Ea?Ea.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ai(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function up(e){return e}var cp="[object AsyncFunction]",dp="[object Function]",hp="[object GeneratorFunction]",pp="[object Proxy]";function su(e){if(!Ai(e))return!1;var t=tn(e);return t==dp||t==hp||t==cp||t==pp}var os=Nt["__core-js_shared__"],Ua=function(){var e=/[^.]+$/.exec(os&&os.keys&&os.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gp(e){return!!Ua&&Ua in e}var _p=Function.prototype,vp=_p.toString;function Pi(e){if(e!=null){try{return vp.call(e)}catch{}try{return e+""}catch{}}return""}var yp=/[\\^$.*+?()[\]{}|]/g,mp=/^\[object .+?Constructor\]$/,bp=Function.prototype,wp=Object.prototype,xp=bp.toString,Sp=wp.hasOwnProperty,Ep=RegExp("^"+xp.call(Sp).replace(yp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Up(e){if(!Ai(e)||gp(e))return!1;var t=su(e)?Ep:mp;return t.test(Pi(e))}function Tp(e,t){return e==null?void 0:e[t]}function Bi(e,t){var r=Tp(e,t);return Up(r)?r:void 0}var Ps=Bi(Nt,"WeakMap"),Ta=Object.create,Cp=function(){function e(){}return function(t){if(!Ai(t))return{};if(Ta)return Ta(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Ap(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Fp(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}var Ip=800,Pp=16,Bp=Date.now;function Lp(e){var t=0,r=0;return function(){var s=Bp(),f=Pp-(s-r);if(r=s,f>0){if(++t>=Ip)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Op(e){return function(){return e}}var yr=function(){try{var e=Bi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Rp=yr?function(e,t){return yr(e,"toString",{configurable:!0,enumerable:!1,value:Op(t),writable:!0})}:up,zp=Lp(Rp);function kp(e,t){for(var r=-1,s=e==null?0:e.length;++r<s&&t(e[r],r,e)!==!1;);return e}var Mp=9007199254740991,Dp=/^(?:0|[1-9]\d*)$/;function vo(e,t){var r=typeof e;return t=t??Mp,!!t&&(r=="number"||r!="symbol"&&Dp.test(e))&&e>-1&&e%1==0&&e<t}function ou(e,t,r){t=="__proto__"&&yr?yr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function yo(e,t){return e===t||e!==e&&t!==t}var Np=Object.prototype,$p=Np.hasOwnProperty;function mo(e,t,r){var s=e[t];(!($p.call(e,t)&&yo(s,r))||r===void 0&&!(t in e))&&ou(e,t,r)}function kr(e,t,r,s){var f=!r;r||(r={});for(var u=-1,c=t.length;++u<c;){var a=t[u],p=void 0;p===void 0&&(p=e[a]),f?ou(r,a,p):mo(r,a,p)}return r}var Ca=Math.max;function Hp(e,t,r){return t=Ca(t===void 0?e.length-1:t,0),function(){for(var s=arguments,f=-1,u=Ca(s.length-t,0),c=Array(u);++f<u;)c[f]=s[t+f];f=-1;for(var a=Array(t+1);++f<t;)a[f]=s[f];return a[t]=r(c),Ap(e,this,a)}}var Gp=9007199254740991;function bo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Gp}function au(e){return e!=null&&bo(e.length)&&!su(e)}var Vp=Object.prototype;function wo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Vp;return e===r}function jp(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var Yp="[object Arguments]";function Aa(e){return ci(e)&&tn(e)==Yp}var lu=Object.prototype,Wp=lu.hasOwnProperty,Kp=lu.propertyIsEnumerable,xo=Aa(function(){return arguments}())?Aa:function(e){return ci(e)&&Wp.call(e,"callee")&&!Kp.call(e,"callee")};function qp(){return!1}var fu=typeof ht=="object"&&ht&&!ht.nodeType&&ht,Fa=fu&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,Zp=Fa&&Fa.exports===fu,Ia=Zp?Nt.Buffer:void 0,Xp=Ia?Ia.isBuffer:void 0,mr=Xp||qp,Jp="[object Arguments]",Qp="[object Array]",eg="[object Boolean]",tg="[object Date]",ig="[object Error]",ng="[object Function]",rg="[object Map]",sg="[object Number]",og="[object Object]",ag="[object RegExp]",lg="[object Set]",fg="[object String]",ug="[object WeakMap]",cg="[object ArrayBuffer]",dg="[object DataView]",hg="[object Float32Array]",pg="[object Float64Array]",gg="[object Int8Array]",_g="[object Int16Array]",vg="[object Int32Array]",yg="[object Uint8Array]",mg="[object Uint8ClampedArray]",bg="[object Uint16Array]",wg="[object Uint32Array]",Fe={};Fe[hg]=Fe[pg]=Fe[gg]=Fe[_g]=Fe[vg]=Fe[yg]=Fe[mg]=Fe[bg]=Fe[wg]=!0;Fe[Jp]=Fe[Qp]=Fe[cg]=Fe[eg]=Fe[dg]=Fe[tg]=Fe[ig]=Fe[ng]=Fe[rg]=Fe[sg]=Fe[og]=Fe[ag]=Fe[lg]=Fe[fg]=Fe[ug]=!1;function xg(e){return ci(e)&&bo(e.length)&&!!Fe[tn(e)]}function So(e){return function(t){return e(t)}}var uu=typeof ht=="object"&&ht&&!ht.nodeType&&ht,wn=uu&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,Sg=wn&&wn.exports===uu,as=Sg&&iu.process,Xi=function(){try{var e=wn&&wn.require&&wn.require("util").types;return e||as&&as.binding&&as.binding("util")}catch{}}(),Pa=Xi&&Xi.isTypedArray,cu=Pa?So(Pa):xg,Eg=Object.prototype,Ug=Eg.hasOwnProperty;function du(e,t){var r=Ft(e),s=!r&&xo(e),f=!r&&!s&&mr(e),u=!r&&!s&&!f&&cu(e),c=r||s||f||u,a=c?jp(e.length,String):[],p=a.length;for(var v in e)(t||Ug.call(e,v))&&!(c&&(v=="length"||f&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||vo(v,p)))&&a.push(v);return a}function hu(e,t){return function(r){return e(t(r))}}var Tg=hu(Object.keys,Object),Cg=Object.prototype,Ag=Cg.hasOwnProperty;function Fg(e){if(!wo(e))return Tg(e);var t=[];for(var r in Object(e))Ag.call(e,r)&&r!="constructor"&&t.push(r);return t}function Eo(e){return au(e)?du(e):Fg(e)}function Ig(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Pg=Object.prototype,Bg=Pg.hasOwnProperty;function Lg(e){if(!Ai(e))return Ig(e);var t=wo(e),r=[];for(var s in e)s=="constructor"&&(t||!Bg.call(e,s))||r.push(s);return r}function Uo(e){return au(e)?du(e,!0):Lg(e)}var Og=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rg=/^\w*$/;function zg(e,t){if(Ft(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_o(e)?!0:Rg.test(e)||!Og.test(e)||t!=null&&e in Object(t)}var Bn=Bi(Object,"create");function kg(){this.__data__=Bn?Bn(null):{},this.size=0}function Mg(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dg="__lodash_hash_undefined__",Ng=Object.prototype,$g=Ng.hasOwnProperty;function Hg(e){var t=this.__data__;if(Bn){var r=t[e];return r===Dg?void 0:r}return $g.call(t,e)?t[e]:void 0}var Gg=Object.prototype,Vg=Gg.hasOwnProperty;function jg(e){var t=this.__data__;return Bn?t[e]!==void 0:Vg.call(t,e)}var Yg="__lodash_hash_undefined__";function Wg(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Bn&&t===void 0?Yg:t,this}function Fi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Fi.prototype.clear=kg;Fi.prototype.delete=Mg;Fi.prototype.get=Hg;Fi.prototype.has=jg;Fi.prototype.set=Wg;function Kg(){this.__data__=[],this.size=0}function Mr(e,t){for(var r=e.length;r--;)if(yo(e[r][0],t))return r;return-1}var qg=Array.prototype,Zg=qg.splice;function Xg(e){var t=this.__data__,r=Mr(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():Zg.call(t,r,1),--this.size,!0}function Jg(e){var t=this.__data__,r=Mr(t,e);return r<0?void 0:t[r][1]}function Qg(e){return Mr(this.__data__,e)>-1}function e_(e,t){var r=this.__data__,s=Mr(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}function Qt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Qt.prototype.clear=Kg;Qt.prototype.delete=Xg;Qt.prototype.get=Jg;Qt.prototype.has=Qg;Qt.prototype.set=e_;var Ln=Bi(Nt,"Map");function t_(){this.size=0,this.__data__={hash:new Fi,map:new(Ln||Qt),string:new Fi}}function i_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Dr(e,t){var r=e.__data__;return i_(t)?r[typeof t=="string"?"string":"hash"]:r.map}function n_(e){var t=Dr(this,e).delete(e);return this.size-=t?1:0,t}function r_(e){return Dr(this,e).get(e)}function s_(e){return Dr(this,e).has(e)}function o_(e,t){var r=Dr(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}function ei(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ei.prototype.clear=t_;ei.prototype.delete=n_;ei.prototype.get=r_;ei.prototype.has=s_;ei.prototype.set=o_;var a_="Expected a function";function To(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(a_);var r=function(){var s=arguments,f=t?t.apply(this,s):s[0],u=r.cache;if(u.has(f))return u.get(f);var c=e.apply(this,s);return r.cache=u.set(f,c)||u,c};return r.cache=new(To.Cache||ei),r}To.Cache=ei;var l_=500;function f_(e){var t=To(e,function(s){return r.size===l_&&r.clear(),s}),r=t.cache;return t}var u_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c_=/\\(\\)?/g,d_=f_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(u_,function(r,s,f,u){t.push(f?u.replace(c_,"$1"):s||r)}),t});function h_(e){return e==null?"":ru(e)}function Nr(e,t){return Ft(e)?e:zg(e,t)?[e]:d_(h_(e))}function Co(e){if(typeof e=="string"||_o(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function pu(e,t){t=Nr(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Co(t[r++])];return r&&r==s?e:void 0}function gu(e,t,r){var s=e==null?void 0:pu(e,t);return s===void 0?r:s}function Ao(e,t){for(var r=-1,s=t.length,f=e.length;++r<s;)e[f+r]=t[r];return e}var Ba=wt?wt.isConcatSpreadable:void 0;function p_(e){return Ft(e)||xo(e)||!!(Ba&&e&&e[Ba])}function g_(e,t,r,s,f){var u=-1,c=e.length;for(r||(r=p_),f||(f=[]);++u<c;){var a=e[u];r(a)?Ao(f,a):f[f.length]=a}return f}function __(e){var t=e==null?0:e.length;return t?g_(e):[]}function v_(e){return zp(Hp(e,void 0,__),e+"")}var _u=hu(Object.getPrototypeOf,Object);function Bs(){if(!arguments.length)return[];var e=arguments[0];return Ft(e)?e:[e]}function y_(){this.__data__=new Qt,this.size=0}function m_(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function b_(e){return this.__data__.get(e)}function w_(e){return this.__data__.has(e)}var x_=200;function S_(e,t){var r=this.__data__;if(r instanceof Qt){var s=r.__data__;if(!Ln||s.length<x_-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new ei(s)}return r.set(e,t),this.size=r.size,this}function Zt(e){var t=this.__data__=new Qt(e);this.size=t.size}Zt.prototype.clear=y_;Zt.prototype.delete=m_;Zt.prototype.get=b_;Zt.prototype.has=w_;Zt.prototype.set=S_;function E_(e,t){return e&&kr(t,Eo(t),e)}function U_(e,t){return e&&kr(t,Uo(t),e)}var vu=typeof ht=="object"&&ht&&!ht.nodeType&&ht,La=vu&&typeof pt=="object"&&pt&&!pt.nodeType&&pt,T_=La&&La.exports===vu,Oa=T_?Nt.Buffer:void 0,Ra=Oa?Oa.allocUnsafe:void 0;function C_(e,t){if(t)return e.slice();var r=e.length,s=Ra?Ra(r):new e.constructor(r);return e.copy(s),s}function A_(e,t){for(var r=-1,s=e==null?0:e.length,f=0,u=[];++r<s;){var c=e[r];t(c,r,e)&&(u[f++]=c)}return u}function yu(){return[]}var F_=Object.prototype,I_=F_.propertyIsEnumerable,za=Object.getOwnPropertySymbols,Fo=za?function(e){return e==null?[]:(e=Object(e),A_(za(e),function(t){return I_.call(e,t)}))}:yu;function P_(e,t){return kr(e,Fo(e),t)}var B_=Object.getOwnPropertySymbols,mu=B_?function(e){for(var t=[];e;)Ao(t,Fo(e)),e=_u(e);return t}:yu;function L_(e,t){return kr(e,mu(e),t)}function bu(e,t,r){var s=t(e);return Ft(e)?s:Ao(s,r(e))}function Ls(e){return bu(e,Eo,Fo)}function O_(e){return bu(e,Uo,mu)}var Os=Bi(Nt,"DataView"),Rs=Bi(Nt,"Promise"),zs=Bi(Nt,"Set"),ka="[object Map]",R_="[object Object]",Ma="[object Promise]",Da="[object Set]",Na="[object WeakMap]",$a="[object DataView]",z_=Pi(Os),k_=Pi(Ln),M_=Pi(Rs),D_=Pi(zs),N_=Pi(Ps),Et=tn;(Os&&Et(new Os(new ArrayBuffer(1)))!=$a||Ln&&Et(new Ln)!=ka||Rs&&Et(Rs.resolve())!=Ma||zs&&Et(new zs)!=Da||Ps&&Et(new Ps)!=Na)&&(Et=function(e){var t=tn(e),r=t==R_?e.constructor:void 0,s=r?Pi(r):"";if(s)switch(s){case z_:return $a;case k_:return ka;case M_:return Ma;case D_:return Da;case N_:return Na}return t});var $_=Object.prototype,H_=$_.hasOwnProperty;function G_(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&H_.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var br=Nt.Uint8Array;function Io(e){var t=new e.constructor(e.byteLength);return new br(t).set(new br(e)),t}function V_(e,t){var r=t?Io(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var j_=/\w*$/;function Y_(e){var t=new e.constructor(e.source,j_.exec(e));return t.lastIndex=e.lastIndex,t}var Ha=wt?wt.prototype:void 0,Ga=Ha?Ha.valueOf:void 0;function W_(e){return Ga?Object(Ga.call(e)):{}}function K_(e,t){var r=t?Io(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var q_="[object Boolean]",Z_="[object Date]",X_="[object Map]",J_="[object Number]",Q_="[object RegExp]",ev="[object Set]",tv="[object String]",iv="[object Symbol]",nv="[object ArrayBuffer]",rv="[object DataView]",sv="[object Float32Array]",ov="[object Float64Array]",av="[object Int8Array]",lv="[object Int16Array]",fv="[object Int32Array]",uv="[object Uint8Array]",cv="[object Uint8ClampedArray]",dv="[object Uint16Array]",hv="[object Uint32Array]";function pv(e,t,r){var s=e.constructor;switch(t){case nv:return Io(e);case q_:case Z_:return new s(+e);case rv:return V_(e,r);case sv:case ov:case av:case lv:case fv:case uv:case cv:case dv:case hv:return K_(e,r);case X_:return new s;case J_:case tv:return new s(e);case Q_:return Y_(e);case ev:return new s;case iv:return W_(e)}}function gv(e){return typeof e.constructor=="function"&&!wo(e)?Cp(_u(e)):{}}var _v="[object Map]";function vv(e){return ci(e)&&Et(e)==_v}var Va=Xi&&Xi.isMap,yv=Va?So(Va):vv,mv="[object Set]";function bv(e){return ci(e)&&Et(e)==mv}var ja=Xi&&Xi.isSet,wv=ja?So(ja):bv,xv=1,Sv=2,Ev=4,wu="[object Arguments]",Uv="[object Array]",Tv="[object Boolean]",Cv="[object Date]",Av="[object Error]",xu="[object Function]",Fv="[object GeneratorFunction]",Iv="[object Map]",Pv="[object Number]",Su="[object Object]",Bv="[object RegExp]",Lv="[object Set]",Ov="[object String]",Rv="[object Symbol]",zv="[object WeakMap]",kv="[object ArrayBuffer]",Mv="[object DataView]",Dv="[object Float32Array]",Nv="[object Float64Array]",$v="[object Int8Array]",Hv="[object Int16Array]",Gv="[object Int32Array]",Vv="[object Uint8Array]",jv="[object Uint8ClampedArray]",Yv="[object Uint16Array]",Wv="[object Uint32Array]",Ce={};Ce[wu]=Ce[Uv]=Ce[kv]=Ce[Mv]=Ce[Tv]=Ce[Cv]=Ce[Dv]=Ce[Nv]=Ce[$v]=Ce[Hv]=Ce[Gv]=Ce[Iv]=Ce[Pv]=Ce[Su]=Ce[Bv]=Ce[Lv]=Ce[Ov]=Ce[Rv]=Ce[Vv]=Ce[jv]=Ce[Yv]=Ce[Wv]=!0;Ce[Av]=Ce[xu]=Ce[zv]=!1;function xn(e,t,r,s,f,u){var c,a=t&xv,p=t&Sv,v=t&Ev;if(c!==void 0)return c;if(!Ai(e))return e;var g=Ft(e);if(g){if(c=G_(e),!a)return Fp(e,c)}else{var y=Et(e),E=y==xu||y==Fv;if(mr(e))return C_(e,a);if(y==Su||y==wu||E&&!f){if(c=p||E?{}:gv(e),!a)return p?L_(e,U_(c,e)):P_(e,E_(c,e))}else{if(!Ce[y])return f?e:{};c=pv(e,y,a)}}u||(u=new Zt);var m=u.get(e);if(m)return m;u.set(e,c),wv(e)?e.forEach(function(o){c.add(xn(o,t,r,o,e,u))}):yv(e)&&e.forEach(function(o,l){c.set(l,xn(o,t,r,l,e,u))});var U=v?p?O_:Ls:p?Uo:Eo,n=g?void 0:U(e);return kp(n||e,function(o,l){n&&(l=o,o=e[l]),mo(c,l,xn(o,t,r,l,e,u))}),c}var Kv=4;function Ya(e){return xn(e,Kv)}var qv=1,Zv=4;function Wa(e){return xn(e,qv|Zv)}var Xv="__lodash_hash_undefined__";function Jv(e){return this.__data__.set(e,Xv),this}function Qv(e){return this.__data__.has(e)}function wr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ei;++t<r;)this.add(e[t])}wr.prototype.add=wr.prototype.push=Jv;wr.prototype.has=Qv;function ey(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}function ty(e,t){return e.has(t)}var iy=1,ny=2;function Eu(e,t,r,s,f,u){var c=r&iy,a=e.length,p=t.length;if(a!=p&&!(c&&p>a))return!1;var v=u.get(e),g=u.get(t);if(v&&g)return v==t&&g==e;var y=-1,E=!0,m=r&ny?new wr:void 0;for(u.set(e,t),u.set(t,e);++y<a;){var U=e[y],n=t[y];if(s)var o=c?s(n,U,y,t,e,u):s(U,n,y,e,t,u);if(o!==void 0){if(o)continue;E=!1;break}if(m){if(!ey(t,function(l,d){if(!ty(m,d)&&(U===l||f(U,l,r,s,u)))return m.push(d)})){E=!1;break}}else if(!(U===n||f(U,n,r,s,u))){E=!1;break}}return u.delete(e),u.delete(t),E}function ry(e){var t=-1,r=Array(e.size);return e.forEach(function(s,f){r[++t]=[f,s]}),r}function sy(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var oy=1,ay=2,ly="[object Boolean]",fy="[object Date]",uy="[object Error]",cy="[object Map]",dy="[object Number]",hy="[object RegExp]",py="[object Set]",gy="[object String]",_y="[object Symbol]",vy="[object ArrayBuffer]",yy="[object DataView]",Ka=wt?wt.prototype:void 0,ls=Ka?Ka.valueOf:void 0;function my(e,t,r,s,f,u,c){switch(r){case yy:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vy:return!(e.byteLength!=t.byteLength||!u(new br(e),new br(t)));case ly:case fy:case dy:return yo(+e,+t);case uy:return e.name==t.name&&e.message==t.message;case hy:case gy:return e==t+"";case cy:var a=ry;case py:var p=s&oy;if(a||(a=sy),e.size!=t.size&&!p)return!1;var v=c.get(e);if(v)return v==t;s|=ay,c.set(e,t);var g=Eu(a(e),a(t),s,f,u,c);return c.delete(e),g;case _y:if(ls)return ls.call(e)==ls.call(t)}return!1}var by=1,wy=Object.prototype,xy=wy.hasOwnProperty;function Sy(e,t,r,s,f,u){var c=r&by,a=Ls(e),p=a.length,v=Ls(t),g=v.length;if(p!=g&&!c)return!1;for(var y=p;y--;){var E=a[y];if(!(c?E in t:xy.call(t,E)))return!1}var m=u.get(e),U=u.get(t);if(m&&U)return m==t&&U==e;var n=!0;u.set(e,t),u.set(t,e);for(var o=c;++y<p;){E=a[y];var l=e[E],d=t[E];if(s)var h=c?s(d,l,E,t,e,u):s(l,d,E,e,t,u);if(!(h===void 0?l===d||f(l,d,r,s,u):h)){n=!1;break}o||(o=E=="constructor")}if(n&&!o){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b)&&(n=!1)}return u.delete(e),u.delete(t),n}var Ey=1,qa="[object Arguments]",Za="[object Array]",Kn="[object Object]",Uy=Object.prototype,Xa=Uy.hasOwnProperty;function Ty(e,t,r,s,f,u){var c=Ft(e),a=Ft(t),p=c?Za:Et(e),v=a?Za:Et(t);p=p==qa?Kn:p,v=v==qa?Kn:v;var g=p==Kn,y=v==Kn,E=p==v;if(E&&mr(e)){if(!mr(t))return!1;c=!0,g=!1}if(E&&!g)return u||(u=new Zt),c||cu(e)?Eu(e,t,r,s,f,u):my(e,t,p,r,s,f,u);if(!(r&Ey)){var m=g&&Xa.call(e,"__wrapped__"),U=y&&Xa.call(t,"__wrapped__");if(m||U){var n=m?e.value():e,o=U?t.value():t;return u||(u=new Zt),f(n,o,r,s,u)}}return E?(u||(u=new Zt),Sy(e,t,r,s,f,u)):!1}function Uu(e,t,r,s,f){return e===t?!0:e==null||t==null||!ci(e)&&!ci(t)?e!==e&&t!==t:Ty(e,t,r,s,Uu,f)}function Cy(e,t){return e!=null&&t in Object(e)}function Ay(e,t,r){t=Nr(t,e);for(var s=-1,f=t.length,u=!1;++s<f;){var c=Co(t[s]);if(!(u=e!=null&&r(e,c)))break;e=e[c]}return u||++s!=f?u:(f=e==null?0:e.length,!!f&&bo(f)&&vo(c,f)&&(Ft(e)||xo(e)))}function Fy(e,t){return e!=null&&Ay(e,t,Cy)}function Tu(e){for(var t=-1,r=e==null?0:e.length,s={};++t<r;){var f=e[t];s[f[0]]=f[1]}return s}function Iy(e,t){return Uu(e,t)}function $r(e){return e==null}function Cu(e,t,r,s){if(!Ai(e))return e;t=Nr(t,e);for(var f=-1,u=t.length,c=u-1,a=e;a!=null&&++f<u;){var p=Co(t[f]),v=r;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(f!=c){var g=a[p];v=void 0,v===void 0&&(v=Ai(g)?g:vo(t[f+1])?[]:{})}mo(a,p,v),a=a[p]}return e}function Py(e,t,r){for(var s=-1,f=t.length,u={};++s<f;){var c=t[s],a=pu(e,c);r(a,c)&&Cu(u,Nr(c,e),a)}return u}function By(e,t){return Py(e,t,function(r,s){return Fy(e,s)})}var Ly=v_(function(e,t){return e==null?{}:By(e,t)});function Oy(e,t,r){return e==null?e:Cu(e,t,r)}const Ry=e=>e===void 0,xr=e=>typeof e=="boolean",On=e=>typeof e=="number",Ja=e=>$r(e),zy=e=>he(e)?!Number.isNaN(Number(e)):!1;var ky=Object.defineProperty,My=Object.defineProperties,Dy=Object.getOwnPropertyDescriptors,Qa=Object.getOwnPropertySymbols,Ny=Object.prototype.hasOwnProperty,$y=Object.prototype.propertyIsEnumerable,el=(e,t,r)=>t in e?ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hy=(e,t)=>{for(var r in t||(t={}))Ny.call(t,r)&&el(e,r,t[r]);if(Qa)for(var r of Qa(t))$y.call(t,r)&&el(e,r,t[r]);return e},Gy=(e,t)=>My(e,Dy(t));function Vy(e,t){var r;const s=ui();return jd(()=>{s.value=e()},Gy(Hy({},t),{flush:(r=void 0)!=null?r:"sync"})),ro(s)}var tl;const Hr=typeof window<"u",jy=e=>typeof e<"u",Yy=e=>typeof e=="function",Wy=e=>typeof e=="string",ks=()=>{};Hr&&((tl=window==null?void 0:window.navigator)!=null&&tl.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Sr(e){return typeof e=="function"?e():w(e)}function Ky(e,t){function r(...s){return new Promise((f,u)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(f).catch(u)})}return r}function qy(e,t={}){let r,s,f=ks;const u=a=>{clearTimeout(a),f(),f=ks};return a=>{const p=Sr(e),v=Sr(t.maxWait);return r&&u(r),p<=0||v!==void 0&&v<=0?(s&&(u(s),s=null),Promise.resolve(a())):new Promise((g,y)=>{f=t.rejectOnCancel?y:g,v&&!s&&(s=setTimeout(()=>{r&&u(r),s=null,g(a())},v)),r=setTimeout(()=>{s&&u(s),s=null,g(a())},p)})}}function Zy(e){return e}function Au(e){return Yl()?(Ac(e),!0):!1}function Xy(e,t=200,r={}){return Ky(qy(t,r),e)}function Jy(e,t=200,r={}){const s=de(e.value),f=Xy(()=>{s.value=e.value},t,r);return ze(e,()=>f()),s}function Qy(e,t=!0){Dt()?gi(e):t?e():yt(e)}function Fu(e){var t;const r=Sr(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Iu=Hr?window:void 0;function fs(...e){let t,r,s,f;if(Wy(e[0])||Array.isArray(e[0])?([r,s,f]=e,t=Iu):[t,r,s,f]=e,!t)return ks;Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]);const u=[],c=()=>{u.forEach(g=>g()),u.length=0},a=(g,y,E,m)=>(g.addEventListener(y,E,m),()=>g.removeEventListener(y,E,m)),p=ze(()=>[Fu(t),Sr(f)],([g,y])=>{c(),g&&u.push(...r.flatMap(E=>s.map(m=>a(g,E,m,y))))},{immediate:!0,flush:"post"}),v=()=>{p(),c()};return Au(v),v}function e0(e,t=!1){const r=de(),s=()=>r.value=!!e();return s(),Qy(s,t),r}function t0(e){return JSON.parse(JSON.stringify(e))}const il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nl="__vueuse_ssr_handlers__";il[nl]=il[nl]||{};var rl=Object.getOwnPropertySymbols,i0=Object.prototype.hasOwnProperty,n0=Object.prototype.propertyIsEnumerable,r0=(e,t)=>{var r={};for(var s in e)i0.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&rl)for(var s of rl(e))t.indexOf(s)<0&&n0.call(e,s)&&(r[s]=e[s]);return r};function Pu(e,t,r={}){const s=r,{window:f=Iu}=s,u=r0(s,["window"]);let c;const a=e0(()=>f&&"ResizeObserver"in f),p=()=>{c&&(c.disconnect(),c=void 0)},v=ze(()=>Fu(e),y=>{p(),a.value&&f&&y&&(c=new ResizeObserver(t),c.observe(y,u))},{immediate:!0,flush:"post"}),g=()=>{p(),v()};return Au(g),{isSupported:a,stop:g}}var sl;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(sl||(sl={}));var s0=Object.defineProperty,ol=Object.getOwnPropertySymbols,o0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable,al=(e,t,r)=>t in e?s0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l0=(e,t)=>{for(var r in t||(t={}))o0.call(t,r)&&al(e,r,t[r]);if(ol)for(var r of ol(t))a0.call(t,r)&&al(e,r,t[r]);return e};const f0={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};l0({linear:Zy},f0);function u0(e,t,r,s={}){var f,u,c;const{clone:a=!1,passive:p=!1,eventName:v,deep:g=!1,defaultValue:y}=s,E=Dt(),m=(E==null?void 0:E.emit)||((f=E==null?void 0:E.$emit)==null?void 0:f.bind(E))||((c=(u=E==null?void 0:E.proxy)==null?void 0:u.$emit)==null?void 0:c.bind(E==null?void 0:E.proxy));let U=v;U=v||U||`update:${t.toString()}`;const n=l=>a?Yy(a)?a(l):t0(l):l,o=()=>jy(e[t])?n(e[t]):y;if(p){const l=o(),d=de(l);return ze(()=>e[t],h=>d.value=n(h)),ze(d,h=>{(h!==e[t]||g)&&m(U,h)},{deep:g}),d}else return M({get(){return o()},set(l){m(U,l)}})}class c0 extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Gr(e,t){throw new c0(`[${e}] ${t}`)}var d0={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const h0=e=>(t,r)=>p0(t,r,w(e)),p0=(e,t,r)=>gu(r,e,e).replace(/\{(\w+)\}/g,(s,f)=>{var u;return`${(u=t==null?void 0:t[f])!=null?u:`{${f}}`}`}),g0=e=>{const t=M(()=>w(e).name),r=Oe(e)?e:de(e);return{lang:t,locale:r,t:h0(e)}},_0=Symbol("localeContextKey"),v0=e=>{const t=Re(_0,de());return g0(M(()=>t.value||d0))},Bu="__epPropKey",fe=e=>e,y0=e=>me(e)&&!!e[Bu],Lu=(e,t)=>{if(!me(e)||y0(e))return e;const{values:r,required:s,default:f,type:u,validator:c}=e,p={type:u,required:!!s,validator:r||c?v=>{let g=!1,y=[];if(r&&(y=Array.from(r),_e(e,"default")&&y.push(f),g||(g=y.includes(v))),c&&(g||(g=c(v))),!g&&y.length>0){const E=[...new Set(y)].map(m=>JSON.stringify(m)).join(", ");dh(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${E}], got value ${JSON.stringify(v)}.`)}return g}:void 0,[Bu]:!0};return _e(e,"default")&&(p.default=f),p},Ye=e=>Tu(Object.entries(e).map(([t,r])=>[t,Lu(r,t)])),Po=["","default","small","large"],Vr=Lu({type:String,values:Po,required:!1}),m0=Symbol("size"),b0=()=>{const e=Re(m0,{});return M(()=>w(e.size)||"")},w0=e=>Object.entries(e),us=(e,t,r)=>({get value(){return gu(e,t,r)},set value(s){Oy(e,t,s)}}),ll=de();function x0(e,t=void 0){const r=Dt()?Re(Zh,ll):ll;return M(()=>{var s,f;return(f=(s=r.value)==null?void 0:s[e])!=null?f:t})}const Ji="update:modelValue",S0="change";var rt=(e,t)=>{const r=e.__vccOpts||e;for(const[s,f]of t)r[s]=f;return r};function Ms(e,t="px"){if(!e)return"";if(On(e)||zy(e))return`${e}${t}`;if(he(e))return e}const Li=(e,t)=>{if(e.install=r=>{for(const s of[e,...Object.values(t??{})])r.component(s.name,s)},t)for(const[r,s]of Object.entries(t))e[r]=s;return e},jr=e=>(e.install=Se,e),E0=Ye({size:{type:fe([Number,String])},color:{type:String}}),U0=oe({name:"ElIcon",inheritAttrs:!1}),T0=oe({...U0,props:E0,setup(e){const t=e,r=He("icon"),s=M(()=>{const{size:f,color:u}=t;return!f&&!u?{}:{fontSize:Ry(f)?void 0:Ms(f),"--color":u}});return(f,u)=>($(),ee("i",Ci({class:w(r).b(),style:w(s)},f.$attrs),[ye(f.$slots,"default")],16))}});var C0=rt(T0,[["__file","icon.vue"]]);const nt=Li(C0);/*! Element Plus Icons Vue v2.3.1 */var A0=oe({name:"Check",__name:"check",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Ou=A0,F0=oe({name:"CircleCheck",__name:"circle-check",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),re("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Bo=F0,I0=oe({name:"CircleClose",__name:"circle-close",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),re("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Lo=I0,P0=oe({name:"Close",__name:"close",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Ru=P0,B0=oe({name:"Delete",__name:"delete",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),L0=B0,O0=oe({name:"Document",__name:"document",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),R0=O0,z0=oe({name:"Hide",__name:"hide",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),re("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),k0=z0,M0=oe({name:"Loading",__name:"loading",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),zu=M0,D0=oe({name:"View",__name:"view",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),N0=D0,$0=oe({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),H0=$0,G0=oe({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,r)=>($(),ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[re("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),V0=G0;const Er=fe([String,Object,Function]),j0={validating:zu,success:Bo,error:Lo},Y0=()=>Hr&&/firefox/i.test(window.navigator.userAgent);let it;const W0={height:"0",visibility:"hidden",overflow:Y0()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},K0=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function q0(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),s=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),f=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:K0.map(c=>[c,t.getPropertyValue(c)]),paddingSize:s,borderSize:f,boxSizing:r}}function fl(e,t=1,r){var s;it||(it=document.createElement("textarea"),document.body.appendChild(it));const{paddingSize:f,borderSize:u,boxSizing:c,contextStyle:a}=q0(e);a.forEach(([y,E])=>it==null?void 0:it.style.setProperty(y,E)),Object.entries(W0).forEach(([y,E])=>it==null?void 0:it.style.setProperty(y,E,"important")),it.value=e.value||e.placeholder||"";let p=it.scrollHeight;const v={};c==="border-box"?p=p+u:c==="content-box"&&(p=p-f),it.value="";const g=it.scrollHeight-f;if(On(t)){let y=g*t;c==="border-box"&&(y=y+f+u),p=Math.max(y,p),v.minHeight=`${y}px`}if(On(r)){let y=g*r;c==="border-box"&&(y=y+f+u),p=Math.min(y,p)}return v.height=`${p}px`,(s=it.parentNode)==null||s.removeChild(it),it=void 0,v}const Ur=e=>e,Z0=Ye({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),ku=e=>Ly(Z0,e),X0=Ye({id:{type:String,default:void 0},size:Vr,disabled:Boolean,modelValue:{type:fe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:fe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Er},prefixIcon:{type:Er},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:fe([Object,Array,String]),default:()=>Ur({})},autofocus:Boolean,rows:{type:Number,default:2},...ku(["ariaLabel"])}),J0={[Ji]:e=>he(e),input:e=>he(e),change:e=>he(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Q0=["class","style"],em=/^on[A-Z]/,tm=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r}=e,s=M(()=>((r==null?void 0:r.value)||[]).concat(Q0)),f=Dt();return M(f?()=>{var u;return Tu(Object.entries((u=f.proxy)==null?void 0:u.$attrs).filter(([c])=>!s.value.includes(c)&&!(t&&em.test(c))))}:()=>({}))},nn=Symbol("formContextKey"),Rn=Symbol("formItemContextKey"),ul={prefix:Math.floor(Math.random()*1e4),current:0},im=Symbol("elIdInjection"),nm=()=>Dt()?Re(im,ul):ul,Oo=e=>{const t=nm(),r=tu();return Vy(()=>w(e)||`${r.value}-id-${t.prefix}-${t.current++}`)},Ro=()=>{const e=Re(nn,void 0),t=Re(Rn,void 0);return{form:e,formItem:t}},Mu=(e,{formItemContext:t,disableIdGeneration:r,disableIdManagement:s})=>{r||(r=de(!1)),s||(s=de(!1));const f=de();let u;const c=M(()=>{var a;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return gi(()=>{u=ze([Cn(e,"id"),r],([a,p])=>{const v=a??(p?void 0:Oo().value);v!==f.value&&(t!=null&&t.removeInputId&&(f.value&&t.removeInputId(f.value),!(s!=null&&s.value)&&!p&&v&&t.addInputId(v)),f.value=v)},{immediate:!0})}),Or(()=>{u&&u(),t!=null&&t.removeInputId&&f.value&&t.removeInputId(f.value)}),{isLabeledByFormItem:c,inputId:f}},Du=e=>{const t=Dt();return M(()=>{var r,s;return(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$props)==null?void 0:s[e]})},Hn=(e,t={})=>{const r=de(void 0),s=t.prop?r:Du("size"),f=t.global?r:b0(),u=t.form?{size:void 0}:Re(nn,void 0),c=t.formItem?{size:void 0}:Re(Rn,void 0);return M(()=>s.value||w(e)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||f.value||"")},_i=e=>{const t=Du("disabled"),r=Re(nn,void 0);return M(()=>t.value||w(e)||(r==null?void 0:r.disabled)||!1)};function rm(e,{beforeFocus:t,afterFocus:r,beforeBlur:s,afterBlur:f}={}){const u=Dt(),{emit:c}=u,a=ui(),p=de(!1),v=E=>{J(t)&&t(E)||p.value||(p.value=!0,c("focus",E),r==null||r())},g=E=>{var m;J(s)&&s(E)||E.relatedTarget&&((m=a.value)!=null&&m.contains(E.relatedTarget))||(p.value=!1,c("blur",E),f==null||f())},y=()=>{var E,m;(E=a.value)!=null&&E.contains(document.activeElement)&&a.value!==document.activeElement||(m=e.value)==null||m.focus()};return ze(a,E=>{E&&E.setAttribute("tabindex","-1")}),fs(a,"focus",v,!0),fs(a,"blur",g,!0),fs(a,"click",y,!0),{isFocused:p,wrapperRef:a,handleFocus:v,handleBlur:g}}const sm=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function om({afterComposition:e,emit:t}){const r=de(!1),s=a=>{t==null||t("compositionstart",a),r.value=!0},f=a=>{var p;t==null||t("compositionupdate",a);const v=(p=a.target)==null?void 0:p.value,g=v[v.length-1]||"";r.value=!sm(g)},u=a=>{t==null||t("compositionend",a),r.value&&(r.value=!1,yt(()=>e(a)))};return{isComposing:r,handleComposition:a=>{a.type==="compositionend"?u(a):f(a)},handleCompositionStart:s,handleCompositionUpdate:f,handleCompositionEnd:u}}function am(e){let t;function r(){if(e.value==null)return;const{selectionStart:f,selectionEnd:u,value:c}=e.value;if(f==null||u==null)return;const a=c.slice(0,Math.max(0,f)),p=c.slice(Math.max(0,u));t={selectionStart:f,selectionEnd:u,value:c,beforeTxt:a,afterTxt:p}}function s(){if(e.value==null||t==null)return;const{value:f}=e.value,{beforeTxt:u,afterTxt:c,selectionStart:a}=t;if(u==null||c==null||a==null)return;let p=f.length;if(f.endsWith(c))p=f.length-c.length;else if(f.startsWith(u))p=u.length;else{const v=u[a-1],g=f.indexOf(v,a-1);g!==-1&&(p=g+1)}e.value.setSelectionRange(p,p)}return[r,s]}const lm=oe({name:"ElInput",inheritAttrs:!1}),fm=oe({...lm,props:X0,emits:J0,setup(e,{expose:t,emit:r}){const s=e,f=Ud(),u=tm(),c=uo(),a=M(()=>[s.type==="textarea"?n.b():U.b(),U.m(E.value),U.is("disabled",m.value),U.is("exceed",Ie.value),{[U.b("group")]:c.prepend||c.append,[U.m("prefix")]:c.prefix||s.prefixIcon,[U.m("suffix")]:c.suffix||s.suffixIcon||s.clearable||s.showPassword,[U.bm("suffix","password-clear")]:X.value&&Pe.value,[U.b("hidden")]:s.type==="hidden"},f.class]),p=M(()=>[U.e("wrapper"),U.is("focus",B.value)]),{form:v,formItem:g}=Ro(),{inputId:y}=Mu(s,{formItemContext:g}),E=Hn(),m=_i(),U=He("input"),n=He("textarea"),o=ui(),l=ui(),d=de(!1),h=de(!1),_=de(),b=ui(s.inputStyle),S=M(()=>o.value||l.value),{wrapperRef:C,isFocused:B,handleFocus:I,handleBlur:k}=rm(S,{beforeFocus(){return m.value},afterBlur(){var F;s.validateEvent&&((F=g==null?void 0:g.validate)==null||F.call(g,"blur").catch(j=>void 0))}}),G=M(()=>{var F;return(F=v==null?void 0:v.statusIcon)!=null?F:!1}),A=M(()=>(g==null?void 0:g.validateState)||""),W=M(()=>A.value&&j0[A.value]),Q=M(()=>h.value?N0:k0),ke=M(()=>[f.style]),we=M(()=>[s.inputStyle,b.value,{resize:s.resize}]),ne=M(()=>$r(s.modelValue)?"":String(s.modelValue)),X=M(()=>s.clearable&&!m.value&&!s.readonly&&!!ne.value&&(B.value||d.value)),Pe=M(()=>s.showPassword&&!m.value&&!!ne.value&&(!!ne.value||B.value)),Ne=M(()=>s.showWordLimit&&!!s.maxlength&&(s.type==="text"||s.type==="textarea")&&!m.value&&!s.readonly&&!s.showPassword),Ge=M(()=>ne.value.length),Ie=M(()=>!!Ne.value&&Ge.value>Number(s.maxlength)),et=M(()=>!!c.suffix||!!s.suffixIcon||X.value||s.showPassword||Ne.value||!!A.value&&G.value),[ie,Oi]=am(o);Pu(l,F=>{if(q(),!Ne.value||s.resize!=="both")return;const j=F[0],{width:se}=j.contentRect;_.value={right:`calc(100% - ${se+15+6}px)`}});const st=()=>{const{type:F,autosize:j}=s;if(!(!Hr||F!=="textarea"||!l.value))if(j){const se=me(j)?j.minRows:void 0,xe=me(j)?j.maxRows:void 0,pe=fl(l.value,se,xe);b.value={overflowY:"hidden",...pe},yt(()=>{l.value.offsetHeight,b.value=pe})}else b.value={minHeight:fl(l.value).minHeight}},q=(F=>{let j=!1;return()=>{var se;if(j||!s.autosize)return;((se=l.value)==null?void 0:se.offsetParent)===null||(F(),j=!0)}})(st),ae=()=>{const F=S.value,j=s.formatter?s.formatter(ne.value):ne.value;!F||F.value===j||(F.value=j)},Ee=async F=>{ie();let{value:j}=F.target;if(s.formatter&&(j=s.parser?s.parser(j):j),!x.value){if(j===ne.value){ae();return}r(Ji,j),r("input",j),await yt(),ae(),Oi()}},Be=F=>{r("change",F.target.value)},{isComposing:x,handleCompositionStart:T,handleCompositionUpdate:P,handleCompositionEnd:R}=om({emit:r,afterComposition:Ee}),L=()=>{ie(),h.value=!h.value,setTimeout(Oi)},O=()=>{var F;return(F=S.value)==null?void 0:F.focus()},H=()=>{var F;return(F=S.value)==null?void 0:F.blur()},N=F=>{d.value=!1,r("mouseleave",F)},D=F=>{d.value=!0,r("mouseenter",F)},z=F=>{r("keydown",F)},Z=()=>{var F;(F=S.value)==null||F.select()},V=()=>{r(Ji,""),r("change",""),r("clear"),r("input","")};return ze(()=>s.modelValue,()=>{var F;yt(()=>st()),s.validateEvent&&((F=g==null?void 0:g.validate)==null||F.call(g,"change").catch(j=>void 0))}),ze(ne,()=>ae()),ze(()=>s.type,async()=>{await yt(),ae(),st()}),gi(()=>{!s.formatter&&s.parser,ae(),yt(st)}),t({input:o,textarea:l,ref:S,textareaStyle:we,autosize:Cn(s,"autosize"),isComposing:x,focus:O,blur:H,select:Z,clear:V,resizeTextarea:st}),(F,j)=>($(),ee("div",{class:Y([w(a),{[w(U).bm("group","append")]:F.$slots.append,[w(U).bm("group","prepend")]:F.$slots.prepend}]),style:Je(w(ke)),onMouseenter:D,onMouseleave:N},[te(" input "),F.type!=="textarea"?($(),ee(Le,{key:0},[te(" prepend slot "),F.$slots.prepend?($(),ee("div",{key:0,class:Y(w(U).be("group","prepend"))},[ye(F.$slots,"prepend")],2)):te("v-if",!0),re("div",{ref_key:"wrapperRef",ref:C,class:Y(w(p))},[te(" prefix slot "),F.$slots.prefix||F.prefixIcon?($(),ee("span",{key:0,class:Y(w(U).e("prefix"))},[re("span",{class:Y(w(U).e("prefix-inner"))},[ye(F.$slots,"prefix"),F.prefixIcon?($(),ve(w(nt),{key:0,class:Y(w(U).e("icon"))},{default:ce(()=>[($(),ve(qt(F.prefixIcon)))]),_:1},8,["class"])):te("v-if",!0)],2)],2)):te("v-if",!0),re("input",Ci({id:w(y),ref_key:"input",ref:o,class:w(U).e("inner")},w(u),{minlength:F.minlength,maxlength:F.maxlength,type:F.showPassword?h.value?"text":"password":F.type,disabled:w(m),readonly:F.readonly,autocomplete:F.autocomplete,tabindex:F.tabindex,"aria-label":F.ariaLabel,placeholder:F.placeholder,style:F.inputStyle,form:F.form,autofocus:F.autofocus,role:F.containerRole,onCompositionstart:w(T),onCompositionupdate:w(P),onCompositionend:w(R),onInput:Ee,onChange:Be,onKeydown:z}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),te(" suffix slot "),w(et)?($(),ee("span",{key:1,class:Y(w(U).e("suffix"))},[re("span",{class:Y(w(U).e("suffix-inner"))},[!w(X)||!w(Pe)||!w(Ne)?($(),ee(Le,{key:0},[ye(F.$slots,"suffix"),F.suffixIcon?($(),ve(w(nt),{key:0,class:Y(w(U).e("icon"))},{default:ce(()=>[($(),ve(qt(F.suffixIcon)))]),_:1},8,["class"])):te("v-if",!0)],64)):te("v-if",!0),w(X)?($(),ve(w(nt),{key:1,class:Y([w(U).e("icon"),w(U).e("clear")]),onMousedown:Tt(w(Se),["prevent"]),onClick:V},{default:ce(()=>[le(w(Lo))]),_:1},8,["class","onMousedown"])):te("v-if",!0),w(Pe)?($(),ve(w(nt),{key:2,class:Y([w(U).e("icon"),w(U).e("password")]),onClick:L},{default:ce(()=>[($(),ve(qt(w(Q))))]),_:1},8,["class"])):te("v-if",!0),w(Ne)?($(),ee("span",{key:3,class:Y(w(U).e("count"))},[re("span",{class:Y(w(U).e("count-inner"))},ut(w(Ge))+" / "+ut(F.maxlength),3)],2)):te("v-if",!0),w(A)&&w(W)&&w(G)?($(),ve(w(nt),{key:4,class:Y([w(U).e("icon"),w(U).e("validateIcon"),w(U).is("loading",w(A)==="validating")])},{default:ce(()=>[($(),ve(qt(w(W))))]),_:1},8,["class"])):te("v-if",!0)],2)],2)):te("v-if",!0)],2),te(" append slot "),F.$slots.append?($(),ee("div",{key:1,class:Y(w(U).be("group","append"))},[ye(F.$slots,"append")],2)):te("v-if",!0)],64)):($(),ee(Le,{key:1},[te(" textarea "),re("textarea",Ci({id:w(y),ref_key:"textarea",ref:l,class:[w(n).e("inner"),w(U).is("focus",w(B))]},w(u),{minlength:F.minlength,maxlength:F.maxlength,tabindex:F.tabindex,disabled:w(m),readonly:F.readonly,autocomplete:F.autocomplete,style:w(we),"aria-label":F.ariaLabel,placeholder:F.placeholder,form:F.form,autofocus:F.autofocus,rows:F.rows,role:F.containerRole,onCompositionstart:w(T),onCompositionupdate:w(P),onCompositionend:w(R),onInput:Ee,onFocus:w(I),onBlur:w(k),onChange:Be,onKeydown:z}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(Ne)?($(),ee("span",{key:0,style:Je(_.value),class:Y(w(U).e("count"))},ut(w(Ge))+" / "+ut(F.maxlength),7)):te("v-if",!0)],64))],38))}});var um=rt(fm,[["__file","input.vue"]]);const cm=Li(um),Nu=Symbol("buttonGroupContextKey"),$u=({from:e,replacement:t,scope:r,version:s,ref:f,type:u="API"},c)=>{ze(()=>w(c),a=>{},{immediate:!0})},dm=(e,t)=>{$u({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},M(()=>e.type==="text"));const r=Re(Nu,void 0),s=x0("button"),{form:f}=Ro(),u=Hn(M(()=>r==null?void 0:r.size)),c=_i(),a=de(),p=uo(),v=M(()=>e.type||(r==null?void 0:r.type)||""),g=M(()=>{var U,n,o;return(o=(n=e.autoInsertSpace)!=null?n:(U=s.value)==null?void 0:U.autoInsertSpace)!=null?o:!1}),y=M(()=>e.tag==="button"?{ariaDisabled:c.value||e.loading,disabled:c.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),E=M(()=>{var U;const n=(U=p.default)==null?void 0:U.call(p);if(g.value&&(n==null?void 0:n.length)===1){const o=n[0];if((o==null?void 0:o.type)===Nn){const l=o.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(l.trim())}}return!1});return{_disabled:c,_size:u,_type:v,_ref:a,_props:y,shouldAddSpace:E,handleClick:U=>{if(c.value||e.loading){U.stopPropagation();return}e.nativeType==="reset"&&(f==null||f.resetFields()),t("click",U)}}},hm=["default","primary","success","warning","info","danger","text",""],pm=["button","submit","reset"],Ds=Ye({size:Vr,disabled:Boolean,type:{type:String,values:hm,default:""},icon:{type:Er},nativeType:{type:String,values:pm,default:"button"},loading:Boolean,loadingIcon:{type:Er,default:()=>zu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:fe([String,Object]),default:"button"}}),gm={click:e=>e instanceof MouseEvent};function je(e,t){_m(e)&&(e="100%");var r=vm(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function qn(e){return Math.min(1,Math.max(0,e))}function _m(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function vm(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Hu(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Zn(e){return e<=1?"".concat(Number(e)*100,"%"):e}function xi(e){return e.length===1?"0"+e:String(e)}function ym(e,t,r){return{r:je(e,255)*255,g:je(t,255)*255,b:je(r,255)*255}}function cl(e,t,r){e=je(e,255),t=je(t,255),r=je(r,255);var s=Math.max(e,t,r),f=Math.min(e,t,r),u=0,c=0,a=(s+f)/2;if(s===f)c=0,u=0;else{var p=s-f;switch(c=a>.5?p/(2-s-f):p/(s+f),s){case e:u=(t-r)/p+(t<r?6:0);break;case t:u=(r-e)/p+2;break;case r:u=(e-t)/p+4;break}u/=6}return{h:u,s:c,l:a}}function cs(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mm(e,t,r){var s,f,u;if(e=je(e,360),t=je(t,100),r=je(r,100),t===0)f=r,u=r,s=r;else{var c=r<.5?r*(1+t):r+t-r*t,a=2*r-c;s=cs(a,c,e+1/3),f=cs(a,c,e),u=cs(a,c,e-1/3)}return{r:s*255,g:f*255,b:u*255}}function dl(e,t,r){e=je(e,255),t=je(t,255),r=je(r,255);var s=Math.max(e,t,r),f=Math.min(e,t,r),u=0,c=s,a=s-f,p=s===0?0:a/s;if(s===f)u=0;else{switch(s){case e:u=(t-r)/a+(t<r?6:0);break;case t:u=(r-e)/a+2;break;case r:u=(e-t)/a+4;break}u/=6}return{h:u,s:p,v:c}}function bm(e,t,r){e=je(e,360)*6,t=je(t,100),r=je(r,100);var s=Math.floor(e),f=e-s,u=r*(1-t),c=r*(1-f*t),a=r*(1-(1-f)*t),p=s%6,v=[r,c,u,u,a,r][p],g=[a,r,r,c,u,u][p],y=[u,u,a,r,r,c][p];return{r:v*255,g:g*255,b:y*255}}function hl(e,t,r,s){var f=[xi(Math.round(e).toString(16)),xi(Math.round(t).toString(16)),xi(Math.round(r).toString(16))];return s&&f[0].startsWith(f[0].charAt(1))&&f[1].startsWith(f[1].charAt(1))&&f[2].startsWith(f[2].charAt(1))?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0):f.join("")}function wm(e,t,r,s,f){var u=[xi(Math.round(e).toString(16)),xi(Math.round(t).toString(16)),xi(Math.round(r).toString(16)),xi(xm(s))];return f&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function xm(e){return Math.round(parseFloat(e)*255).toString(16)}function pl(e){return lt(e)/255}function lt(e){return parseInt(e,16)}function Sm(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Ns={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Em(e){var t={r:0,g:0,b:0},r=1,s=null,f=null,u=null,c=!1,a=!1;return typeof e=="string"&&(e=Cm(e)),typeof e=="object"&&(Gt(e.r)&&Gt(e.g)&&Gt(e.b)?(t=ym(e.r,e.g,e.b),c=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Gt(e.h)&&Gt(e.s)&&Gt(e.v)?(s=Zn(e.s),f=Zn(e.v),t=bm(e.h,s,f),c=!0,a="hsv"):Gt(e.h)&&Gt(e.s)&&Gt(e.l)&&(s=Zn(e.s),u=Zn(e.l),t=mm(e.h,s,u),c=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=Hu(r),{ok:c,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var Um="[-\\+]?\\d+%?",Tm="[-\\+]?\\d*\\.\\d+%?",ai="(?:".concat(Tm,")|(?:").concat(Um,")"),ds="[\\s|\\(]+(".concat(ai,")[,|\\s]+(").concat(ai,")[,|\\s]+(").concat(ai,")\\s*\\)?"),hs="[\\s|\\(]+(".concat(ai,")[,|\\s]+(").concat(ai,")[,|\\s]+(").concat(ai,")[,|\\s]+(").concat(ai,")\\s*\\)?"),xt={CSS_UNIT:new RegExp(ai),rgb:new RegExp("rgb"+ds),rgba:new RegExp("rgba"+hs),hsl:new RegExp("hsl"+ds),hsla:new RegExp("hsla"+hs),hsv:new RegExp("hsv"+ds),hsva:new RegExp("hsva"+hs),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Cm(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Ns[e])e=Ns[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=xt.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=xt.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=xt.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=xt.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=xt.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=xt.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=xt.hex8.exec(e),r?{r:lt(r[1]),g:lt(r[2]),b:lt(r[3]),a:pl(r[4]),format:t?"name":"hex8"}:(r=xt.hex6.exec(e),r?{r:lt(r[1]),g:lt(r[2]),b:lt(r[3]),format:t?"name":"hex"}:(r=xt.hex4.exec(e),r?{r:lt(r[1]+r[1]),g:lt(r[2]+r[2]),b:lt(r[3]+r[3]),a:pl(r[4]+r[4]),format:t?"name":"hex8"}:(r=xt.hex3.exec(e),r?{r:lt(r[1]+r[1]),g:lt(r[2]+r[2]),b:lt(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function Gt(e){return!!xt.CSS_UNIT.exec(String(e))}var Am=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var s;if(t instanceof e)return t;typeof t=="number"&&(t=Sm(t)),this.originalInput=t;var f=Em(t);this.originalInput=t,this.r=f.r,this.g=f.g,this.b=f.b,this.a=f.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=r.format)!==null&&s!==void 0?s:f.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=f.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,s,f,u=t.r/255,c=t.g/255,a=t.b/255;return u<=.03928?r=u/12.92:r=Math.pow((u+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),a<=.03928?f=a/12.92:f=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*s+.0722*f},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Hu(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=dl(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=dl(this.r,this.g,this.b),r=Math.round(t.h*360),s=Math.round(t.s*100),f=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(s,"%, ").concat(f,"%)"):"hsva(".concat(r,", ").concat(s,"%, ").concat(f,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=cl(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=cl(this.r,this.g,this.b),r=Math.round(t.h*360),s=Math.round(t.s*100),f=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(s,"%, ").concat(f,"%)"):"hsla(".concat(r,", ").concat(s,"%, ").concat(f,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),hl(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),wm(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(s,")"):"rgba(".concat(t,", ").concat(r,", ").concat(s,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(je(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(je(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+hl(this.r,this.g,this.b,!1),r=0,s=Object.entries(Ns);r<s.length;r++){var f=s[r],u=f[0],c=f[1];if(t===c)return u}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var s=!1,f=this.a<1&&this.a>=0,u=!r&&f&&(t.startsWith("hex")||t==="name");return u?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(s=this.toRgbString()),t==="prgb"&&(s=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(s=this.toHexString()),t==="hex3"&&(s=this.toHexString(!0)),t==="hex4"&&(s=this.toHex8String(!0)),t==="hex8"&&(s=this.toHex8String()),t==="name"&&(s=this.toName()),t==="hsl"&&(s=this.toHslString()),t==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=qn(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=qn(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=qn(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=qn(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),s=(r.h+t)%360;return r.h=s<0?360+s:s,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var s=this.toRgb(),f=new e(t).toRgb(),u=r/100,c={r:(f.r-s.r)*u+s.r,g:(f.g-s.g)*u+s.g,b:(f.b-s.b)*u+s.b,a:(f.a-s.a)*u+s.a};return new e(c)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var s=this.toHsl(),f=360/r,u=[this];for(s.h=(s.h-(f*t>>1)+720)%360;--t;)s.h=(s.h+f)%360,u.push(new e(s));return u},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),s=r.h,f=r.s,u=r.v,c=[],a=1/t;t--;)c.push(new e({h:s,s:f,v:u})),u=(u+a)%1;return c},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),s=new e(t).toRgb(),f=r.a+s.a*(1-r.a);return new e({r:(r.r*r.a+s.r*s.a*(1-r.a))/f,g:(r.g*r.a+s.g*s.a*(1-r.a))/f,b:(r.b*r.a+s.b*s.a*(1-r.a))/f,a:f})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),s=r.h,f=[this],u=360/t,c=1;c<t;c++)f.push(new e({h:(s+c*u)%360,s:r.s,l:r.l}));return f},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function ii(e,t=20){return e.mix("#141414",t).toString()}function Fm(e){const t=_i(),r=He("button");return M(()=>{let s={},f=e.color;if(f){const u=f.match(/var\((.*?)\)/);u&&(f=window.getComputedStyle(window.document.documentElement).getPropertyValue(u[1]));const c=new Am(f),a=e.dark?c.tint(20).toString():ii(c,20);if(e.plain)s=r.cssVarBlock({"bg-color":e.dark?ii(c,90):c.tint(90).toString(),"text-color":f,"border-color":e.dark?ii(c,50):c.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":f,"hover-border-color":f,"active-bg-color":a,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(s[r.cssVarBlockName("disabled-bg-color")]=e.dark?ii(c,90):c.tint(90).toString(),s[r.cssVarBlockName("disabled-text-color")]=e.dark?ii(c,50):c.tint(50).toString(),s[r.cssVarBlockName("disabled-border-color")]=e.dark?ii(c,80):c.tint(80).toString());else{const p=e.dark?ii(c,30):c.tint(30).toString(),v=c.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(s=r.cssVarBlock({"bg-color":f,"text-color":v,"border-color":f,"hover-bg-color":p,"hover-text-color":v,"hover-border-color":p,"active-bg-color":a,"active-border-color":a}),t.value){const g=e.dark?ii(c,50):c.tint(50).toString();s[r.cssVarBlockName("disabled-bg-color")]=g,s[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,s[r.cssVarBlockName("disabled-border-color")]=g}}}return s})}const Im=oe({name:"ElButton"}),Pm=oe({...Im,props:Ds,emits:gm,setup(e,{expose:t,emit:r}){const s=e,f=Fm(s),u=He("button"),{_ref:c,_size:a,_type:p,_disabled:v,_props:g,shouldAddSpace:y,handleClick:E}=dm(s,r),m=M(()=>[u.b(),u.m(p.value),u.m(a.value),u.is("disabled",v.value),u.is("loading",s.loading),u.is("plain",s.plain),u.is("round",s.round),u.is("circle",s.circle),u.is("text",s.text),u.is("link",s.link),u.is("has-bg",s.bg)]);return t({ref:c,size:a,type:p,disabled:v,shouldAddSpace:y}),(U,n)=>($(),ve(qt(U.tag),Ci({ref_key:"_ref",ref:c},w(g),{class:w(m),style:w(f),onClick:w(E)}),{default:ce(()=>[U.loading?($(),ee(Le,{key:0},[U.$slots.loading?ye(U.$slots,"loading",{key:0}):($(),ve(w(nt),{key:1,class:Y(w(u).is("loading"))},{default:ce(()=>[($(),ve(qt(U.loadingIcon)))]),_:1},8,["class"]))],64)):U.icon||U.$slots.icon?($(),ve(w(nt),{key:1},{default:ce(()=>[U.icon?($(),ve(qt(U.icon),{key:0})):ye(U.$slots,"icon",{key:1})]),_:3})):te("v-if",!0),U.$slots.default?($(),ee("span",{key:2,class:Y({[w(u).em("text","expand")]:w(y)})},[ye(U.$slots,"default")],2)):te("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Bm=rt(Pm,[["__file","button.vue"]]);const Lm={size:Ds.size,type:Ds.type},Om=oe({name:"ElButtonGroup"}),Rm=oe({...Om,props:Lm,setup(e){const t=e;en(Nu,Ii({size:Cn(t,"size"),type:Cn(t,"type")}));const r=He("button");return(s,f)=>($(),ee("div",{class:Y(w(r).b("group"))},[ye(s.$slots,"default")],2))}});var Gu=rt(Rm,[["__file","button-group.vue"]]);const zm=Li(Bm,{ButtonGroup:Gu});jr(Gu);const Vu=Ye({modelValue:{type:[String,Number,Boolean],default:void 0},size:Vr,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),km=Ye({...Vu,border:Boolean}),ju={[Ji]:e=>he(e)||On(e)||xr(e),[S0]:e=>he(e)||On(e)||xr(e)},Yu=Symbol("radioGroupKey"),Wu=(e,t)=>{const r=de(),s=Re(Yu,void 0),f=M(()=>!!s),u=M(()=>Ja(e.value)?e.label:e.value),c=M({get(){return f.value?s.modelValue:e.modelValue},set(y){f.value?s.changeEvent(y):t&&t(Ji,y),r.value.checked=e.modelValue===u.value}}),a=Hn(M(()=>s==null?void 0:s.size)),p=_i(M(()=>s==null?void 0:s.disabled)),v=de(!1),g=M(()=>p.value||f.value&&c.value!==u.value?-1:0);return $u({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},M(()=>f.value&&Ja(e.value))),{radioRef:r,isGroup:f,radioGroup:s,focus:v,size:a,disabled:p,tabIndex:g,modelValue:c,actualValue:u}},Mm=oe({name:"ElRadio"}),Dm=oe({...Mm,props:km,emits:ju,setup(e,{emit:t}){const r=e,s=He("radio"),{radioRef:f,radioGroup:u,focus:c,size:a,disabled:p,modelValue:v,actualValue:g}=Wu(r,t);function y(){yt(()=>t("change",v.value))}return(E,m)=>{var U;return $(),ee("label",{class:Y([w(s).b(),w(s).is("disabled",w(p)),w(s).is("focus",w(c)),w(s).is("bordered",E.border),w(s).is("checked",w(v)===w(g)),w(s).m(w(a))])},[re("span",{class:Y([w(s).e("input"),w(s).is("disabled",w(p)),w(s).is("checked",w(v)===w(g))])},[_f(re("input",{ref_key:"radioRef",ref:f,"onUpdate:modelValue":n=>Oe(v)?v.value=n:null,class:Y(w(s).e("original")),value:w(g),name:E.name||((U=w(u))==null?void 0:U.name),disabled:w(p),checked:w(v)===w(g),type:"radio",onFocus:n=>c.value=!0,onBlur:n=>c.value=!1,onChange:y,onClick:Tt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Qf,w(v)]]),re("span",{class:Y(w(s).e("inner"))},null,2)],2),re("span",{class:Y(w(s).e("label")),onKeydown:Tt(()=>{},["stop"])},[ye(E.$slots,"default",{},()=>[qi(ut(E.label),1)])],42,["onKeydown"])],2)}}});var Nm=rt(Dm,[["__file","radio.vue"]]);const $m=Ye({...Vu}),Hm=oe({name:"ElRadioButton"}),Gm=oe({...Hm,props:$m,setup(e){const t=e,r=He("radio"),{radioRef:s,focus:f,size:u,disabled:c,modelValue:a,radioGroup:p,actualValue:v}=Wu(t),g=M(()=>({backgroundColor:(p==null?void 0:p.fill)||"",borderColor:(p==null?void 0:p.fill)||"",boxShadow:p!=null&&p.fill?`-1px 0 0 0 ${p.fill}`:"",color:(p==null?void 0:p.textColor)||""}));return(y,E)=>{var m;return $(),ee("label",{class:Y([w(r).b("button"),w(r).is("active",w(a)===w(v)),w(r).is("disabled",w(c)),w(r).is("focus",w(f)),w(r).bm("button",w(u))])},[_f(re("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":U=>Oe(a)?a.value=U:null,class:Y(w(r).be("button","original-radio")),value:w(v),type:"radio",name:y.name||((m=w(p))==null?void 0:m.name),disabled:w(c),onFocus:U=>f.value=!0,onBlur:U=>f.value=!1,onClick:Tt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Qf,w(a)]]),re("span",{class:Y(w(r).be("button","inner")),style:Je(w(a)===w(v)?w(g):{}),onKeydown:Tt(()=>{},["stop"])},[ye(y.$slots,"default",{},()=>[qi(ut(y.label),1)])],46,["onKeydown"])],2)}}});var Ku=rt(Gm,[["__file","radio-button.vue"]]);const Vm=Ye({id:{type:String,default:void 0},size:Vr,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...ku(["ariaLabel"])}),jm=ju,Ym=oe({name:"ElRadioGroup"}),Wm=oe({...Ym,props:Vm,emits:jm,setup(e,{emit:t}){const r=e,s=He("radio"),f=Oo(),u=de(),{formItem:c}=Ro(),{inputId:a,isLabeledByFormItem:p}=Mu(r,{formItemContext:c}),v=y=>{t(Ji,y),yt(()=>t("change",y))};gi(()=>{const y=u.value.querySelectorAll("[type=radio]"),E=y[0];!Array.from(y).some(m=>m.checked)&&E&&(E.tabIndex=0)});const g=M(()=>r.name||f.value);return en(Yu,Ii({...ao(r),changeEvent:v,name:g})),ze(()=>r.modelValue,()=>{r.validateEvent&&(c==null||c.validate("change").catch(y=>void 0))}),(y,E)=>($(),ee("div",{id:w(a),ref_key:"radioGroupRef",ref:u,class:Y(w(s).b("group")),role:"radiogroup","aria-label":w(p)?void 0:y.ariaLabel||"radio-group","aria-labelledby":w(p)?w(c).labelId:void 0},[ye(y.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var qu=rt(Wm,[["__file","radio-group.vue"]]);Li(Nm,{RadioButton:Ku,RadioGroup:qu});const Km=jr(qu),qm=jr(Ku),Zm=Ye({size:{type:String,values:Po},disabled:Boolean}),Xm=Ye({...Zm,model:Object,rules:{type:fe(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Jm={validate:(e,t,r)=>(K(e)||he(e))&&xr(t)&&he(r)};function Qm(){const e=de([]),t=M(()=>{if(!e.value.length)return"0";const u=Math.max(...e.value);return u?`${u}px`:""});function r(u){const c=e.value.indexOf(u);return c===-1&&t.value,c}function s(u,c){if(u&&c){const a=r(c);e.value.splice(a,1,u)}else u&&e.value.push(u)}function f(u){const c=r(u);c>-1&&e.value.splice(c,1)}return{autoLabelWidth:t,registerLabelWidth:s,deregisterLabelWidth:f}}const Xn=(e,t)=>{const r=Bs(t);return r.length>0?e.filter(s=>s.prop&&r.includes(s.prop)):e},eb="ElForm",tb=oe({name:eb}),ib=oe({...tb,props:Xm,emits:Jm,setup(e,{expose:t,emit:r}){const s=e,f=[],u=Hn(),c=He("form"),a=M(()=>{const{labelPosition:h,inline:_}=s;return[c.b(),c.m(u.value||"default"),{[c.m(`label-${h}`)]:h,[c.m("inline")]:_}]}),p=h=>f.find(_=>_.prop===h),v=h=>{f.push(h)},g=h=>{h.prop&&f.splice(f.indexOf(h),1)},y=(h=[])=>{s.model&&Xn(f,h).forEach(_=>_.resetField())},E=(h=[])=>{Xn(f,h).forEach(_=>_.clearValidate())},m=M(()=>!!s.model),U=h=>{if(f.length===0)return[];const _=Xn(f,h);return _.length?_:[]},n=async h=>l(void 0,h),o=async(h=[])=>{if(!m.value)return!1;const _=U(h);if(_.length===0)return!0;let b={};for(const S of _)try{await S.validate(""),S.validateState==="error"&&S.resetField()}catch(C){b={...b,...C}}return Object.keys(b).length===0?!0:Promise.reject(b)},l=async(h=[],_)=>{const b=!J(_);try{const S=await o(h);return S===!0&&await(_==null?void 0:_(S)),S}catch(S){if(S instanceof Error)throw S;const C=S;return s.scrollToError&&d(Object.keys(C)[0]),await(_==null?void 0:_(!1,C)),b&&Promise.reject(C)}},d=h=>{var _;const b=Xn(f,h)[0];b&&((_=b.$el)==null||_.scrollIntoView(s.scrollIntoViewOptions))};return ze(()=>s.rules,()=>{s.validateOnRuleChange&&n().catch(h=>void 0)},{deep:!0,flush:"post"}),en(nn,Ii({...ao(s),emit:r,resetFields:y,clearValidate:E,validateField:l,getField:p,addField:v,removeField:g,...Qm()})),t({validate:n,validateField:l,resetFields:y,clearValidate:E,scrollToField:d,fields:f}),(h,_)=>($(),ee("form",{class:Y(w(a))},[ye(h.$slots,"default")],2))}});var nb=rt(ib,[["__file","form.vue"]]);function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Si.apply(this,arguments)}function rb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zn(e,t)}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$s(e)}function zn(e,t){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,f){return s.__proto__=f,s},zn(e,t)}function sb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nr(e,t,r){return sb()?nr=Reflect.construct.bind():nr=function(f,u,c){var a=[null];a.push.apply(a,u);var p=Function.bind.apply(f,a),v=new p;return c&&zn(v,c.prototype),v},nr.apply(null,arguments)}function ob(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Hs(e){var t=typeof Map=="function"?new Map:void 0;return Hs=function(s){if(s===null||!ob(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(s))return t.get(s);t.set(s,f)}function f(){return nr(s,arguments,$s(this).constructor)}return f.prototype=Object.create(s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),zn(f,s)},Hs(e)}var ab=/%[sdj%]/g,lb=function(){};function Gs(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var s=r.field;t[s]=t[s]||[],t[s].push(r)}),t}function dt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var f=0,u=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var c=e.replace(ab,function(a){if(a==="%%")return"%";if(f>=u)return a;switch(a){case"%s":return String(r[f++]);case"%d":return Number(r[f++]);case"%j":try{return JSON.stringify(r[f++])}catch{return"[Circular]"}break;default:return a}});return c}return e}function fb(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function De(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||fb(t)&&typeof e=="string"&&!e)}function ub(e,t,r){var s=[],f=0,u=e.length;function c(a){s.push.apply(s,a||[]),f++,f===u&&r(s)}e.forEach(function(a){t(a,c)})}function gl(e,t,r){var s=0,f=e.length;function u(c){if(c&&c.length){r(c);return}var a=s;s=s+1,a<f?t(e[a],u):r([])}u([])}function cb(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var _l=function(e){rb(t,e);function t(r,s){var f;return f=e.call(this,"Async Validation Error")||this,f.errors=r,f.fields=s,f}return t}(Hs(Error));function db(e,t,r,s,f){if(t.first){var u=new Promise(function(E,m){var U=function(l){return s(l),l.length?m(new _l(l,Gs(l))):E(f)},n=cb(e);gl(n,r,U)});return u.catch(function(E){return E}),u}var c=t.firstFields===!0?Object.keys(e):t.firstFields||[],a=Object.keys(e),p=a.length,v=0,g=[],y=new Promise(function(E,m){var U=function(o){if(g.push.apply(g,o),v++,v===p)return s(g),g.length?m(new _l(g,Gs(g))):E(f)};a.length||(s(g),E(f)),a.forEach(function(n){var o=e[n];c.indexOf(n)!==-1?gl(o,r,U):ub(o,r,U)})});return y.catch(function(E){return E}),y}function hb(e){return!!(e&&e.message!==void 0)}function pb(e,t){for(var r=e,s=0;s<t.length;s++){if(r==null)return r;r=r[t[s]]}return r}function vl(e,t){return function(r){var s;return e.fullFields?s=pb(t,e.fullFields):s=t[r.field||e.fullField],hb(r)?(r.field=r.field||e.fullField,r.fieldValue=s,r):{message:typeof r=="function"?r():r,fieldValue:s,field:r.field||e.fullField}}}function yl(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];typeof s=="object"&&typeof e[r]=="object"?e[r]=Si({},e[r],s):e[r]=s}}return e}var Zu=function(t,r,s,f,u,c){t.required&&(!s.hasOwnProperty(t.field)||De(r,c||t.type))&&f.push(dt(u.messages.required,t.fullField))},gb=function(t,r,s,f,u){(/^\s+$/.test(r)||r==="")&&f.push(dt(u.messages.whitespace,t.fullField))},Jn,_b=function(){if(Jn)return Jn;var e="[a-fA-F\\d:]",t=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",f=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+r+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+r+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+r+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+r+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+r+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+r+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+r+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+r+"$)|(?:^"+f+"$)"),c=new RegExp("^"+r+"$"),a=new RegExp("^"+f+"$"),p=function(_){return _&&_.exact?u:new RegExp("(?:"+t(_)+r+t(_)+")|(?:"+t(_)+f+t(_)+")","g")};p.v4=function(h){return h&&h.exact?c:new RegExp(""+t(h)+r+t(h),"g")},p.v6=function(h){return h&&h.exact?a:new RegExp(""+t(h)+f+t(h),"g")};var v="(?:(?:[a-z]+:)?//)",g="(?:\\S+(?::\\S*)?@)?",y=p.v4().source,E=p.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",U="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",n="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",o="(?::\\d{2,5})?",l='(?:[/?#][^\\s"]*)?',d="(?:"+v+"|www\\.)"+g+"(?:localhost|"+y+"|"+E+"|"+m+U+n+")"+o+l;return Jn=new RegExp("(?:^"+d+"$)","i"),Jn},ml={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},fn={integer:function(t){return fn.number(t)&&parseInt(t,10)===t},float:function(t){return fn.number(t)&&!fn.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!fn.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(ml.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(_b())},hex:function(t){return typeof t=="string"&&!!t.match(ml.hex)}},vb=function(t,r,s,f,u){if(t.required&&r===void 0){Zu(t,r,s,f,u);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=t.type;c.indexOf(a)>-1?fn[a](r)||f.push(dt(u.messages.types[a],t.fullField,t.type)):a&&typeof r!==t.type&&f.push(dt(u.messages.types[a],t.fullField,t.type))},yb=function(t,r,s,f,u){var c=typeof t.len=="number",a=typeof t.min=="number",p=typeof t.max=="number",v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=r,y=null,E=typeof r=="number",m=typeof r=="string",U=Array.isArray(r);if(E?y="number":m?y="string":U&&(y="array"),!y)return!1;U&&(g=r.length),m&&(g=r.replace(v,"_").length),c?g!==t.len&&f.push(dt(u.messages[y].len,t.fullField,t.len)):a&&!p&&g<t.min?f.push(dt(u.messages[y].min,t.fullField,t.min)):p&&!a&&g>t.max?f.push(dt(u.messages[y].max,t.fullField,t.max)):a&&p&&(g<t.min||g>t.max)&&f.push(dt(u.messages[y].range,t.fullField,t.min,t.max))},ki="enum",mb=function(t,r,s,f,u){t[ki]=Array.isArray(t[ki])?t[ki]:[],t[ki].indexOf(r)===-1&&f.push(dt(u.messages[ki],t.fullField,t[ki].join(", ")))},bb=function(t,r,s,f,u){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||f.push(dt(u.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var c=new RegExp(t.pattern);c.test(r)||f.push(dt(u.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},ue={required:Zu,whitespace:gb,type:vb,range:yb,enum:mb,pattern:bb},wb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r,"string")&&!t.required)return s();ue.required(t,r,f,c,u,"string"),De(r,"string")||(ue.type(t,r,f,c,u),ue.range(t,r,f,c,u),ue.pattern(t,r,f,c,u),t.whitespace===!0&&ue.whitespace(t,r,f,c,u))}s(c)},xb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&ue.type(t,r,f,c,u)}s(c)},Sb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(r===""&&(r=void 0),De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&(ue.type(t,r,f,c,u),ue.range(t,r,f,c,u))}s(c)},Eb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&ue.type(t,r,f,c,u)}s(c)},Ub=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),De(r)||ue.type(t,r,f,c,u)}s(c)},Tb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&(ue.type(t,r,f,c,u),ue.range(t,r,f,c,u))}s(c)},Cb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&(ue.type(t,r,f,c,u),ue.range(t,r,f,c,u))}s(c)},Ab=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(r==null&&!t.required)return s();ue.required(t,r,f,c,u,"array"),r!=null&&(ue.type(t,r,f,c,u),ue.range(t,r,f,c,u))}s(c)},Fb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&ue.type(t,r,f,c,u)}s(c)},Ib="enum",Pb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u),r!==void 0&&ue[Ib](t,r,f,c,u)}s(c)},Bb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r,"string")&&!t.required)return s();ue.required(t,r,f,c,u),De(r,"string")||ue.pattern(t,r,f,c,u)}s(c)},Lb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r,"date")&&!t.required)return s();if(ue.required(t,r,f,c,u),!De(r,"date")){var p;r instanceof Date?p=r:p=new Date(r),ue.type(t,p,f,c,u),p&&ue.range(t,p.getTime(),f,c,u)}}s(c)},Ob=function(t,r,s,f,u){var c=[],a=Array.isArray(r)?"array":typeof r;ue.required(t,r,f,c,u,a),s(c)},ps=function(t,r,s,f,u){var c=t.type,a=[],p=t.required||!t.required&&f.hasOwnProperty(t.field);if(p){if(De(r,c)&&!t.required)return s();ue.required(t,r,f,a,u,c),De(r,c)||ue.type(t,r,f,a,u)}s(a)},Rb=function(t,r,s,f,u){var c=[],a=t.required||!t.required&&f.hasOwnProperty(t.field);if(a){if(De(r)&&!t.required)return s();ue.required(t,r,f,c,u)}s(c)},Sn={string:wb,method:xb,number:Sb,boolean:Eb,regexp:Ub,integer:Tb,float:Cb,array:Ab,object:Fb,enum:Pb,pattern:Bb,date:Lb,url:ps,hex:ps,email:ps,required:Ob,any:Rb};function Vs(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var js=Vs(),Gn=function(){function e(r){this.rules=null,this._messages=js,this.define(r)}var t=e.prototype;return t.define=function(s){var f=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(u){var c=s[u];f.rules[u]=Array.isArray(c)?c:[c]})},t.messages=function(s){return s&&(this._messages=yl(Vs(),s)),this._messages},t.validate=function(s,f,u){var c=this;f===void 0&&(f={}),u===void 0&&(u=function(){});var a=s,p=f,v=u;if(typeof p=="function"&&(v=p,p={}),!this.rules||Object.keys(this.rules).length===0)return v&&v(null,a),Promise.resolve(a);function g(n){var o=[],l={};function d(_){if(Array.isArray(_)){var b;o=(b=o).concat.apply(b,_)}else o.push(_)}for(var h=0;h<n.length;h++)d(n[h]);o.length?(l=Gs(o),v(o,l)):v(null,a)}if(p.messages){var y=this.messages();y===js&&(y=Vs()),yl(y,p.messages),p.messages=y}else p.messages=this.messages();var E={},m=p.keys||Object.keys(this.rules);m.forEach(function(n){var o=c.rules[n],l=a[n];o.forEach(function(d){var h=d;typeof h.transform=="function"&&(a===s&&(a=Si({},a)),l=a[n]=h.transform(l)),typeof h=="function"?h={validator:h}:h=Si({},h),h.validator=c.getValidationMethod(h),h.validator&&(h.field=n,h.fullField=h.fullField||n,h.type=c.getType(h),E[n]=E[n]||[],E[n].push({rule:h,value:l,source:a,field:n}))})});var U={};return db(E,p,function(n,o){var l=n.rule,d=(l.type==="object"||l.type==="array")&&(typeof l.fields=="object"||typeof l.defaultField=="object");d=d&&(l.required||!l.required&&n.value),l.field=n.field;function h(S,C){return Si({},C,{fullField:l.fullField+"."+S,fullFields:l.fullFields?[].concat(l.fullFields,[S]):[S]})}function _(S){S===void 0&&(S=[]);var C=Array.isArray(S)?S:[S];!p.suppressWarning&&C.length&&e.warning("async-validator:",C),C.length&&l.message!==void 0&&(C=[].concat(l.message));var B=C.map(vl(l,a));if(p.first&&B.length)return U[l.field]=1,o(B);if(!d)o(B);else{if(l.required&&!n.value)return l.message!==void 0?B=[].concat(l.message).map(vl(l,a)):p.error&&(B=[p.error(l,dt(p.messages.required,l.field))]),o(B);var I={};l.defaultField&&Object.keys(n.value).map(function(A){I[A]=l.defaultField}),I=Si({},I,n.rule.fields);var k={};Object.keys(I).forEach(function(A){var W=I[A],Q=Array.isArray(W)?W:[W];k[A]=Q.map(h.bind(null,A))});var G=new e(k);G.messages(p.messages),n.rule.options&&(n.rule.options.messages=p.messages,n.rule.options.error=p.error),G.validate(n.value,n.rule.options||p,function(A){var W=[];B&&B.length&&W.push.apply(W,B),A&&A.length&&W.push.apply(W,A),o(W.length?W:null)})}}var b;if(l.asyncValidator)b=l.asyncValidator(l,n.value,_,n.source,p);else if(l.validator){try{b=l.validator(l,n.value,_,n.source,p)}catch(S){console.error==null||console.error(S),p.suppressValidatorError||setTimeout(function(){throw S},0),_(S.message)}b===!0?_():b===!1?_(typeof l.message=="function"?l.message(l.fullField||l.field):l.message||(l.fullField||l.field)+" fails"):b instanceof Array?_(b):b instanceof Error&&_(b.message)}b&&b.then&&b.then(function(){return _()},function(S){return _(S)})},function(n){g(n)},a)},t.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!Sn.hasOwnProperty(s.type))throw new Error(dt("Unknown rule type %s",s.type));return s.type||"string"},t.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var f=Object.keys(s),u=f.indexOf("message");return u!==-1&&f.splice(u,1),f.length===1&&f[0]==="required"?Sn.required:Sn[this.getType(s)]||void 0},e}();Gn.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Sn[t]=r};Gn.warning=lb;Gn.messages=js;Gn.validators=Sn;const zb=["","error","validating","success"],kb=Ye({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:fe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:fe([Object,Array])},error:String,validateStatus:{type:String,values:zb},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Po}}),bl="ElLabelWrap";var Mb=oe({name:bl,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=Re(nn,void 0),s=Re(Rn);s||Gr(bl,"usage: <el-form-item><label-wrap /></el-form-item>");const f=He("form"),u=de(),c=de(0),a=()=>{var g;if((g=u.value)!=null&&g.firstElementChild){const y=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(y))}else return 0},p=(g="update")=>{yt(()=>{t.default&&e.isAutoWidth&&(g==="update"?c.value=a():g==="remove"&&(r==null||r.deregisterLabelWidth(c.value)))})},v=()=>p("update");return gi(()=>{v()}),Dn(()=>{p("remove")}),fo(()=>v()),ze(c,(g,y)=>{e.updateAll&&(r==null||r.registerLabelWidth(g,y))}),Pu(M(()=>{var g,y;return(y=(g=u.value)==null?void 0:g.firstElementChild)!=null?y:null}),v),()=>{var g,y;if(!t)return null;const{isAutoWidth:E}=e;if(E){const m=r==null?void 0:r.autoLabelWidth,U=s==null?void 0:s.hasLabel,n={};if(U&&m&&m!=="auto"){const o=Math.max(0,Number.parseInt(m,10)-c.value),d=(s.labelPosition||r.labelPosition)==="left"?"marginRight":"marginLeft";o&&(n[d]=`${o}px`)}return le("div",{ref:u,class:[f.be("item","label-wrap")],style:n},[(g=t.default)==null?void 0:g.call(t)])}else return le(Le,{ref:u},[(y=t.default)==null?void 0:y.call(t)])}}});const Db=oe({name:"ElFormItem"}),Nb=oe({...Db,props:kb,setup(e,{expose:t}){const r=e,s=uo(),f=Re(nn,void 0),u=Re(Rn,void 0),c=Hn(void 0,{formItem:!1}),a=He("form-item"),p=Oo().value,v=de([]),g=de(""),y=Jy(g,100),E=de(""),m=de();let U,n=!1;const o=M(()=>r.labelPosition||(f==null?void 0:f.labelPosition)),l=M(()=>{if(o.value==="top")return{};const q=Ms(r.labelWidth||(f==null?void 0:f.labelWidth)||"");return q?{width:q}:{}}),d=M(()=>{if(o.value==="top"||f!=null&&f.inline)return{};if(!r.label&&!r.labelWidth&&k)return{};const q=Ms(r.labelWidth||(f==null?void 0:f.labelWidth)||"");return!r.label&&!s.label?{marginLeft:q}:{}}),h=M(()=>[a.b(),a.m(c.value),a.is("error",g.value==="error"),a.is("validating",g.value==="validating"),a.is("success",g.value==="success"),a.is("required",ke.value||r.required),a.is("no-asterisk",f==null?void 0:f.hideRequiredAsterisk),(f==null?void 0:f.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[a.m("feedback")]:f==null?void 0:f.statusIcon,[a.m(`label-${o.value}`)]:o.value}]),_=M(()=>xr(r.inlineMessage)?r.inlineMessage:(f==null?void 0:f.inlineMessage)||!1),b=M(()=>[a.e("error"),{[a.em("error","inline")]:_.value}]),S=M(()=>r.prop?he(r.prop)?r.prop:r.prop.join("."):""),C=M(()=>!!(r.label||s.label)),B=M(()=>r.for||(v.value.length===1?v.value[0]:void 0)),I=M(()=>!B.value&&C.value),k=!!u,G=M(()=>{const q=f==null?void 0:f.model;if(!(!q||!r.prop))return us(q,r.prop).value}),A=M(()=>{const{required:q}=r,ae=[];r.rules&&ae.push(...Bs(r.rules));const Ee=f==null?void 0:f.rules;if(Ee&&r.prop){const Be=us(Ee,r.prop).value;Be&&ae.push(...Bs(Be))}if(q!==void 0){const Be=ae.map((x,T)=>[x,T]).filter(([x])=>Object.keys(x).includes("required"));if(Be.length>0)for(const[x,T]of Be)x.required!==q&&(ae[T]={...x,required:q});else ae.push({required:q})}return ae}),W=M(()=>A.value.length>0),Q=q=>A.value.filter(Ee=>!Ee.trigger||!q?!0:K(Ee.trigger)?Ee.trigger.includes(q):Ee.trigger===q).map(({trigger:Ee,...Be})=>Be),ke=M(()=>A.value.some(q=>q.required)),we=M(()=>{var q;return y.value==="error"&&r.showMessage&&((q=f==null?void 0:f.showMessage)!=null?q:!0)}),ne=M(()=>`${r.label||""}${(f==null?void 0:f.labelSuffix)||""}`),X=q=>{g.value=q},Pe=q=>{var ae,Ee;const{errors:Be,fields:x}=q;(!Be||!x)&&console.error(q),X("error"),E.value=Be?(Ee=(ae=Be==null?void 0:Be[0])==null?void 0:ae.message)!=null?Ee:`${r.prop} is required`:"",f==null||f.emit("validate",r.prop,!1,E.value)},Ne=()=>{X("success"),f==null||f.emit("validate",r.prop,!0,"")},Ge=async q=>{const ae=S.value;return new Gn({[ae]:q}).validate({[ae]:G.value},{firstFields:!0}).then(()=>(Ne(),!0)).catch(Be=>(Pe(Be),Promise.reject(Be)))},Ie=async(q,ae)=>{if(n||!r.prop)return!1;const Ee=J(ae);if(!W.value)return ae==null||ae(!1),!1;const Be=Q(q);return Be.length===0?(ae==null||ae(!0),!0):(X("validating"),Ge(Be).then(()=>(ae==null||ae(!0),!0)).catch(x=>{const{fields:T}=x;return ae==null||ae(!1,T),Ee?!1:Promise.reject(T)}))},et=()=>{X(""),E.value="",n=!1},ie=async()=>{const q=f==null?void 0:f.model;if(!q||!r.prop)return;const ae=us(q,r.prop);n=!0,ae.value=Ya(U),await yt(),et(),n=!1},Oi=q=>{v.value.includes(q)||v.value.push(q)},st=q=>{v.value=v.value.filter(ae=>ae!==q)};ze(()=>r.error,q=>{E.value=q||"",X(q?"error":"")},{immediate:!0}),ze(()=>r.validateStatus,q=>X(q||""));const $t=Ii({...ao(r),$el:m,size:c,validateState:g,labelId:p,inputIds:v,isGroup:I,hasLabel:C,fieldValue:G,addInputId:Oi,removeInputId:st,resetField:ie,clearValidate:et,validate:Ie});return en(Rn,$t),gi(()=>{r.prop&&(f==null||f.addField($t),U=Ya(G.value))}),Dn(()=>{f==null||f.removeField($t)}),t({size:c,validateMessage:E,validateState:g,validate:Ie,clearValidate:et,resetField:ie}),(q,ae)=>{var Ee;return $(),ee("div",{ref_key:"formItemRef",ref:m,class:Y(w(h)),role:w(I)?"group":void 0,"aria-labelledby":w(I)?w(p):void 0},[le(w(Mb),{"is-auto-width":w(l).width==="auto","update-all":((Ee=w(f))==null?void 0:Ee.labelWidth)==="auto"},{default:ce(()=>[w(C)?($(),ve(qt(w(B)?"label":"div"),{key:0,id:w(p),for:w(B),class:Y(w(a).e("label")),style:Je(w(l))},{default:ce(()=>[ye(q.$slots,"label",{label:w(ne)},()=>[qi(ut(w(ne)),1)])]),_:3},8,["id","for","class","style"])):te("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),re("div",{class:Y(w(a).e("content")),style:Je(w(d))},[ye(q.$slots,"default"),le(Jf,{name:`${w(a).namespace.value}-zoom-in-top`},{default:ce(()=>[w(we)?ye(q.$slots,"error",{key:0,error:E.value},()=>[re("div",{class:Y(w(b))},ut(E.value),3)]):te("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Xu=rt(Nb,[["__file","form-item.vue"]]);const $b=Li(nb,{FormItem:Xu}),Hb=jr(Xu),Gb=Ye({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:fe(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:fe([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:fe(Function),default:e=>`${e}%`}}),Vb=oe({name:"ElProgress"}),jb=oe({...Vb,props:Gb,setup(e){const t=e,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=He("progress"),f=M(()=>{const h={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},_=d(t.percentage);return _.includes("gradient")?h.background=_:h.backgroundColor=_,h}),u=M(()=>(t.strokeWidth/t.width*100).toFixed(1)),c=M(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(u.value)/2}`,10):0),a=M(()=>{const h=c.value,_=t.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${h}
          a ${h} ${h} 0 1 1 0 ${_?"-":""}${h*2}
          a ${h} ${h} 0 1 1 0 ${_?"":"-"}${h*2}
          `}),p=M(()=>2*Math.PI*c.value),v=M(()=>t.type==="dashboard"?.75:1),g=M(()=>`${-1*p.value*(1-v.value)/2}px`),y=M(()=>({strokeDasharray:`${p.value*v.value}px, ${p.value}px`,strokeDashoffset:g.value})),E=M(()=>({strokeDasharray:`${p.value*v.value*(t.percentage/100)}px, ${p.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),m=M(()=>{let h;return t.color?h=d(t.percentage):h=r[t.status]||r.default,h}),U=M(()=>t.status==="warning"?H0:t.type==="line"?t.status==="success"?Bo:Lo:t.status==="success"?Ou:Ru),n=M(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),o=M(()=>t.format(t.percentage));function l(h){const _=100/h.length;return h.map((S,C)=>he(S)?{color:S,percentage:(C+1)*_}:S).sort((S,C)=>S.percentage-C.percentage)}const d=h=>{var _;const{color:b}=t;if(J(b))return b(h);if(he(b))return b;{const S=l(b);for(const C of S)if(C.percentage>h)return C.color;return(_=S[S.length-1])==null?void 0:_.color}};return(h,_)=>($(),ee("div",{class:Y([w(s).b(),w(s).m(h.type),w(s).is(h.status),{[w(s).m("without-text")]:!h.showText,[w(s).m("text-inside")]:h.textInside}]),role:"progressbar","aria-valuenow":h.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[h.type==="line"?($(),ee("div",{key:0,class:Y(w(s).b("bar"))},[re("div",{class:Y(w(s).be("bar","outer")),style:Je({height:`${h.strokeWidth}px`})},[re("div",{class:Y([w(s).be("bar","inner"),{[w(s).bem("bar","inner","indeterminate")]:h.indeterminate},{[w(s).bem("bar","inner","striped")]:h.striped},{[w(s).bem("bar","inner","striped-flow")]:h.stripedFlow}]),style:Je(w(f))},[(h.showText||h.$slots.default)&&h.textInside?($(),ee("div",{key:0,class:Y(w(s).be("bar","innerText"))},[ye(h.$slots,"default",{percentage:h.percentage},()=>[re("span",null,ut(w(o)),1)])],2)):te("v-if",!0)],6)],6)],2)):($(),ee("div",{key:1,class:Y(w(s).b("circle")),style:Je({height:`${h.width}px`,width:`${h.width}px`})},[($(),ee("svg",{viewBox:"0 0 100 100"},[re("path",{class:Y(w(s).be("circle","track")),d:w(a),stroke:`var(${w(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":h.strokeLinecap,"stroke-width":w(u),fill:"none",style:Je(w(y))},null,14,["d","stroke","stroke-linecap","stroke-width"]),re("path",{class:Y(w(s).be("circle","path")),d:w(a),stroke:w(m),fill:"none",opacity:h.percentage?1:0,"stroke-linecap":h.strokeLinecap,"stroke-width":w(u),style:Je(w(E))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(h.showText||h.$slots.default)&&!h.textInside?($(),ee("div",{key:2,class:Y(w(s).e("text")),style:Je({fontSize:`${w(n)}px`})},[ye(h.$slots,"default",{percentage:h.percentage},()=>[h.status?($(),ve(w(nt),{key:1},{default:ce(()=>[($(),ve(qt(w(U))))]),_:1})):($(),ee("span",{key:0},ut(w(o)),1))])],6)):te("v-if",!0)],10,["aria-valuenow"]))}});var Yb=rt(jb,[["__file","progress.vue"]]);const Wb=Li(Yb),Ju=Symbol("uploadContextKey"),Kb="ElUpload";class qb extends Error{constructor(t,r,s,f){super(t),this.name="UploadAjaxError",this.status=r,this.method=s,this.url=f}}function wl(e,t,r){let s;return r.response?s=`${r.response.error||r.response}`:r.responseText?s=`${r.responseText}`:s=`fail to ${t.method} ${e} ${r.status}`,new qb(s,r.status,t.method,e)}function Zb(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Xb=e=>{typeof XMLHttpRequest>"u"&&Gr(Kb,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,r=e.action;t.upload&&t.upload.addEventListener("progress",u=>{const c=u;c.percent=u.total>0?u.loaded/u.total*100:0,e.onProgress(c)});const s=new FormData;if(e.data)for(const[u,c]of Object.entries(e.data))K(c)&&c.length?s.append(u,...c):s.append(u,c);s.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(wl(r,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(wl(r,e,t));e.onSuccess(Zb(t))}),t.open(e.method,r,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const f=e.headers||{};if(f instanceof Headers)f.forEach((u,c)=>t.setRequestHeader(c,u));else for(const[u,c]of Object.entries(f))$r(c)||t.setRequestHeader(u,String(c));return t.send(s),t},Qu=["text","picture","picture-card"];let Jb=1;const Ys=()=>Date.now()+Jb++,ec=Ye({action:{type:String,default:"#"},headers:{type:fe(Object)},method:{type:String,default:"post"},data:{type:fe([Object,Function,Promise]),default:()=>Ur({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:fe(Array),default:()=>Ur([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Qu,default:"text"},httpRequest:{type:fe(Function),default:Xb},disabled:Boolean,limit:Number}),Qb=Ye({...ec,beforeUpload:{type:fe(Function),default:Se},beforeRemove:{type:fe(Function)},onRemove:{type:fe(Function),default:Se},onChange:{type:fe(Function),default:Se},onPreview:{type:fe(Function),default:Se},onSuccess:{type:fe(Function),default:Se},onProgress:{type:fe(Function),default:Se},onError:{type:fe(Function),default:Se},onExceed:{type:fe(Function),default:Se},crossorigin:{type:fe(String)}}),ew=Ye({files:{type:fe(Array),default:()=>Ur([])},disabled:{type:Boolean,default:!1},handlePreview:{type:fe(Function),default:Se},listType:{type:String,values:Qu,default:"text"},crossorigin:{type:fe(String)}}),tw={remove:e=>!!e},iw=oe({name:"ElUploadList"}),nw=oe({...iw,props:ew,emits:tw,setup(e,{emit:t}){const r=e,{t:s}=v0(),f=He("upload"),u=He("icon"),c=He("list"),a=_i(),p=de(!1),v=M(()=>[f.b("list"),f.bm("list",r.listType),f.is("disabled",r.disabled)]),g=y=>{t("remove",y)};return(y,E)=>($(),ve(Jf,{tag:"ul",class:Y(w(v)),name:w(c).b()},{default:ce(()=>[($(!0),ee(Le,null,Sd(y.files,(m,U)=>($(),ee("li",{key:m.uid||m.name,class:Y([w(f).be("list","item"),w(f).is(m.status),{focusing:p.value}]),tabindex:"0",onKeydown:eu(n=>!w(a)&&g(m),["delete"]),onFocus:n=>p.value=!0,onBlur:n=>p.value=!1,onClick:n=>p.value=!1},[ye(y.$slots,"default",{file:m,index:U},()=>[y.listType==="picture"||m.status!=="uploading"&&y.listType==="picture-card"?($(),ee("img",{key:0,class:Y(w(f).be("list","item-thumbnail")),src:m.url,crossorigin:y.crossorigin,alt:""},null,10,["src","crossorigin"])):te("v-if",!0),m.status==="uploading"||y.listType!=="picture-card"?($(),ee("div",{key:1,class:Y(w(f).be("list","item-info"))},[re("a",{class:Y(w(f).be("list","item-name")),onClick:Tt(n=>y.handlePreview(m),["prevent"])},[le(w(nt),{class:Y(w(u).m("document"))},{default:ce(()=>[le(w(R0))]),_:1},8,["class"]),re("span",{class:Y(w(f).be("list","item-file-name")),title:m.name},ut(m.name),11,["title"])],10,["onClick"]),m.status==="uploading"?($(),ve(w(Wb),{key:0,type:y.listType==="picture-card"?"circle":"line","stroke-width":y.listType==="picture-card"?6:2,percentage:Number(m.percentage),style:Je(y.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):te("v-if",!0)],2)):te("v-if",!0),re("label",{class:Y(w(f).be("list","item-status-label"))},[y.listType==="text"?($(),ve(w(nt),{key:0,class:Y([w(u).m("upload-success"),w(u).m("circle-check")])},{default:ce(()=>[le(w(Bo))]),_:1},8,["class"])):["picture-card","picture"].includes(y.listType)?($(),ve(w(nt),{key:1,class:Y([w(u).m("upload-success"),w(u).m("check")])},{default:ce(()=>[le(w(Ou))]),_:1},8,["class"])):te("v-if",!0)],2),w(a)?te("v-if",!0):($(),ve(w(nt),{key:2,class:Y(w(u).m("close")),onClick:n=>g(m)},{default:ce(()=>[le(w(Ru))]),_:2},1032,["class","onClick"])),te(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),te(" This is a bug which needs to be fixed "),te(" TODO: Fix the incorrect navigation interaction "),w(a)?te("v-if",!0):($(),ee("i",{key:3,class:Y(w(u).m("close-tip"))},ut(w(s)("el.upload.deleteTip")),3)),y.listType==="picture-card"?($(),ee("span",{key:4,class:Y(w(f).be("list","item-actions"))},[re("span",{class:Y(w(f).be("list","item-preview")),onClick:n=>y.handlePreview(m)},[le(w(nt),{class:Y(w(u).m("zoom-in"))},{default:ce(()=>[le(w(V0))]),_:1},8,["class"])],10,["onClick"]),w(a)?te("v-if",!0):($(),ee("span",{key:0,class:Y(w(f).be("list","item-delete")),onClick:n=>g(m)},[le(w(nt),{class:Y(w(u).m("delete"))},{default:ce(()=>[le(w(L0))]),_:1},8,["class"])],10,["onClick"]))],2)):te("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),ye(y.$slots,"append")]),_:3},8,["class","name"]))}});var xl=rt(nw,[["__file","upload-list.vue"]]);const rw=Ye({disabled:{type:Boolean,default:!1}}),sw={file:e=>K(e)},tc="ElUploadDrag",ow=oe({name:tc}),aw=oe({...ow,props:rw,emits:sw,setup(e,{emit:t}){Re(Ju)||Gr(tc,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=He("upload"),f=de(!1),u=_i(),c=p=>{if(u.value)return;f.value=!1,p.stopPropagation();const v=Array.from(p.dataTransfer.files);t("file",v)},a=()=>{u.value||(f.value=!0)};return(p,v)=>($(),ee("div",{class:Y([w(s).b("dragger"),w(s).is("dragover",f.value)]),onDrop:Tt(c,["prevent"]),onDragover:Tt(a,["prevent"]),onDragleave:Tt(g=>f.value=!1,["prevent"])},[ye(p.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var lw=rt(aw,[["__file","upload-dragger.vue"]]);const fw=Ye({...ec,beforeUpload:{type:fe(Function),default:Se},onRemove:{type:fe(Function),default:Se},onStart:{type:fe(Function),default:Se},onSuccess:{type:fe(Function),default:Se},onProgress:{type:fe(Function),default:Se},onError:{type:fe(Function),default:Se},onExceed:{type:fe(Function),default:Se}}),uw=oe({name:"ElUploadContent",inheritAttrs:!1}),cw=oe({...uw,props:fw,setup(e,{expose:t}){const r=e,s=He("upload"),f=_i(),u=ui({}),c=ui(),a=n=>{if(n.length===0)return;const{autoUpload:o,limit:l,fileList:d,multiple:h,onStart:_,onExceed:b}=r;if(l&&d.length+n.length>l){b(n,d);return}h||(n=n.slice(0,1));for(const S of n){const C=S;C.uid=Ys(),_(C),o&&p(C)}},p=async n=>{if(c.value.value="",!r.beforeUpload)return g(n);let o,l={};try{const h=r.data,_=r.beforeUpload(n);l=lr(r.data)?Wa(r.data):r.data,o=await _,lr(r.data)&&Iy(h,l)&&(l=Wa(r.data))}catch{o=!1}if(o===!1){r.onRemove(n);return}let d=n;o instanceof Blob&&(o instanceof File?d=o:d=new File([o],n.name,{type:n.type})),g(Object.assign(d,{uid:n.uid}),l)},v=async(n,o)=>J(n)?n(o):n,g=async(n,o)=>{const{headers:l,data:d,method:h,withCredentials:_,name:b,action:S,onProgress:C,onSuccess:B,onError:I,httpRequest:k}=r;try{o=await v(o??d,n)}catch{r.onRemove(n);return}const{uid:G}=n,A={headers:l||{},withCredentials:_,file:n,data:o,method:h,filename:b,action:S,onProgress:Q=>{C(Q,n)},onSuccess:Q=>{B(Q,n),delete u.value[G]},onError:Q=>{I(Q,n),delete u.value[G]}},W=k(A);u.value[G]=W,W instanceof Promise&&W.then(A.onSuccess,A.onError)},y=n=>{const o=n.target.files;o&&a(Array.from(o))},E=()=>{f.value||(c.value.value="",c.value.click())},m=()=>{E()};return t({abort:n=>{w0(u.value).filter(n?([l])=>String(n.uid)===l:()=>!0).forEach(([l,d])=>{d instanceof XMLHttpRequest&&d.abort(),delete u.value[l]})},upload:p}),(n,o)=>($(),ee("div",{class:Y([w(s).b(),w(s).m(n.listType),w(s).is("drag",n.drag),w(s).is("disabled",w(f))]),tabindex:w(f)?"-1":"0",onClick:E,onKeydown:eu(Tt(m,["self"]),["enter","space"])},[n.drag?($(),ve(lw,{key:0,disabled:w(f),onFile:a},{default:ce(()=>[ye(n.$slots,"default")]),_:3},8,["disabled"])):ye(n.$slots,"default",{key:1}),re("input",{ref_key:"inputRef",ref:c,class:Y(w(s).e("input")),name:n.name,disabled:w(f),multiple:n.multiple,accept:n.accept,type:"file",onChange:y,onClick:Tt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var Sl=rt(cw,[["__file","upload-content.vue"]]);const El="ElUpload",Ul=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},dw=(e,t)=>{const r=u0(e,"fileList",void 0,{passive:!0}),s=m=>r.value.find(U=>U.uid===m.uid);function f(m){var U;(U=t.value)==null||U.abort(m)}function u(m=["ready","uploading","success","fail"]){r.value=r.value.filter(U=>!m.includes(U.status))}function c(m){r.value=r.value.filter(U=>U.uid!==m.uid)}const a=(m,U)=>{const n=s(U);n&&(console.error(m),n.status="fail",c(n),e.onError(m,n,r.value),e.onChange(n,r.value))},p=(m,U)=>{const n=s(U);n&&(e.onProgress(m,n,r.value),n.status="uploading",n.percentage=Math.round(m.percent))},v=(m,U)=>{const n=s(U);n&&(n.status="success",n.response=m,e.onSuccess(m,n,r.value),e.onChange(n,r.value))},g=m=>{$r(m.uid)&&(m.uid=Ys());const U={name:m.name,percentage:0,status:"ready",size:m.size,raw:m,uid:m.uid};if(e.listType==="picture-card"||e.listType==="picture")try{U.url=URL.createObjectURL(m)}catch(n){n.message,e.onError(n,U,r.value)}r.value=[...r.value,U],e.onChange(U,r.value)},y=async m=>{const U=m instanceof File?s(m):m;U||Gr(El,"file to be removed not found");const n=o=>{f(o),c(o),e.onRemove(o,r.value),Ul(o)};e.beforeRemove?await e.beforeRemove(U,r.value)!==!1&&n(U):n(U)};function E(){r.value.filter(({status:m})=>m==="ready").forEach(({raw:m})=>{var U;return m&&((U=t.value)==null?void 0:U.upload(m))})}return ze(()=>e.listType,m=>{m!=="picture-card"&&m!=="picture"||(r.value=r.value.map(U=>{const{raw:n,url:o}=U;if(!o&&n)try{U.url=URL.createObjectURL(n)}catch(l){e.onError(l,U,r.value)}return U}))}),ze(r,m=>{for(const U of m)U.uid||(U.uid=Ys()),U.status||(U.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:f,clearFiles:u,handleError:a,handleProgress:p,handleStart:g,handleSuccess:v,handleRemove:y,submit:E,revokeFileObjectURL:Ul}},hw=oe({name:"ElUpload"}),pw=oe({...hw,props:Qb,setup(e,{expose:t}){const r=e,s=_i(),f=ui(),{abort:u,submit:c,clearFiles:a,uploadFiles:p,handleStart:v,handleError:g,handleRemove:y,handleSuccess:E,handleProgress:m,revokeFileObjectURL:U}=dw(r,f),n=M(()=>r.listType==="picture-card"),o=M(()=>({...r,fileList:p.value,onStart:v,onProgress:m,onSuccess:E,onError:g,onRemove:y}));return Dn(()=>{p.value.forEach(U)}),en(Ju,{accept:Cn(r,"accept")}),t({abort:u,submit:c,clearFiles:a,handleStart:v,handleRemove:y}),(l,d)=>($(),ee("div",null,[w(n)&&l.showFileList?($(),ve(xl,{key:0,disabled:w(s),"list-type":l.listType,files:w(p),crossorigin:l.crossorigin,"handle-preview":l.onPreview,onRemove:w(y)},jo({append:ce(()=>[le(Sl,Ci({ref_key:"uploadRef",ref:f},w(o)),{default:ce(()=>[l.$slots.trigger?ye(l.$slots,"trigger",{key:0}):te("v-if",!0),!l.$slots.trigger&&l.$slots.default?ye(l.$slots,"default",{key:1}):te("v-if",!0)]),_:3},16)]),_:2},[l.$slots.file?{name:"default",fn:ce(({file:h,index:_})=>[ye(l.$slots,"file",{file:h,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):te("v-if",!0),!w(n)||w(n)&&!l.showFileList?($(),ve(Sl,Ci({key:1,ref_key:"uploadRef",ref:f},w(o)),{default:ce(()=>[l.$slots.trigger?ye(l.$slots,"trigger",{key:0}):te("v-if",!0),!l.$slots.trigger&&l.$slots.default?ye(l.$slots,"default",{key:1}):te("v-if",!0)]),_:3},16)):te("v-if",!0),l.$slots.trigger?ye(l.$slots,"default",{key:2}):te("v-if",!0),ye(l.$slots,"tip"),!w(n)&&l.showFileList?($(),ve(xl,{key:3,disabled:w(s),"list-type":l.listType,files:w(p),crossorigin:l.crossorigin,"handle-preview":l.onPreview,onRemove:w(y)},jo({_:2},[l.$slots.file?{name:"default",fn:ce(({file:h,index:_})=>[ye(l.$slots,"file",{file:h,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):te("v-if",!0)]))}});var gw=rt(pw,[["__file","upload.vue"]]);const _w=Li(gw);function gt(e,t,r,s){function f(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function a(g){try{v(s.next(g))}catch(y){c(y)}}function p(g){try{v(s.throw(g))}catch(y){c(y)}}function v(g){g.done?u(g.value):f(g.value).then(a,p)}v((s=s.apply(e,[])).next())})}function Ue(e,t,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)}function Ki(e,t,r,s,f){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function ic(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gs={exports:{}},Tl;function vw(){return Tl||(Tl=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function f(p,v,g){this.fn=p,this.context=v,this.once=g||!1}function u(p,v,g,y,E){if(typeof g!="function")throw new TypeError("The listener must be a function");var m=new f(g,y||p,E),U=r?r+v:v;return p._events[U]?p._events[U].fn?p._events[U]=[p._events[U],m]:p._events[U].push(m):(p._events[U]=m,p._eventsCount++),p}function c(p,v){--p._eventsCount===0?p._events=new s:delete p._events[v]}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var v=[],g,y;if(this._eventsCount===0)return v;for(y in g=this._events)t.call(g,y)&&v.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},a.prototype.listeners=function(v){var g=r?r+v:v,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var E=0,m=y.length,U=new Array(m);E<m;E++)U[E]=y[E].fn;return U},a.prototype.listenerCount=function(v){var g=r?r+v:v,y=this._events[g];return y?y.fn?1:y.length:0},a.prototype.emit=function(v,g,y,E,m,U){var n=r?r+v:v;if(!this._events[n])return!1;var o=this._events[n],l=arguments.length,d,h;if(o.fn){switch(o.once&&this.removeListener(v,o.fn,void 0,!0),l){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,g),!0;case 3:return o.fn.call(o.context,g,y),!0;case 4:return o.fn.call(o.context,g,y,E),!0;case 5:return o.fn.call(o.context,g,y,E,m),!0;case 6:return o.fn.call(o.context,g,y,E,m,U),!0}for(h=1,d=new Array(l-1);h<l;h++)d[h-1]=arguments[h];o.fn.apply(o.context,d)}else{var _=o.length,b;for(h=0;h<_;h++)switch(o[h].once&&this.removeListener(v,o[h].fn,void 0,!0),l){case 1:o[h].fn.call(o[h].context);break;case 2:o[h].fn.call(o[h].context,g);break;case 3:o[h].fn.call(o[h].context,g,y);break;case 4:o[h].fn.call(o[h].context,g,y,E);break;default:if(!d)for(b=1,d=new Array(l-1);b<l;b++)d[b-1]=arguments[b];o[h].fn.apply(o[h].context,d)}}return!0},a.prototype.on=function(v,g,y){return u(this,v,g,y,!1)},a.prototype.once=function(v,g,y){return u(this,v,g,y,!0)},a.prototype.removeListener=function(v,g,y,E){var m=r?r+v:v;if(!this._events[m])return this;if(!g)return c(this,m),this;var U=this._events[m];if(U.fn)U.fn===g&&(!E||U.once)&&(!y||U.context===y)&&c(this,m);else{for(var n=0,o=[],l=U.length;n<l;n++)(U[n].fn!==g||E&&!U[n].once||y&&U[n].context!==y)&&o.push(U[n]);o.length?this._events[m]=o.length===1?o[0]:o:c(this,m)}return this},a.prototype.removeAllListeners=function(v){var g;return v?(g=r?r+v:v,this._events[g]&&c(this,g)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(gs)),gs.exports}var yw=vw(),mw=ic(yw);class zo{constructor(t){this.eventEmitter=t}mount(t,r){this.wrapper&&(Object.keys(r).forEach(s=>{this.wrapper.style[s]=r[s]}),t.appendChild(this.wrapper))}unmount(t){this.wrapper&&(t.removeChild(this.wrapper),this.destroy())}destroy(){}}const _s='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#F3F3F3"><path d="M320-200v-560l440 280-440 280Zm80-280Zm0 134 210-134-210-134v268Z"/></svg>',Cl='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#F3F3F3"><path d="M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z"/></svg>';class bw extends zo{constructor(t){super(t),this.state="Pause",this.initDOM(),this.initEvent()}play(){this.state!=="Playing"&&(this.wrapper.innerHTML=Cl)}pause(){this.state!=="Pause"&&(this.wrapper.innerHTML=_s)}initDOM(){const t=document.createElement("div");t.style.width="24px",t.style.height="24px",t.style.color="white",t.style.cursor="pointer",t.innerHTML=_s,this.wrapper=t}initEvent(){this.wrapper.addEventListener("click",()=>{this.eventEmitter.emit(this.state==="Playing"?"ui:pause":"ui:play"),this.wrapper.innerHTML=this.state==="Playing"?_s:Cl,this.state=this.state==="Playing"?"Pause":"Playing"}),this.eventEmitter.on("api:play",()=>{this.play()}),this.eventEmitter.on("api:pause",()=>{this.pause()})}}class ww extends zo{constructor(t){super(t),this.initDOM()}initDOM(){const t=document.createElement("div");t.style.width="100%",t.style.height="4px",t.style.backgroundColor="#555",t.style.position="relative";const r=document.createElement("div");r.style.width="0",r.style.height="100%",r.style.backgroundColor="white",r.style.position="absolute",r.style.top="0",r.style.left="0";const s=document.createElement("div");s.style.width="0",s.style.height="100%",s.style.backgroundColor="#888",s.style.position="absolute",s.style.top="0",s.style.left="0",this.wrapper=t,this.playerBar=r,this.bufferBar=s,t.appendChild(r),t.appendChild(s)}setProgress(t,r){this.playerBar&&(this.playerBar.style.width=`${t}%`),this.bufferBar&&(this.bufferBar.style.width=`${r}%`,this.bufferBar.style.left=`${t}%`)}}class xw extends zo{get innerText(){return`${Al(this.currentTime)} / ${Al(this.duration)}`}constructor(t){super(t),this.duration=0,this.currentTime=0,this.initDOM()}setDuration(t){this.duration=t,this.wrapper.innerText=this.innerText}setCurrentTime(t){this.currentTime=t,this.wrapper.innerText=this.innerText}initDOM(){const t=document.createElement("div");t.style.fontSize="16px",t.style.color="white",t.innerText=this.innerText,this.wrapper=t}}const Al=e=>{const t=Math.floor(e/1e3),r=Math.floor(t/60),s=t%60;return r+":"+(s<10?"0":"")+s};var un;class Sw extends mw{constructor(t){super(),this.options=t,un.set(this,"web-player"),this.metadata={width:0,height:0,duration:0},this.options.prefix&&Ki(this,un,this.options.prefix),this.initDOM(),this.initComponents()}setMetaData(t){var r;this.metadata=Object.assign(Object.assign({},this.metadata),t),this.canvas.width=this.metadata.width,this.canvas.height=this.metadata.height,this.timeDisplay.setDuration((r=this.metadata.duration)!==null&&r!==void 0?r:0),this.adjustCanvas()}draw(t){this.context.drawImage(t,0,0)}setProgress(t,r){const s=this.metadata.duration*t/100;this.progressBar.setProgress(t,r),this.timeDisplay.setCurrentTime(s)}destroy(){}initDOM(){const t=document.querySelector(this.options.container);if(!t)throw new Error(`Could not found Element ${this.options.container}`);const r=document.createElement("div");r.className=`${Ue(this,un,"f")}-wrapper`,r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.position="relative",r.style.width=this.options.width,r.style.height=this.options.height,r.style.background="black",this.wrapper=r;const s=document.createElement("canvas");s.className=`${Ue(this,un,"f")}-canvas`,s.style.width="100%",s.style.height="100%",s.style.margin="auto";const f=s.getContext("2d");this.context=f,this.canvas=s;const u=document.createElement("div");u.style.position="absolute",u.style.left="20px",u.style.right="20px",u.style.top="10px",u.style.bottom="10px",u.style.zIndex="10",u.style.visibility="hidden",this.overlay=u,this.wrapper.appendChild(u),this.wrapper.appendChild(s),t.appendChild(this.wrapper),r.addEventListener("mouseover",()=>{u.style.visibility="visible"}),r.addEventListener("mouseout",()=>{u.style.visibility="hidden"})}initComponents(){const t=new ww(this);t.mount(this.overlay,{position:"absolute",bottom:"35px"}),this.progressBar=t;const r=new xw(this);r.mount(this.overlay,{position:"absolute",bottom:"5px",left:"40px"}),this.timeDisplay=r;const s=new bw(this);s.mount(this.overlay,{position:"absolute",bottom:"5px"}),this.playButton=s}adjustCanvas(){const t=this.wrapper.getBoundingClientRect(),r=t.height,s=t.width,f=this.metadata.width/this.metadata.height;f>s/r?(this.canvas.style.height=`${s/f}`,this.canvas.style.width="100%"):f<s/r?(this.canvas.style.height="100%",this.canvas.style.width=`${f*r}px`):(this.canvas.style.width="100%",this.canvas.style.height="100%")}}un=new WeakMap;const Ew=e=>e instanceof File,Uw=e=>typeof e=="string"&&e.startsWith("http");var nc=e=>{throw TypeError(e)},rc=(e,t,r)=>t.has(e)||nc("Cannot "+r),be=(e,t,r)=>(rc(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?nc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),vt=(e,t,r,s)=>(rc(e,t,"write to private field"),t.set(e,r),r);const sc="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYobj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1uLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3QgYT1lW2UubGVuZ3RoLTFdLHI9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOmEscGFyZW50OnJ9fWFzeW5jIGZ1bmN0aW9uIHcobixlKXtjb25zdHtwYXJlbnQ6YSxuYW1lOnJ9PXUobik7aWYoYT09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1hLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7aWYoZS5pc0ZpbGUpcmV0dXJuIGF3YWl0IHQuZ2V0RmlsZUhhbmRsZShyLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaCh0KXtpZih0Lm5hbWU9PT0iTm90Rm91bmRFcnJvciIpcmV0dXJuIG51bGw7dGhyb3cgdH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyBuPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6YX09bi5kYXRhO2xldCByPWZbYS5maWxlSWRdO3RyeXtsZXQgdDtjb25zdCBzPVtdO2lmKGU9PT0icmVnaXN0ZXIiKXtjb25zdCBsPWF3YWl0IHcoYS5maWxlUGF0aCx7Y3JlYXRlOiEwLGlzRmlsZTohMH0pO2lmKGw9PW51bGwpdGhyb3cgRXJyb3IoYG5vdCBmb3VuZCBmaWxlOiAke2EuZmlsZUlkfWApO3I9YXdhaXQgbC5jcmVhdGVTeW5jQWNjZXNzSGFuZGxlKHttb2RlOmEubW9kZX0pLGZbYS5maWxlSWRdPXJ9ZWxzZSBpZihlPT09ImNsb3NlIilhd2FpdCByLmNsb3NlKCksZGVsZXRlIGZbYS5maWxlSWRdO2Vsc2UgaWYoZT09PSJ0cnVuY2F0ZSIpYXdhaXQgci50cnVuY2F0ZShhLm5ld1NpemUpO2Vsc2UgaWYoZT09PSJ3cml0ZSIpe2NvbnN0e2RhdGE6bCxvcHRzOm99PW4uZGF0YS5hcmdzO3Q9YXdhaXQgci53cml0ZShsLG8pfWVsc2UgaWYoZT09PSJyZWFkIil7Y29uc3R7b2Zmc2V0Omwsc2l6ZTpvfT1uLmRhdGEuYXJncyxnPW5ldyBVaW50OEFycmF5KG8pLGQ9YXdhaXQgci5yZWFkKGcse2F0Omx9KSxjPWcuYnVmZmVyO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hd2FpdCByLmdldFNpemUoKTplPT09ImZsdXNoIiYmYXdhaXQgci5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOm4uZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpuLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShuLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLUY0UldscWNfLmpzLm1hcAo=",Tw=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)),Fl=typeof self<"u"&&self.Blob&&new Blob([Tw(sc)],{type:"text/javascript;charset=utf-8"});function Cw(e){let t;try{if(t=Fl&&(self.URL||self.webkitURL).createObjectURL(Fl),!t)throw"";const r=new Worker(t,{name:e==null?void 0:e.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),r}catch{return new Worker("data:text/javascript;base64,"+sc,{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}async function Aw(e,t,r){const s=Fw();return await s("register",{fileId:e,filePath:t,mode:r}),{read:async(f,u)=>await s("read",{fileId:e,offset:f,size:u}),write:async(f,u)=>await s("write",{fileId:e,data:f,opts:u},[ArrayBuffer.isView(f)?f.buffer:f]),close:async()=>await s("close",{fileId:e}),truncate:async f=>await s("truncate",{fileId:e,newSize:f}),getSize:async()=>await s("getSize",{fileId:e}),flush:async()=>await s("flush",{fileId:e})}}const Qn=[];let vs=0;function Fw(){if(Qn.length<3){const t=e();return Qn.push(t),t}else{const t=Qn[vs];return vs=(vs+1)%Qn.length,t}function e(){const t=new Cw;let r=0,s={};return t.onmessage=({data:f})=>{var u,c;f.evtType==="callback"?(u=s[f.cbId])==null||u.resolve(f.returnVal):f.evtType==="throwError"&&((c=s[f.cbId])==null||c.reject(Error(f.errMsg))),delete s[f.cbId]},async function(f,u,c=[]){r+=1;const a=new Promise((p,v)=>{s[r]={resolve:p,reject:v}});return t.postMessage({cbId:r,evtType:f,args:u},c),a}}}function Yr(e){if(e==="/")return{parent:null,name:""};const t=e.split("/").filter(f=>f.length>0);if(t.length===0)throw Error("Invalid path");const r=t[t.length-1],s="/"+t.slice(0,-1).join("/");return{name:r,parent:s}}async function li(e,t){const{parent:r,name:s}=Yr(e);if(r==null)return await navigator.storage.getDirectory();const f=r.split("/").filter(u=>u.length>0);try{let u=await navigator.storage.getDirectory();for(const c of f)u=await u.getDirectoryHandle(c,{create:t.create});return t.isFile?await u.getFileHandle(s,{create:t.create}):await u.getDirectoryHandle(s,{create:t.create})}catch(u){if(u.name==="NotFoundError")return null;throw u}}async function oc(e){const{parent:t,name:r}=Yr(e);if(t==null){const f=await navigator.storage.getDirectory();for await(const u of f.keys())await f.removeEntry(u,{recursive:!0});return}const s=await li(t,{create:!1,isFile:!1});s!=null&&await s.removeEntry(r,{recursive:!0})}function Ws(e,t){return`${e}/${t}`.replace("//","/")}function Ni(e){return new lc(e)}var Rt,rr,cn;const Iw=class ac{constructor(t){St(this,Rt),St(this,rr),St(this,cn),vt(this,Rt,t);const{parent:r,name:s}=Yr(t);vt(this,rr,s),vt(this,cn,r)}get kind(){return"dir"}get name(){return be(this,rr)}get path(){return be(this,Rt)}get parent(){return be(this,cn)==null?null:Ni(be(this,cn))}async create(){return await li(be(this,Rt),{create:!0,isFile:!1}),Ni(be(this,Rt))}async exists(){return await li(be(this,Rt),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){for(const t of await this.children())try{await t.remove()}catch(r){console.warn(r)}try{await oc(be(this,Rt))}catch(t){console.warn(t)}}async children(){const t=await li(be(this,Rt),{create:!1,isFile:!1});if(t==null)return[];const r=[];for await(const s of t.values())r.push((s.kind==="file"?Qi:Ni)(Ws(be(this,Rt),s.name)));return r}async copyTo(t){if(!await this.exists())throw Error(`dir ${this.path} not exists`);if(t instanceof ac){const r=await t.exists()?Ni(Ws(t.path,this.name)):t;await r.create(),await Promise.all((await this.children()).map(s=>s.copyTo(r)));return}else if(t instanceof FileSystemDirectoryHandle){await Promise.all((await this.children()).map(async r=>{r.kind==="file"?await r.copyTo(await t.getFileHandle(r.name,{create:!0})):await r.copyTo(await t.getDirectoryHandle(r.name,{create:!0}))}));return}throw Error("Illegal target type")}async moveTo(t){await this.copyTo(t),await this.remove()}};Rt=new WeakMap,rr=new WeakMap,cn=new WeakMap;let lc=Iw;const Il=new Map;function Qi(e,t="rw"){if(t==="rw"){const r=Il.get(e)??new Tr(e,t);return Il.set(e,r),r}return new Tr(e,t)}async function En(e,t,r={overwrite:!0}){if(t instanceof Tr){await En(e,await t.stream(),r);return}const s=await(e instanceof Tr?e:Qi(e,"rw")).createWriter();try{if(r.overwrite&&await s.truncate(0),t instanceof ReadableStream){const f=t.getReader();for(;;){const{done:u,value:c}=await f.read();if(u)break;await s.write(c)}}else await s.write(t)}catch(f){throw f}finally{await s.close()}}let Pw=0;const Bw=()=>++Pw;var zt,dn,sr,hn,or,ri,ar,pn;const Lw=class fc{constructor(t,r){St(this,zt),St(this,dn),St(this,sr),St(this,hn),St(this,or),St(this,ri,0),St(this,ar,(()=>{let u=null;return()=>(vt(this,ri,be(this,ri)+1),u??(u=new Promise(async(c,a)=>{try{const p=await Aw(be(this,or),be(this,zt),be(this,hn));c([p,async()=>{vt(this,ri,be(this,ri)-1),!(be(this,ri)>0)&&(u=null,await p.close())}])}catch(p){a(p)}})))})()),St(this,pn,!1),vt(this,or,Bw()),vt(this,zt,t),vt(this,hn,{r:"read-only",rw:"readwrite","rw-unsafe":"readwrite-unsafe"}[r]);const{parent:s,name:f}=Yr(t);if(s==null)throw Error("Invalid path");vt(this,sr,f),vt(this,dn,s)}get kind(){return"file"}get path(){return be(this,zt)}get name(){return be(this,sr)}get parent(){return be(this,dn)==null?null:Ni(be(this,dn))}async createWriter(){if(be(this,hn)==="read-only")throw Error("file is read-only");if(be(this,pn))throw Error("Other writer have not been closed");vt(this,pn,!0);const t=new TextEncoder,[r,s]=await be(this,ar).call(this);let f=await r.getSize(),u=!1;return{write:async(c,a={})=>{if(u)throw Error("Writer is closed");const p=typeof c=="string"?t.encode(c):c,v=a.at??f,g=p.byteLength;return f=v+g,await r.write(p,{at:v})},truncate:async c=>{if(u)throw Error("Writer is closed");await r.truncate(c),f>c&&(f=c)},flush:async()=>{if(u)throw Error("Writer is closed");await r.flush()},close:async()=>{if(u)throw Error("Writer is closed");u=!0,vt(this,pn,!1),await s()}}}async createReader(){const[t,r]=await be(this,ar).call(this);let s=!1,f=0;return{read:async(u,c={})=>{if(s)throw Error("Reader is closed");const a=c.at??f,p=await t.read(a,u);return f=a+p.byteLength,p},getSize:async()=>{if(s)throw Error("Reader is closed");return await t.getSize()},close:async()=>{s||(s=!0,await r())}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const t=await li(be(this,zt),{create:!1,isFile:!0});return t==null?new ArrayBuffer(0):(await t.getFile()).arrayBuffer()}async stream(){const t=await this.getOriginFile();return t==null?new ReadableStream({pull:r=>{r.close()}}):t.stream()}async getOriginFile(){var t;return(t=await li(be(this,zt),{create:!1,isFile:!0}))==null?void 0:t.getFile()}async getSize(){const t=await li(be(this,zt),{create:!1,isFile:!0});return t==null?0:(await t.getFile()).size}async exists(){return await li(be(this,zt),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(be(this,ri))throw Error("exists unclosed reader/writer");await oc(be(this,zt))}async copyTo(t){if(t instanceof fc){if(t.path===this.path)return;await En(t.path,this);return}else if(t instanceof lc){if(!await this.exists())throw Error(`file ${this.path} not exists`);return await this.copyTo(Qi(Ws(t.path,this.name)))}else if(t instanceof FileSystemFileHandle){await(await this.stream()).pipeTo(await t.createWritable());return}throw Error("Illegal target type")}async moveTo(t){await this.copyTo(t),await this.remove()}};zt=new WeakMap,dn=new WeakMap,sr=new WeakMap,hn=new WeakMap,or=new WeakMap,ri=new WeakMap,ar=new WeakMap,pn=new WeakMap;let Tr=Lw;const uc="/.opfs-tools-temp-dir";async function cc(e){try{if(e.kind==="file"){if(!await e.exists())return!0;const t=await e.createWriter();await t.truncate(0),await t.close(),await e.remove()}else await e.remove();return!0}catch(t){return console.warn(t),!1}}function Ow(){setInterval(async()=>{for(const e of await Ni(uc).children()){const t=/^\d+-(\d+)$/.exec(e.name);(t==null||Date.now()-Number(t[1])>2592e5)&&await cc(e)}},60*1e3)}const Pl=[];let Bl=!1;async function Rw(){if(globalThis.localStorage==null)return;const e="OPFS_TOOLS_EXPIRES_TMP_FILES";Bl||(Bl=!0,globalThis.addEventListener("unload",()=>{Pl.length!==0&&localStorage.setItem(e,`${localStorage.getItem(e)??""},${Pl.join(",")}`)}));let t=localStorage.getItem(e)??"";for(const r of t.split(","))r.length!==0&&await cc(Qi(`${uc}/${r}`))&&(t=t.replace(r,""));localStorage.setItem(e,t.replace(/,{2,}/g,","))}(async function(){var e;globalThis.__opfs_tools_tmpfile_init__!==!0&&(globalThis.__opfs_tools_tmpfile_init__=!0,!(globalThis.FileSystemDirectoryHandle==null||globalThis.FileSystemFileHandle==null||((e=globalThis.navigator)==null?void 0:e.storage.getDirectory)==null)&&(Ow(),await Rw()))})();var Vt;const Ll=()=>+new Date;class zw{constructor(){Vt.set(this,`codecs-temp-dir/file_${Ll()}`),this.loaded=!1}load(t){return gt(this,void 0,void 0,function*(){if(this.loaded)throw new Error("WebFetcher can only load once, please invoke `destroy` method if reuse the instance");if(Uw(t))yield En(Ue(this,Vt,"f"),yield this.fetchRemoteURL(t));else if(Ew(t))yield En(Ue(this,Vt,"f"),this.getLocalFileStream(t));else if(t instanceof ReadableStream)yield En(Ue(this,Vt,"f"),t);else throw new Error("Invalid input format, only receive url, file or readablestream");return this.loaded=!0,Ue(this,Vt,"f")})}getReader(){return gt(this,void 0,void 0,function*(){if(!this.loaded)throw new Error("The instance has not loaded file");return yield Qi(Ue(this,Vt,"f")).createReader()})}destroy(){return gt(this,void 0,void 0,function*(){this.loaded&&(yield Qi(Ue(this,Vt,"f")).remove()),this.loaded=!1,Ki(this,Vt,`codecs-temp-dir/file_${Ll()}`)})}fetchRemoteURL(t){return fetch(t).then(r=>r.body)}getLocalFileStream(t){return t.stream()}}Vt=new WeakMap;var ys={},Ol;function kw(){return Ol||(Ol=1,function(e){var t=function(){var n=new Date,o=4,l=3,d=2,h=1,_=o,b={setLogLevel:function(S){S==this.debug?_=h:S==this.info?_=d:S==this.warn?_=l:(S==this.error,_=o)},debug:function(S,C){console.debug===void 0&&(console.debug=console.log),h>=_&&console.debug("["+t.getDurationString(new Date-n,1e3)+"]","["+S+"]",C)},log:function(S,C){this.debug(S.msg)},info:function(S,C){d>=_&&console.info("["+t.getDurationString(new Date-n,1e3)+"]","["+S+"]",C)},warn:function(S,C){l>=_&&console.warn("["+t.getDurationString(new Date-n,1e3)+"]","["+S+"]",C)},error:function(S,C){o>=_&&console.error("["+t.getDurationString(new Date-n,1e3)+"]","["+S+"]",C)}};return b}();t.getDurationString=function(n,o){var l;function d(B,I){for(var k=""+B,G=k.split(".");G[0].length<I;)G[0]="0"+G[0];return G.join(".")}n<0?(l=!0,n=-n):l=!1;var h=o||1,_=n/h,b=Math.floor(_/3600);_-=b*3600;var S=Math.floor(_/60);_-=S*60;var C=_*1e3;return _=Math.floor(_),C-=_*1e3,C=Math.floor(C),(l?"-":"")+b+":"+d(S,2)+":"+d(_,2)+"."+d(C,3)},t.printRanges=function(n){var o=n.length;if(o>0){for(var l="",d=0;d<o;d++)d>0&&(l+=","),l+="["+t.getDurationString(n.start(d))+","+t.getDurationString(n.end(d))+"]";return l}else return"(empty)"},e.Log=t;var r=function(n){if(n instanceof ArrayBuffer)this.buffer=n,this.dataview=new DataView(n);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(n){var o=Math.max(0,Math.min(this.buffer.byteLength,n));return this.position=isNaN(o)||!isFinite(o)?0:o,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(n,o){var l=0;if(this.position+n<=this.buffer.byteLength){switch(n){case 1:o?l=this.dataview.getInt8(this.position):l=this.dataview.getUint8(this.position);break;case 2:o?l=this.dataview.getInt16(this.position):l=this.dataview.getUint16(this.position);break;case 3:if(o)throw"No method for reading signed 24 bits values";l=this.dataview.getUint8(this.position)<<16,l|=this.dataview.getUint8(this.position+1)<<8,l|=this.dataview.getUint8(this.position+2);break;case 4:o?l=this.dataview.getInt32(this.position):l=this.dataview.getUint32(this.position);break;case 8:if(o)throw"No method for reading signed 64 bits values";l=this.dataview.getUint32(this.position)<<32,l|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+n}return this.position+=n,l}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(n){if(this.position+n<=this.buffer.byteLength){for(var o="",l=0;l<n;l++)o+=String.fromCharCode(this.readUint8());return o}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var n=[];;){var o=this.readUint8();if(o!==0)n.push(o);else break}return String.fromCharCode.apply(null,n)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(n){for(var o=new Uint8Array(n),l=0;l<n;l++)o[l]=this.readUint8();return o},r.prototype.readInt16Array=function(n){for(var o=new Int16Array(n),l=0;l<n;l++)o[l]=this.readInt16();return o},r.prototype.readUint16Array=function(n){for(var o=new Int16Array(n),l=0;l<n;l++)o[l]=this.readUint16();return o},r.prototype.readUint32Array=function(n){for(var o=new Uint32Array(n),l=0;l<n;l++)o[l]=this.readUint32();return o},r.prototype.readInt32Array=function(n){for(var o=new Int32Array(n),l=0;l<n;l++)o[l]=this.readInt32();return o},e.MP4BoxStream=r;var s=function(n,o,l){this._byteOffset=o||0,n instanceof ArrayBuffer?this.buffer=n:typeof n=="object"?(this.dataView=n,o&&(this._byteOffset+=o)):this.buffer=new ArrayBuffer(n||0),this.position=0,this.endianness=l??s.LITTLE_ENDIAN};s.prototype={},s.prototype.getPosition=function(){return this.position},s.prototype._realloc=function(n){if(this._dynamicSize){var o=this._byteOffset+this.position+n,l=this._buffer.byteLength;if(o<=l){o>this._byteLength&&(this._byteLength=o);return}for(l<1&&(l=1);o>l;)l*=2;var d=new ArrayBuffer(l),h=new Uint8Array(this._buffer),_=new Uint8Array(d,0,h.length);_.set(h),this.buffer=d,this._byteLength=o}},s.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var n=new ArrayBuffer(this._byteLength),o=new Uint8Array(n),l=new Uint8Array(this._buffer,0,o.length);o.set(l),this.buffer=n}},s.BIG_ENDIAN=!1,s.LITTLE_ENDIAN=!0,s.prototype._byteLength=0,Object.defineProperty(s.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(n){this._buffer=n,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(s.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(n){this._byteOffset=n,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(s.prototype,"dataView",{get:function(){return this._dataView},set:function(n){this._byteOffset=n.byteOffset,this._buffer=n.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+n.byteLength}}),s.prototype.seek=function(n){var o=Math.max(0,Math.min(this.byteLength,n));this.position=isNaN(o)||!isFinite(o)?0:o},s.prototype.isEof=function(){return this.position>=this._byteLength},s.prototype.mapUint8Array=function(n){this._realloc(n*1);var o=new Uint8Array(this._buffer,this.byteOffset+this.position,n);return this.position+=n*1,o},s.prototype.readInt32Array=function(n,o){n=n??this.byteLength-this.position/4;var l=new Int32Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readInt16Array=function(n,o){n=n??this.byteLength-this.position/2;var l=new Int16Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readInt8Array=function(n){n=n??this.byteLength-this.position;var o=new Int8Array(n);return s.memcpy(o.buffer,0,this.buffer,this.byteOffset+this.position,n*o.BYTES_PER_ELEMENT),this.position+=o.byteLength,o},s.prototype.readUint32Array=function(n,o){n=n??this.byteLength-this.position/4;var l=new Uint32Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readUint16Array=function(n,o){n=n??this.byteLength-this.position/2;var l=new Uint16Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readUint8Array=function(n){n=n??this.byteLength-this.position;var o=new Uint8Array(n);return s.memcpy(o.buffer,0,this.buffer,this.byteOffset+this.position,n*o.BYTES_PER_ELEMENT),this.position+=o.byteLength,o},s.prototype.readFloat64Array=function(n,o){n=n??this.byteLength-this.position/8;var l=new Float64Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readFloat32Array=function(n,o){n=n??this.byteLength-this.position/4;var l=new Float32Array(n);return s.memcpy(l.buffer,0,this.buffer,this.byteOffset+this.position,n*l.BYTES_PER_ELEMENT),s.arrayToNative(l,o??this.endianness),this.position+=l.byteLength,l},s.prototype.readInt32=function(n){var o=this._dataView.getInt32(this.position,n??this.endianness);return this.position+=4,o},s.prototype.readInt16=function(n){var o=this._dataView.getInt16(this.position,n??this.endianness);return this.position+=2,o},s.prototype.readInt8=function(){var n=this._dataView.getInt8(this.position);return this.position+=1,n},s.prototype.readUint32=function(n){var o=this._dataView.getUint32(this.position,n??this.endianness);return this.position+=4,o},s.prototype.readUint16=function(n){var o=this._dataView.getUint16(this.position,n??this.endianness);return this.position+=2,o},s.prototype.readUint8=function(){var n=this._dataView.getUint8(this.position);return this.position+=1,n},s.prototype.readFloat32=function(n){var o=this._dataView.getFloat32(this.position,n??this.endianness);return this.position+=4,o},s.prototype.readFloat64=function(n){var o=this._dataView.getFloat64(this.position,n??this.endianness);return this.position+=8,o},s.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,s.memcpy=function(n,o,l,d,h){var _=new Uint8Array(n,o,h),b=new Uint8Array(l,d,h);_.set(b)},s.arrayToNative=function(n,o){return o==this.endianness?n:this.flipArrayEndianness(n)},s.nativeToEndian=function(n,o){return this.endianness==o?n:this.flipArrayEndianness(n)},s.flipArrayEndianness=function(n){for(var o=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),l=0;l<n.byteLength;l+=n.BYTES_PER_ELEMENT)for(var d=l+n.BYTES_PER_ELEMENT-1,h=l;d>h;d--,h++){var _=o[h];o[h]=o[d],o[d]=_}return n},s.prototype.failurePosition=0,String.fromCharCodeUint8=function(n){for(var o=[],l=0;l<n.length;l++)o[l]=n[l];return String.fromCharCode.apply(null,o)},s.prototype.readString=function(n,o){return o==null||o=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(n??this.byteLength-this.position)]):new TextDecoder(o).decode(this.mapUint8Array(n))},s.prototype.readCString=function(n){var o=this.byteLength-this.position,l=new Uint8Array(this._buffer,this._byteOffset+this.position),d=o;n!=null&&(d=Math.min(n,o));for(var h=0;h<d&&l[h]!==0;h++);var _=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(h)]);return n!=null?this.position+=d-h:h!=o&&(this.position+=1),_};var f=Math.pow(2,32);s.prototype.readInt64=function(){return this.readInt32()*f+this.readUint32()},s.prototype.readUint64=function(){return this.readUint32()*f+this.readUint32()},s.prototype.readInt64=function(){return this.readUint32()*f+this.readUint32()},s.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},e.DataStream=s,s.prototype.save=function(n){var o=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var l=window.URL.createObjectURL(o),d=document.createElement("a");document.body.appendChild(d),d.setAttribute("href",l),d.setAttribute("download",n),d.setAttribute("target","_self"),d.click(),window.URL.revokeObjectURL(l)}else throw"DataStream.save: Can't create object URL."},s.prototype._dynamicSize=!0,Object.defineProperty(s.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(n){n||this._trimAlloc(),this._dynamicSize=n}}),s.prototype.shift=function(n){var o=new ArrayBuffer(this._byteLength-n),l=new Uint8Array(o),d=new Uint8Array(this._buffer,n,l.length);l.set(d),this.buffer=o,this.position-=n},s.prototype.writeInt32Array=function(n,o){if(this._realloc(n.length*4),n instanceof Int32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt32Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeInt32(n[l],o)},s.prototype.writeInt16Array=function(n,o){if(this._realloc(n.length*2),n instanceof Int16Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt16Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeInt16(n[l],o)},s.prototype.writeInt8Array=function(n){if(this._realloc(n.length*1),n instanceof Int8Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapInt8Array(n.length);else for(var o=0;o<n.length;o++)this.writeInt8(n[o])},s.prototype.writeUint32Array=function(n,o){if(this._realloc(n.length*4),n instanceof Uint32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint32Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeUint32(n[l],o)},s.prototype.writeUint16Array=function(n,o){if(this._realloc(n.length*2),n instanceof Uint16Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint16Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeUint16(n[l],o)},s.prototype.writeUint8Array=function(n){if(this._realloc(n.length*1),n instanceof Uint8Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapUint8Array(n.length);else for(var o=0;o<n.length;o++)this.writeUint8(n[o])},s.prototype.writeFloat64Array=function(n,o){if(this._realloc(n.length*8),n instanceof Float64Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapFloat64Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeFloat64(n[l],o)},s.prototype.writeFloat32Array=function(n,o){if(this._realloc(n.length*4),n instanceof Float32Array&&this.byteOffset+this.position%n.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,n.buffer,0,n.byteLength),this.mapFloat32Array(n.length,o);else for(var l=0;l<n.length;l++)this.writeFloat32(n[l],o)},s.prototype.writeInt32=function(n,o){this._realloc(4),this._dataView.setInt32(this.position,n,o??this.endianness),this.position+=4},s.prototype.writeInt16=function(n,o){this._realloc(2),this._dataView.setInt16(this.position,n,o??this.endianness),this.position+=2},s.prototype.writeInt8=function(n){this._realloc(1),this._dataView.setInt8(this.position,n),this.position+=1},s.prototype.writeUint32=function(n,o){this._realloc(4),this._dataView.setUint32(this.position,n,o??this.endianness),this.position+=4},s.prototype.writeUint16=function(n,o){this._realloc(2),this._dataView.setUint16(this.position,n,o??this.endianness),this.position+=2},s.prototype.writeUint8=function(n){this._realloc(1),this._dataView.setUint8(this.position,n),this.position+=1},s.prototype.writeFloat32=function(n,o){this._realloc(4),this._dataView.setFloat32(this.position,n,o??this.endianness),this.position+=4},s.prototype.writeFloat64=function(n,o){this._realloc(8),this._dataView.setFloat64(this.position,n,o??this.endianness),this.position+=8},s.prototype.writeUCS2String=function(n,o,l){l==null&&(l=n.length);for(var d=0;d<n.length&&d<l;d++)this.writeUint16(n.charCodeAt(d),o);for(;d<l;d++)this.writeUint16(0)},s.prototype.writeString=function(n,o,l){var d=0;if(o==null||o=="ASCII")if(l!=null){var h=Math.min(n.length,l);for(d=0;d<h;d++)this.writeUint8(n.charCodeAt(d));for(;d<l;d++)this.writeUint8(0)}else for(d=0;d<n.length;d++)this.writeUint8(n.charCodeAt(d));else this.writeUint8Array(new TextEncoder(o).encode(n.substring(0,l)))},s.prototype.writeCString=function(n,o){var l=0;if(o!=null){var d=Math.min(n.length,o);for(l=0;l<d;l++)this.writeUint8(n.charCodeAt(l));for(;l<o;l++)this.writeUint8(0)}else{for(l=0;l<n.length;l++)this.writeUint8(n.charCodeAt(l));this.writeUint8(0)}},s.prototype.writeStruct=function(n,o){for(var l=0;l<n.length;l+=2){var d=n[l+1];this.writeType(d,o[n[l]],o)}},s.prototype.writeType=function(n,o,l){var d;if(typeof n=="function")return n(this,o);if(typeof n=="object"&&!(n instanceof Array))return n.set(this,o,l);var h=null,_="ASCII",b=this.position;switch(typeof n=="string"&&/:/.test(n)&&(d=n.split(":"),n=d[0],h=parseInt(d[1])),typeof n=="string"&&/,/.test(n)&&(d=n.split(","),n=d[0],_=parseInt(d[1])),n){case"uint8":this.writeUint8(o);break;case"int8":this.writeInt8(o);break;case"uint16":this.writeUint16(o,this.endianness);break;case"int16":this.writeInt16(o,this.endianness);break;case"uint32":this.writeUint32(o,this.endianness);break;case"int32":this.writeInt32(o,this.endianness);break;case"float32":this.writeFloat32(o,this.endianness);break;case"float64":this.writeFloat64(o,this.endianness);break;case"uint16be":this.writeUint16(o,s.BIG_ENDIAN);break;case"int16be":this.writeInt16(o,s.BIG_ENDIAN);break;case"uint32be":this.writeUint32(o,s.BIG_ENDIAN);break;case"int32be":this.writeInt32(o,s.BIG_ENDIAN);break;case"float32be":this.writeFloat32(o,s.BIG_ENDIAN);break;case"float64be":this.writeFloat64(o,s.BIG_ENDIAN);break;case"uint16le":this.writeUint16(o,s.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(o,s.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(o,s.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(o,s.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(o,s.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(o,s.LITTLE_ENDIAN);break;case"cstring":this.writeCString(o,h);break;case"string":this.writeString(o,_,h);break;case"u16string":this.writeUCS2String(o,this.endianness,h);break;case"u16stringle":this.writeUCS2String(o,s.LITTLE_ENDIAN,h);break;case"u16stringbe":this.writeUCS2String(o,s.BIG_ENDIAN,h);break;default:if(n.length==3){for(var S=n[1],C=0;C<o.length;C++)this.writeType(S,o[C]);break}else{this.writeStruct(n,o);break}}h!=null&&(this.position=b,this._realloc(h),this.position=b+h)},s.prototype.writeUint64=function(n){var o=Math.floor(n/f);this.writeUint32(o),this.writeUint32(n&4294967295)},s.prototype.writeUint24=function(n){this.writeUint8((n&16711680)>>16),this.writeUint8((n&65280)>>8),this.writeUint8(n&255)},s.prototype.adjustUint32=function(n,o){var l=this.position;this.seek(n),this.writeUint32(o),this.seek(l)},s.prototype.mapInt32Array=function(n,o){this._realloc(n*4);var l=new Int32Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*4,l},s.prototype.mapInt16Array=function(n,o){this._realloc(n*2);var l=new Int16Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*2,l},s.prototype.mapInt8Array=function(n){this._realloc(n*1);var o=new Int8Array(this._buffer,this.byteOffset+this.position,n);return this.position+=n*1,o},s.prototype.mapUint32Array=function(n,o){this._realloc(n*4);var l=new Uint32Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*4,l},s.prototype.mapUint16Array=function(n,o){this._realloc(n*2);var l=new Uint16Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*2,l},s.prototype.mapFloat64Array=function(n,o){this._realloc(n*8);var l=new Float64Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*8,l},s.prototype.mapFloat32Array=function(n,o){this._realloc(n*4);var l=new Float32Array(this._buffer,this.byteOffset+this.position,n);return s.arrayToNative(l,o??this.endianness),this.position+=n*4,l};var u=function(n){this.buffers=[],this.bufferIndex=-1,n&&(this.insertBuffer(n),this.bufferIndex=0)};u.prototype=new s(new ArrayBuffer,0,s.BIG_ENDIAN),u.prototype.initialized=function(){var n;return this.bufferIndex>-1?!0:this.buffers.length>0?(n=this.buffers[0],n.fileStart===0?(this.buffer=n,this.bufferIndex=0,t.debug("MultiBufferStream","Stream ready for parsing"),!0):(t.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(t.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(n,o){t.debug("ArrayBuffer","Trying to create a new buffer of size: "+(n.byteLength+o.byteLength));var l=new Uint8Array(n.byteLength+o.byteLength);return l.set(new Uint8Array(n),0),l.set(new Uint8Array(o),n.byteLength),l.buffer},u.prototype.reduceBuffer=function(n,o,l){var d;return d=new Uint8Array(l),d.set(new Uint8Array(n,o,l)),d.buffer.fileStart=n.fileStart+o,d.buffer.usedBytes=0,d.buffer},u.prototype.insertBuffer=function(n){for(var o=!0,l=0;l<this.buffers.length;l++){var d=this.buffers[l];if(n.fileStart<=d.fileStart){if(n.fileStart===d.fileStart)if(n.byteLength>d.byteLength){this.buffers.splice(l,1),l--;continue}else t.warn("MultiBufferStream","Buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+") already appended, ignoring");else n.fileStart+n.byteLength<=d.fileStart||(n=this.reduceBuffer(n,0,d.fileStart-n.fileStart)),t.debug("MultiBufferStream","Appending new buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+")"),this.buffers.splice(l,0,n),l===0&&(this.buffer=n);o=!1;break}else if(n.fileStart<d.fileStart+d.byteLength){var h=d.fileStart+d.byteLength-n.fileStart,_=n.byteLength-h;if(_>0)n=this.reduceBuffer(n,h,_);else{o=!1;break}}}o&&(t.debug("MultiBufferStream","Appending new buffer (fileStart: "+n.fileStart+" - Length: "+n.byteLength+")"),this.buffers.push(n),l===0&&(this.buffer=n))},u.prototype.logBufferLevel=function(n){var o,l,d,h,_=[],b,S="";for(d=0,h=0,o=0;o<this.buffers.length;o++)l=this.buffers[o],o===0?(b={},_.push(b),b.start=l.fileStart,b.end=l.fileStart+l.byteLength,S+="["+b.start+"-"):b.end===l.fileStart?b.end=l.fileStart+l.byteLength:(b={},b.start=l.fileStart,S+=_[_.length-1].end-1+"], ["+b.start+"-",b.end=l.fileStart+l.byteLength,_.push(b)),d+=l.usedBytes,h+=l.byteLength;_.length>0&&(S+=b.end-1+"]");var C=n?t.info:t.debug;this.buffers.length===0?C("MultiBufferStream","No more buffer in memory"):C("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+d+"/"+h+" bytes), continuous ranges: "+S)},u.prototype.cleanBuffers=function(){var n,o;for(n=0;n<this.buffers.length;n++)o=this.buffers[n],o.usedBytes===o.byteLength&&(t.debug("MultiBufferStream","Removing buffer #"+n),this.buffers.splice(n,1),n--)},u.prototype.mergeNextBuffer=function(){var n;if(this.bufferIndex+1<this.buffers.length)if(n=this.buffers[this.bufferIndex+1],n.fileStart===this.buffer.fileStart+this.buffer.byteLength){var o=this.buffer.byteLength,l=this.buffer.usedBytes,d=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,n),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=l,this.buffer.fileStart=d,t.debug("ISOFile","Concatenating buffer for box parsing (length: "+o+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},u.prototype.findPosition=function(n,o,l){var d,h=null,_=-1;for(n===!0?d=0:d=this.bufferIndex;d<this.buffers.length&&(h=this.buffers[d],h.fileStart<=o);){_=d,l&&(h.fileStart+h.byteLength<=o?h.usedBytes=h.byteLength:h.usedBytes=o-h.fileStart,this.logBufferLevel());d++}return _!==-1?(h=this.buffers[_],h.fileStart+h.byteLength>=o?(t.debug("MultiBufferStream","Found position in existing buffer #"+_),_):-1):-1},u.prototype.findEndContiguousBuf=function(n){var o,l,d,h=n!==void 0?n:this.bufferIndex;if(l=this.buffers[h],this.buffers.length>h+1)for(o=h+1;o<this.buffers.length&&(d=this.buffers[o],d.fileStart===l.fileStart+l.byteLength);o++)l=d;return l.fileStart+l.byteLength},u.prototype.getEndFilePositionAfter=function(n){var o=this.findPosition(!0,n,!1);return o!==-1?this.findEndContiguousBuf(o):n},u.prototype.addUsedBytes=function(n){this.buffer.usedBytes+=n,this.logBufferLevel()},u.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},u.prototype.seek=function(n,o,l){var d;return d=this.findPosition(o,n,l),d!==-1?(this.buffer=this.buffers[d],this.bufferIndex=d,this.position=n-this.buffer.fileStart,t.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(t.debug("MultiBufferStream","Position "+n+" not found in buffered data"),!1)},u.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},u.prototype.getLength=function(){return this.byteLength},u.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},e.MultiBufferStream=u;var c=function(){var n=3,o=4,l=5,d=6,h=[];h[n]="ES_Descriptor",h[o]="DecoderConfigDescriptor",h[l]="DecoderSpecificInfo",h[d]="SLConfigDescriptor",this.getDescriptorName=function(S){return h[S]};var _=this,b={};return this.parseOneDescriptor=function(S){var C=0,B,I,k;for(B=S.readUint8(),k=S.readUint8();k&128;)C=(C<<7)+(k&127),k=S.readUint8();return C=(C<<7)+(k&127),t.debug("MPEG4DescriptorParser","Found "+(h[B]||"Descriptor "+B)+", size "+C+" at position "+S.getPosition()),h[B]?I=new b[h[B]](C):I=new b.Descriptor(C),I.parse(S),I},b.Descriptor=function(S,C){this.tag=S,this.size=C,this.descs=[]},b.Descriptor.prototype.parse=function(S){this.data=S.readUint8Array(this.size)},b.Descriptor.prototype.findDescriptor=function(S){for(var C=0;C<this.descs.length;C++)if(this.descs[C].tag==S)return this.descs[C];return null},b.Descriptor.prototype.parseRemainingDescriptors=function(S){for(var C=S.position;S.position<C+this.size;){var B=_.parseOneDescriptor(S);this.descs.push(B)}},b.ES_Descriptor=function(S){b.Descriptor.call(this,n,S)},b.ES_Descriptor.prototype=new b.Descriptor,b.ES_Descriptor.prototype.parse=function(S){if(this.ES_ID=S.readUint16(),this.flags=S.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=S.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var C=S.readUint8();this.URL=S.readString(C),this.size-=C+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=S.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(S)},b.ES_Descriptor.prototype.getOTI=function(S){var C=this.findDescriptor(o);return C?C.oti:0},b.ES_Descriptor.prototype.getAudioConfig=function(S){var C=this.findDescriptor(o);if(!C)return null;var B=C.findDescriptor(l);if(B&&B.data){var I=(B.data[0]&248)>>3;return I===31&&B.data.length>=2&&(I=32+((B.data[0]&7)<<3)+((B.data[1]&224)>>5)),I}else return null},b.DecoderConfigDescriptor=function(S){b.Descriptor.call(this,o,S)},b.DecoderConfigDescriptor.prototype=new b.Descriptor,b.DecoderConfigDescriptor.prototype.parse=function(S){this.oti=S.readUint8(),this.streamType=S.readUint8(),this.upStream=(this.streamType>>1&1)!==0,this.streamType=this.streamType>>>2,this.bufferSize=S.readUint24(),this.maxBitrate=S.readUint32(),this.avgBitrate=S.readUint32(),this.size-=13,this.parseRemainingDescriptors(S)},b.DecoderSpecificInfo=function(S){b.Descriptor.call(this,l,S)},b.DecoderSpecificInfo.prototype=new b.Descriptor,b.SLConfigDescriptor=function(S){b.Descriptor.call(this,d,S)},b.SLConfigDescriptor.prototype=new b.Descriptor,this};e.MPEG4DescriptorParser=c;var a={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){a.FullBox.prototype=new a.Box,a.ContainerBox.prototype=new a.Box,a.SampleEntry.prototype=new a.Box,a.TrackGroupTypeBox.prototype=new a.FullBox,a.BASIC_BOXES.forEach(function(n){a.createBoxCtor(n)}),a.FULL_BOXES.forEach(function(n){a.createFullBoxCtor(n)}),a.CONTAINER_BOXES.forEach(function(n){a.createContainerBoxCtor(n[0],null,n[1])})},Box:function(n,o,l){this.type=n,this.size=o,this.uuid=l},FullBox:function(n,o,l){a.Box.call(this,n,o,l),this.flags=0,this.version=0},ContainerBox:function(n,o,l){a.Box.call(this,n,o,l),this.boxes=[]},SampleEntry:function(n,o,l,d){a.ContainerBox.call(this,n,o),this.hdr_size=l,this.start=d},SampleGroupEntry:function(n){this.grouping_type=n},TrackGroupTypeBox:function(n,o){a.FullBox.call(this,n,o)},createBoxCtor:function(n,o){a.boxCodes.push(n),a[n+"Box"]=function(l){a.Box.call(this,n,l)},a[n+"Box"].prototype=new a.Box,o&&(a[n+"Box"].prototype.parse=o)},createFullBoxCtor:function(n,o){a[n+"Box"]=function(l){a.FullBox.call(this,n,l)},a[n+"Box"].prototype=new a.FullBox,a[n+"Box"].prototype.parse=function(l){this.parseFullHeader(l),o&&o.call(this,l)}},addSubBoxArrays:function(n){if(n){this.subBoxNames=n;for(var o=n.length,l=0;l<o;l++)this[n[l]+"s"]=[]}},createContainerBoxCtor:function(n,o,l){a[n+"Box"]=function(d){a.ContainerBox.call(this,n,d),a.addSubBoxArrays.call(this,l)},a[n+"Box"].prototype=new a.ContainerBox,o&&(a[n+"Box"].prototype.parse=o)},createMediaSampleEntryCtor:function(n,o,l){a.sampleEntryCodes[n]=[],a[n+"SampleEntry"]=function(d,h){a.SampleEntry.call(this,d,h),a.addSubBoxArrays.call(this,l)},a[n+"SampleEntry"].prototype=new a.SampleEntry,o&&(a[n+"SampleEntry"].prototype.parse=o)},createSampleEntryCtor:function(n,o,l,d){a.sampleEntryCodes[n].push(o),a[o+"SampleEntry"]=function(h){a[n+"SampleEntry"].call(this,o,h),a.addSubBoxArrays.call(this,d)},a[o+"SampleEntry"].prototype=new a[n+"SampleEntry"],l&&(a[o+"SampleEntry"].prototype.parse=l)},createEncryptedSampleEntryCtor:function(n,o,l){a.createSampleEntryCtor.call(this,n,o,l,["sinf"])},createSampleGroupCtor:function(n,o){a[n+"SampleGroupEntry"]=function(l){a.SampleGroupEntry.call(this,n,l)},a[n+"SampleGroupEntry"].prototype=new a.SampleGroupEntry,o&&(a[n+"SampleGroupEntry"].prototype.parse=o)},createTrackGroupCtor:function(n,o){a[n+"TrackGroupTypeBox"]=function(l){a.TrackGroupTypeBox.call(this,n,l)},a[n+"TrackGroupTypeBox"].prototype=new a.TrackGroupTypeBox,o&&(a[n+"TrackGroupTypeBox"].prototype.parse=o)},createUUIDBox:function(n,o,l,d){a.UUIDs.push(n),a.UUIDBoxes[n]=function(h){o?a.FullBox.call(this,"uuid",h,n):l?a.ContainerBox.call(this,"uuid",h,n):a.Box.call(this,"uuid",h,n)},a.UUIDBoxes[n].prototype=o?new a.FullBox:l?new a.ContainerBox:new a.Box,d&&(o?a.UUIDBoxes[n].prototype.parse=function(h){this.parseFullHeader(h),d&&d.call(this,h)}:a.UUIDBoxes[n].prototype.parse=d)}};a.initialize(),a.TKHD_FLAG_ENABLED=1,a.TKHD_FLAG_IN_MOVIE=2,a.TKHD_FLAG_IN_PREVIEW=4,a.TFHD_FLAG_BASE_DATA_OFFSET=1,a.TFHD_FLAG_SAMPLE_DESC=2,a.TFHD_FLAG_SAMPLE_DUR=8,a.TFHD_FLAG_SAMPLE_SIZE=16,a.TFHD_FLAG_SAMPLE_FLAGS=32,a.TFHD_FLAG_DUR_EMPTY=65536,a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,a.TRUN_FLAGS_DATA_OFFSET=1,a.TRUN_FLAGS_FIRST_FLAG=4,a.TRUN_FLAGS_DURATION=256,a.TRUN_FLAGS_SIZE=512,a.TRUN_FLAGS_FLAGS=1024,a.TRUN_FLAGS_CTS_OFFSET=2048,a.Box.prototype.add=function(n){return this.addBox(new a[n+"Box"])},a.Box.prototype.addBox=function(n){return this.boxes.push(n),this[n.type+"s"]?this[n.type+"s"].push(n):this[n.type]=n,n},a.Box.prototype.set=function(n,o){return this[n]=o,this},a.Box.prototype.addEntry=function(n,o){var l=o||"entries";return this[l]||(this[l]=[]),this[l].push(n),this},e.BoxParser=a,a.parseUUID=function(n){return a.parseHex16(n)},a.parseHex16=function(n){for(var o="",l=0;l<16;l++){var d=n.readUint8().toString(16);o+=d.length===1?"0"+d:d}return o},a.parseOneBox=function(n,o,l){var d,h=n.getPosition(),_=0,b,S;if(n.getEndPosition()-h<8)return t.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:a.ERR_NOT_ENOUGH_DATA};if(l&&l<8)return t.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:a.ERR_NOT_ENOUGH_DATA};var C=n.readUint32(),B=n.readString(4),I=B;if(t.debug("BoxParser","Found box of type '"+B+"' and size "+C+" at position "+h),_=8,B=="uuid"){if(n.getEndPosition()-n.getPosition()<16||l-_<16)return n.seek(h),t.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:a.ERR_NOT_ENOUGH_DATA};S=a.parseUUID(n),_+=16,I=S}if(C==1){if(n.getEndPosition()-n.getPosition()<8||l&&l-_<8)return n.seek(h),t.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+B+'" box'),{code:a.ERR_NOT_ENOUGH_DATA};C=n.readUint64(),_+=8}else if(C===0){if(l)C=l;else if(B!=="mdat")return t.error("BoxParser","Unlimited box size not supported for type: '"+B+"'"),d=new a.Box(B,C),{code:a.OK,box:d,size:d.size}}return C!==0&&C<_?(t.error("BoxParser","Box of type "+B+" has an invalid size "+C+" (too small to be a box)"),{code:a.ERR_NOT_ENOUGH_DATA,type:B,size:C,hdr_size:_,start:h}):C!==0&&l&&C>l?(t.error("BoxParser","Box of type '"+B+"' has a size "+C+" greater than its container size "+l),{code:a.ERR_NOT_ENOUGH_DATA,type:B,size:C,hdr_size:_,start:h}):C!==0&&h+C>n.getEndPosition()?(n.seek(h),t.info("BoxParser","Not enough data in stream to parse the entire '"+B+"' box"),{code:a.ERR_NOT_ENOUGH_DATA,type:B,size:C,hdr_size:_,start:h}):o?{code:a.OK,type:B,size:C,hdr_size:_,start:h}:(a[B+"Box"]?d=new a[B+"Box"](C):B!=="uuid"?(t.warn("BoxParser","Unknown box type: '"+B+"'"),d=new a.Box(B,C),d.has_unparsed_data=!0):a.UUIDBoxes[S]?d=new a.UUIDBoxes[S](C):(t.warn("BoxParser","Unknown uuid type: '"+S+"'"),d=new a.Box(B,C),d.uuid=S,d.has_unparsed_data=!0),d.hdr_size=_,d.start=h,d.write===a.Box.prototype.write&&d.type!=="mdat"&&(t.info("BoxParser","'"+I+"' box writing not yet implemented, keeping unparsed data in memory for later write"),d.parseDataAndRewind(n)),d.parse(n),b=n.getPosition()-(d.start+d.size),b<0?(t.warn("BoxParser","Parsing of box '"+I+"' did not read the entire indicated box data size (missing "+-b+" bytes), seeking forward"),n.seek(d.start+d.size)):b>0&&(t.error("BoxParser","Parsing of box '"+I+"' read "+b+" more bytes than the indicated box data size, seeking backwards"),d.size!==0&&n.seek(d.start+d.size)),{code:a.OK,box:d,size:d.size})},a.Box.prototype.parse=function(n){this.type!="mdat"?this.data=n.readUint8Array(this.size-this.hdr_size):this.size===0?n.seek(n.getEndPosition()):n.seek(this.start+this.size)},a.Box.prototype.parseDataAndRewind=function(n){this.data=n.readUint8Array(this.size-this.hdr_size),n.position-=this.size-this.hdr_size},a.FullBox.prototype.parseDataAndRewind=function(n){this.parseFullHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,n.position-=this.size-this.hdr_size},a.FullBox.prototype.parseFullHeader=function(n){this.version=n.readUint8(),this.flags=n.readUint24(),this.hdr_size+=4},a.FullBox.prototype.parse=function(n){this.parseFullHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size)},a.ContainerBox.prototype.parse=function(n){for(var o,l;n.getPosition()<this.start+this.size;)if(o=a.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),o.code===a.OK)if(l=o.box,this.boxes.push(l),this.subBoxNames&&this.subBoxNames.indexOf(l.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(l.type)]+"s"].push(l);else{var d=l.type!=="uuid"?l.type:l.uuid;this[d]?t.warn("Box of type "+d+" already stored in field of this type"):this[d]=l}else return},a.Box.prototype.parseLanguage=function(n){this.language=n.readUint16();var o=[];o[0]=this.language>>10&31,o[1]=this.language>>5&31,o[2]=this.language&31,this.languageString=String.fromCharCode(o[0]+96,o[1]+96,o[2]+96)},a.SAMPLE_ENTRY_TYPE_VISUAL="Visual",a.SAMPLE_ENTRY_TYPE_AUDIO="Audio",a.SAMPLE_ENTRY_TYPE_HINT="Hint",a.SAMPLE_ENTRY_TYPE_METADATA="Metadata",a.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",a.SAMPLE_ENTRY_TYPE_SYSTEM="System",a.SAMPLE_ENTRY_TYPE_TEXT="Text",a.SampleEntry.prototype.parseHeader=function(n){n.readUint8Array(6),this.data_reference_index=n.readUint16(),this.hdr_size+=8},a.SampleEntry.prototype.parse=function(n){this.parseHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size)},a.SampleEntry.prototype.parseDataAndRewind=function(n){this.parseHeader(n),this.data=n.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,n.position-=this.size-this.hdr_size},a.SampleEntry.prototype.parseFooter=function(n){a.ContainerBox.prototype.parse.call(this,n)},a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_HINT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,function(n){var o;this.parseHeader(n),n.readUint16(),n.readUint16(),n.readUint32Array(3),this.width=n.readUint16(),this.height=n.readUint16(),this.horizresolution=n.readUint32(),this.vertresolution=n.readUint32(),n.readUint32(),this.frame_count=n.readUint16(),o=Math.min(31,n.readUint8()),this.compressorname=n.readString(o),o<31&&n.readString(31-o),this.depth=n.readUint16(),n.readUint16(),this.parseFooter(n)}),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,function(n){this.parseHeader(n),n.readUint32Array(2),this.channel_count=n.readUint16(),this.samplesize=n.readUint16(),n.readUint16(),n.readUint16(),this.samplerate=n.readUint32()/65536,this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"fLaC"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT,"enct"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"encm"),a.createBoxCtor("a1lx",function(n){var o=n.readUint8()&1,l=((o&1)+1)*16;this.layer_size=[];for(var d=0;d<3;d++)l==16?this.layer_size[d]=n.readUint16():this.layer_size[d]=n.readUint32()}),a.createBoxCtor("a1op",function(n){this.op_index=n.readUint8()}),a.createFullBoxCtor("auxC",function(n){this.aux_type=n.readCString();var o=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=n.readUint8Array(o)}),a.createBoxCtor("av1C",function(n){var o=n.readUint8();if(o>>7&!1){t.error("av1C marker problem");return}if(this.version=o&127,this.version!==1){t.error("av1C version "+this.version+" not supported");return}if(o=n.readUint8(),this.seq_profile=o>>5&7,this.seq_level_idx_0=o&31,o=n.readUint8(),this.seq_tier_0=o>>7&1,this.high_bitdepth=o>>6&1,this.twelve_bit=o>>5&1,this.monochrome=o>>4&1,this.chroma_subsampling_x=o>>3&1,this.chroma_subsampling_y=o>>2&1,this.chroma_sample_position=o&3,o=n.readUint8(),this.reserved_1=o>>5&7,this.reserved_1!==0){t.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=o>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=o&15;else if(this.reserved_2=o&15,this.reserved_2!==0){t.error("av1C reserved_2 parsing problem");return}var l=this.size-this.hdr_size-4;this.configOBUs=n.readUint8Array(l)}),a.createBoxCtor("avcC",function(n){var o,l;for(this.configurationVersion=n.readUint8(),this.AVCProfileIndication=n.readUint8(),this.profile_compatibility=n.readUint8(),this.AVCLevelIndication=n.readUint8(),this.lengthSizeMinusOne=n.readUint8()&3,this.nb_SPS_nalus=n.readUint8()&31,l=this.size-this.hdr_size-6,this.SPS=[],o=0;o<this.nb_SPS_nalus;o++)this.SPS[o]={},this.SPS[o].length=n.readUint16(),this.SPS[o].nalu=n.readUint8Array(this.SPS[o].length),l-=2+this.SPS[o].length;for(this.nb_PPS_nalus=n.readUint8(),l--,this.PPS=[],o=0;o<this.nb_PPS_nalus;o++)this.PPS[o]={},this.PPS[o].length=n.readUint16(),this.PPS[o].nalu=n.readUint8Array(this.PPS[o].length),l-=2+this.PPS[o].length;l>0&&(this.ext=n.readUint8Array(l))}),a.createBoxCtor("btrt",function(n){this.bufferSizeDB=n.readUint32(),this.maxBitrate=n.readUint32(),this.avgBitrate=n.readUint32()}),a.createFullBoxCtor("ccst",function(n){var o=n.readUint8();this.all_ref_pics_intra=(o&128)==128,this.intra_pred_used=(o&64)==64,this.max_ref_per_pic=(o&63)>>2,n.readUint24()}),a.createBoxCtor("cdef",function(n){var o;for(this.channel_count=n.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],o=0;o<this.channel_count;o++)this.channel_indexes.push(n.readUint16()),this.channel_types.push(n.readUint16()),this.channel_associations.push(n.readUint16())}),a.createBoxCtor("clap",function(n){this.cleanApertureWidthN=n.readUint32(),this.cleanApertureWidthD=n.readUint32(),this.cleanApertureHeightN=n.readUint32(),this.cleanApertureHeightD=n.readUint32(),this.horizOffN=n.readUint32(),this.horizOffD=n.readUint32(),this.vertOffN=n.readUint32(),this.vertOffD=n.readUint32()}),a.createBoxCtor("clli",function(n){this.max_content_light_level=n.readUint16(),this.max_pic_average_light_level=n.readUint16()}),a.createFullBoxCtor("cmex",function(n){this.flags&1&&(this.pos_x=n.readInt32()),this.flags&2&&(this.pos_y=n.readInt32()),this.flags&4&&(this.pos_z=n.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=n.readInt32(),this.quat_y=n.readInt32(),this.quat_z=n.readInt32()):(this.quat_x=n.readInt16(),this.quat_y=n.readInt16(),this.quat_z=n.readInt16()):this.version==1),this.flags&32&&(this.id=n.readUint32())}),a.createFullBoxCtor("cmin",function(n){this.focal_length_x=n.readInt32(),this.principal_point_x=n.readInt32(),this.principal_point_y=n.readInt32(),this.flags&1&&(this.focal_length_y=n.readInt32(),this.skew_factor=n.readInt32())}),a.createBoxCtor("cmpd",function(n){for(this.component_count=n.readUint32(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var o=n.readUint16();this.component_types.push(o),o>=32768&&this.component_type_urls.push(n.readCString())}}),a.createFullBoxCtor("co64",function(n){var o,l;if(o=n.readUint32(),this.chunk_offsets=[],this.version===0)for(l=0;l<o;l++)this.chunk_offsets.push(n.readUint64())}),a.createFullBoxCtor("CoLL",function(n){this.maxCLL=n.readUint16(),this.maxFALL=n.readUint16()}),a.createBoxCtor("colr",function(n){if(this.colour_type=n.readString(4),this.colour_type==="nclx"){this.colour_primaries=n.readUint16(),this.transfer_characteristics=n.readUint16(),this.matrix_coefficients=n.readUint16();var o=n.readUint8();this.full_range_flag=o>>7}else this.colour_type==="rICC"?this.ICC_profile=n.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=n.readUint8Array(this.size-4))}),a.createFullBoxCtor("cprt",function(n){this.parseLanguage(n),this.notice=n.readCString()}),a.createFullBoxCtor("cslg",function(n){this.version===0&&(this.compositionToDTSShift=n.readInt32(),this.leastDecodeToDisplayDelta=n.readInt32(),this.greatestDecodeToDisplayDelta=n.readInt32(),this.compositionStartTime=n.readInt32(),this.compositionEndTime=n.readInt32())}),a.createFullBoxCtor("ctts",function(n){var o,l;if(o=n.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(l=0;l<o;l++){this.sample_counts.push(n.readUint32());var d=n.readInt32();d<0&&t.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(d)}else if(this.version==1)for(l=0;l<o;l++)this.sample_counts.push(n.readUint32()),this.sample_offsets.push(n.readInt32())}),a.createBoxCtor("dac3",function(n){var o=n.readUint8(),l=n.readUint8(),d=n.readUint8();this.fscod=o>>6,this.bsid=o>>1&31,this.bsmod=(o&1)<<2|l>>6&3,this.acmod=l>>3&7,this.lfeon=l>>2&1,this.bit_rate_code=l&3|d>>5&7}),a.createBoxCtor("dec3",function(n){var o=n.readUint16();this.data_rate=o>>3,this.num_ind_sub=o&7,this.ind_subs=[];for(var l=0;l<this.num_ind_sub+1;l++){var d={};this.ind_subs.push(d);var h=n.readUint8(),_=n.readUint8(),b=n.readUint8();d.fscod=h>>6,d.bsid=h>>1&31,d.bsmod=(h&1)<<4|_>>4&15,d.acmod=_>>1&7,d.lfeon=_&1,d.num_dep_sub=b>>1&15,d.num_dep_sub>0&&(d.chan_loc=(b&1)<<8|n.readUint8())}}),a.createFullBoxCtor("dfLa",function(n){var o=127,l=128,d=[],h=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];do{var _=n.readUint8(),b=Math.min(_&o,h.length-1);if(b?n.readUint8Array(n.readUint24()):(n.readUint8Array(13),this.samplerate=n.readUint32()>>12,n.readUint8Array(20)),d.push(h[b]),_&l)break}while(!0);this.numMetadataBlocks=d.length+" ("+d.join(", ")+")"}),a.createBoxCtor("dimm",function(n){this.bytessent=n.readUint64()}),a.createBoxCtor("dmax",function(n){this.time=n.readUint32()}),a.createBoxCtor("dmed",function(n){this.bytessent=n.readUint64()}),a.createBoxCtor("dOps",function(n){if(this.Version=n.readUint8(),this.OutputChannelCount=n.readUint8(),this.PreSkip=n.readUint16(),this.InputSampleRate=n.readUint32(),this.OutputGain=n.readInt16(),this.ChannelMappingFamily=n.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=n.readUint8(),this.CoupledCount=n.readUint8(),this.ChannelMapping=[];for(var o=0;o<this.OutputChannelCount;o++)this.ChannelMapping[o]=n.readUint8()}}),a.createFullBoxCtor("dref",function(n){var o,l;this.entries=[];for(var d=n.readUint32(),h=0;h<d;h++)if(o=a.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),o.code===a.OK)l=o.box,this.entries.push(l);else return}),a.createBoxCtor("drep",function(n){this.bytessent=n.readUint64()}),a.createFullBoxCtor("elng",function(n){this.extended_language=n.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("elst",function(n){this.entries=[];for(var o=n.readUint32(),l=0;l<o;l++){var d={};this.entries.push(d),this.version===1?(d.segment_duration=n.readUint64(),d.media_time=n.readInt64()):(d.segment_duration=n.readUint32(),d.media_time=n.readInt32()),d.media_rate_integer=n.readInt16(),d.media_rate_fraction=n.readInt16()}}),a.createFullBoxCtor("emsg",function(n){this.version==1?(this.timescale=n.readUint32(),this.presentation_time=n.readUint64(),this.event_duration=n.readUint32(),this.id=n.readUint32(),this.scheme_id_uri=n.readCString(),this.value=n.readCString()):(this.scheme_id_uri=n.readCString(),this.value=n.readCString(),this.timescale=n.readUint32(),this.presentation_time_delta=n.readUint32(),this.event_duration=n.readUint32(),this.id=n.readUint32());var o=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(o-=4),this.message_data=n.readUint8Array(o)}),a.createEntityToGroupCtor=function(n,o){a[n+"Box"]=function(l){a.FullBox.call(this,n,l)},a[n+"Box"].prototype=new a.FullBox,a[n+"Box"].prototype.parse=function(l){if(this.parseFullHeader(l),o)o.call(this,l);else for(this.group_id=l.readUint32(),this.num_entities_in_group=l.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var d=l.readUint32();this.entity_ids.push(d)}}},a.createEntityToGroupCtor("aebr"),a.createEntityToGroupCtor("afbr"),a.createEntityToGroupCtor("albc"),a.createEntityToGroupCtor("altr"),a.createEntityToGroupCtor("brst"),a.createEntityToGroupCtor("dobr"),a.createEntityToGroupCtor("eqiv"),a.createEntityToGroupCtor("favc"),a.createEntityToGroupCtor("fobr"),a.createEntityToGroupCtor("iaug"),a.createEntityToGroupCtor("pano"),a.createEntityToGroupCtor("slid"),a.createEntityToGroupCtor("ster"),a.createEntityToGroupCtor("tsyn"),a.createEntityToGroupCtor("wbbr"),a.createEntityToGroupCtor("prgr"),a.createEntityToGroupCtor("pymd",function(n){this.group_id=n.readUint32(),this.num_entities_in_group=n.readUint32(),this.entity_ids=[];for(var o=0;o<this.num_entities_in_group;o++){var l=n.readUint32();this.entity_ids.push(l)}for(this.tile_size_x=n.readUint16(),this.tile_size_y=n.readUint16(),this.layer_binning=[],this.tiles_in_layer_column_minus1=[],this.tiles_in_layer_row_minus1=[],o=0;o<this.num_entities_in_group;o++)this.layer_binning[o]=n.readUint16(),this.tiles_in_layer_row_minus1[o]=n.readUint16(),this.tiles_in_layer_column_minus1[o]=n.readUint16()}),a.createFullBoxCtor("esds",function(n){var o=n.readUint8Array(this.size-this.hdr_size);if(typeof c<"u"){var l=new c;this.esd=l.parseOneDescriptor(new s(o.buffer,0,s.BIG_ENDIAN))}}),a.createBoxCtor("fiel",function(n){this.fieldCount=n.readUint8(),this.fieldOrdering=n.readUint8()}),a.createBoxCtor("frma",function(n){this.data_format=n.readString(4)}),a.createBoxCtor("ftyp",function(n){var o=this.size-this.hdr_size;this.major_brand=n.readString(4),this.minor_version=n.readUint32(),o-=8,this.compatible_brands=[];for(var l=0;o>=4;)this.compatible_brands[l]=n.readString(4),o-=4,l++}),a.createFullBoxCtor("hdlr",function(n){this.version===0&&(n.readUint32(),this.handler=n.readString(4),n.readUint32Array(3),this.name=n.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),a.createBoxCtor("hvcC",function(n){var o,l,d,h;this.configurationVersion=n.readUint8(),h=n.readUint8(),this.general_profile_space=h>>6,this.general_tier_flag=(h&32)>>5,this.general_profile_idc=h&31,this.general_profile_compatibility=n.readUint32(),this.general_constraint_indicator=n.readUint8Array(6),this.general_level_idc=n.readUint8(),this.min_spatial_segmentation_idc=n.readUint16()&4095,this.parallelismType=n.readUint8()&3,this.chroma_format_idc=n.readUint8()&3,this.bit_depth_luma_minus8=n.readUint8()&7,this.bit_depth_chroma_minus8=n.readUint8()&7,this.avgFrameRate=n.readUint16(),h=n.readUint8(),this.constantFrameRate=h>>6,this.numTemporalLayers=(h&13)>>3,this.temporalIdNested=(h&4)>>2,this.lengthSizeMinusOne=h&3,this.nalu_arrays=[];var _=n.readUint8();for(o=0;o<_;o++){var b=[];this.nalu_arrays.push(b),h=n.readUint8(),b.completeness=(h&128)>>7,b.nalu_type=h&63;var S=n.readUint16();for(l=0;l<S;l++){var C={};b.push(C),d=n.readUint16(),C.data=n.readUint8Array(d)}}}),a.createFullBoxCtor("iinf",function(n){var o;this.version===0?this.entry_count=n.readUint16():this.entry_count=n.readUint32(),this.item_infos=[];for(var l=0;l<this.entry_count;l++)if(o=a.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),o.code===a.OK)o.box.type!=="infe"&&t.error("BoxParser","Expected 'infe' box, got "+o.box.type),this.item_infos[l]=o.box;else return}),a.createFullBoxCtor("iloc",function(n){var o;o=n.readUint8(),this.offset_size=o>>4&15,this.length_size=o&15,o=n.readUint8(),this.base_offset_size=o>>4&15,this.version===1||this.version===2?this.index_size=o&15:this.index_size=0,this.items=[];var l=0;if(this.version<2)l=n.readUint16();else if(this.version===2)l=n.readUint32();else throw"version of iloc box not supported";for(var d=0;d<l;d++){var h={};if(this.items.push(h),this.version<2)h.item_ID=n.readUint16();else if(this.version===2)h.item_ID=n.readUint32();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?h.construction_method=n.readUint16()&15:h.construction_method=0,h.data_reference_index=n.readUint16(),this.base_offset_size){case 0:h.base_offset=0;break;case 4:h.base_offset=n.readUint32();break;case 8:h.base_offset=n.readUint64();break;default:throw"Error reading base offset size"}var _=n.readUint16();h.extents=[];for(var b=0;b<_;b++){var S={};if(h.extents.push(S),this.version===1||this.version===2)switch(this.index_size){case 0:S.extent_index=0;break;case 4:S.extent_index=n.readUint32();break;case 8:S.extent_index=n.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:S.extent_offset=0;break;case 4:S.extent_offset=n.readUint32();break;case 8:S.extent_offset=n.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:S.extent_length=0;break;case 4:S.extent_length=n.readUint32();break;case 8:S.extent_length=n.readUint64();break;default:throw"Error reading extent index"}}}}),a.createBoxCtor("imir",function(n){var o=n.readUint8();this.reserved=o>>7,this.axis=o&1}),a.createFullBoxCtor("infe",function(n){if((this.version===0||this.version===1)&&(this.item_ID=n.readUint16(),this.item_protection_index=n.readUint16(),this.item_name=n.readCString(),this.content_type=n.readCString(),this.content_encoding=n.readCString()),this.version===1){this.extension_type=n.readString(4),t.warn("BoxParser","Cannot parse extension type"),n.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=n.readUint16():this.version===3&&(this.item_ID=n.readUint32()),this.item_protection_index=n.readUint16(),this.item_type=n.readString(4),this.item_name=n.readCString(),this.item_type==="mime"?(this.content_type=n.readCString(),this.content_encoding=n.readCString()):this.item_type==="uri "&&(this.item_uri_type=n.readCString()))}),a.createFullBoxCtor("ipma",function(n){var o,l;for(entry_count=n.readUint32(),this.associations=[],o=0;o<entry_count;o++){var d={};this.associations.push(d),this.version<1?d.id=n.readUint16():d.id=n.readUint32();var h=n.readUint8();for(d.props=[],l=0;l<h;l++){var _=n.readUint8(),b={};d.props.push(b),b.essential=(_&128)>>7===1,this.flags&1?b.property_index=(_&127)<<8|n.readUint8():b.property_index=_&127}}}),a.createFullBoxCtor("iref",function(n){var o,l;for(this.references=[];n.getPosition()<this.start+this.size;)if(o=a.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),o.code===a.OK)this.version===0?l=new a.SingleItemTypeReferenceBox(o.type,o.size,o.hdr_size,o.start):l=new a.SingleItemTypeReferenceBoxLarge(o.type,o.size,o.hdr_size,o.start),l.write===a.Box.prototype.write&&l.type!=="mdat"&&(t.warn("BoxParser",l.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),l.parseDataAndRewind(n)),l.parse(n),this.references.push(l);else return}),a.createBoxCtor("irot",function(n){this.angle=n.readUint8()&3}),a.createFullBoxCtor("ispe",function(n){this.image_width=n.readUint32(),this.image_height=n.readUint32()}),a.createFullBoxCtor("kind",function(n){this.schemeURI=n.readCString(),this.value=n.readCString()}),a.createFullBoxCtor("leva",function(n){var o=n.readUint8();this.levels=[];for(var l=0;l<o;l++){var d={};this.levels[l]=d,d.track_ID=n.readUint32();var h=n.readUint8();switch(d.padding_flag=h>>7,d.assignment_type=h&127,d.assignment_type){case 0:d.grouping_type=n.readString(4);break;case 1:d.grouping_type=n.readString(4),d.grouping_type_parameter=n.readUint32();break;case 2:break;case 3:break;case 4:d.sub_track_id=n.readUint32();break;default:t.warn("BoxParser","Unknown leva assignement type")}}}),a.createBoxCtor("lhvC",function(n){var o,l,d;this.configurationVersion=n.readUint8(),this.min_spatial_segmentation_idc=n.readUint16()&4095,this.parallelismType=n.readUint8()&3,d=n.readUint8(),this.numTemporalLayers=(d&13)>>3,this.temporalIdNested=(d&4)>>2,this.lengthSizeMinusOne=d&3,this.nalu_arrays=[];var h=n.readUint8();for(o=0;o<h;o++){var _=[];this.nalu_arrays.push(_),d=n.readUint8(),_.completeness=(d&128)>>7,_.nalu_type=d&63;var b=n.readUint16();for(l=0;l<b;l++){var S={};_.push(S);var C=n.readUint16();S.data=n.readUint8Array(C)}}}),a.createBoxCtor("lsel",function(n){this.layer_id=n.readUint16()}),a.createBoxCtor("maxr",function(n){this.period=n.readUint32(),this.bytes=n.readUint32()});function p(n,o){this.x=n,this.y=o}p.prototype.toString=function(){return"("+this.x+","+this.y+")"},a.createBoxCtor("mdcv",function(n){this.display_primaries=[],this.display_primaries[0]=new p(n.readUint16(),n.readUint16()),this.display_primaries[1]=new p(n.readUint16(),n.readUint16()),this.display_primaries[2]=new p(n.readUint16(),n.readUint16()),this.white_point=new p(n.readUint16(),n.readUint16()),this.max_display_mastering_luminance=n.readUint32(),this.min_display_mastering_luminance=n.readUint32()}),a.createFullBoxCtor("mdhd",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.timescale=n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.timescale=n.readUint32(),this.duration=n.readUint32()),this.parseLanguage(n),n.readUint16()}),a.createFullBoxCtor("mehd",function(n){this.flags&1&&(t.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=n.readUint64():this.fragment_duration=n.readUint32()}),a.createFullBoxCtor("meta",function(n){this.boxes=[],a.ContainerBox.prototype.parse.call(this,n)}),a.createFullBoxCtor("mfhd",function(n){this.sequence_number=n.readUint32()}),a.createFullBoxCtor("mfro",function(n){this._size=n.readUint32()}),a.createFullBoxCtor("mskC",function(n){this.bits_per_pixel=n.readUint8()}),a.createFullBoxCtor("mvhd",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.timescale=n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.timescale=n.readUint32(),this.duration=n.readUint32()),this.rate=n.readUint32(),this.volume=n.readUint16()>>8,n.readUint16(),n.readUint32Array(2),this.matrix=n.readUint32Array(9),n.readUint32Array(6),this.next_track_id=n.readUint32()}),a.createBoxCtor("npck",function(n){this.packetssent=n.readUint32()}),a.createBoxCtor("nump",function(n){this.packetssent=n.readUint64()}),a.createFullBoxCtor("padb",function(n){var o=n.readUint32();this.padbits=[];for(var l=0;l<Math.floor((o+1)/2);l++)this.padbits=n.readUint8()}),a.createBoxCtor("pasp",function(n){this.hSpacing=n.readUint32(),this.vSpacing=n.readUint32()}),a.createBoxCtor("payl",function(n){this.text=n.readString(this.size-this.hdr_size)}),a.createBoxCtor("payt",function(n){this.payloadID=n.readUint32();var o=n.readUint8();this.rtpmap_string=n.readString(o)}),a.createFullBoxCtor("pdin",function(n){var o=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var l=0;l<o;l++)this.rate[l]=n.readUint32(),this.initial_delay[l]=n.readUint32()}),a.createFullBoxCtor("pitm",function(n){this.version===0?this.item_id=n.readUint16():this.item_id=n.readUint32()}),a.createFullBoxCtor("pixi",function(n){var o;for(this.num_channels=n.readUint8(),this.bits_per_channels=[],o=0;o<this.num_channels;o++)this.bits_per_channels[o]=n.readUint8()}),a.createBoxCtor("pmax",function(n){this.bytes=n.readUint32()}),a.createFullBoxCtor("prdi",function(n){if(this.step_count=n.readUint16(),this.item_count=[],this.flags&2)for(var o=0;o<this.step_count;o++)this.item_count[o]=n.readUint16()}),a.createFullBoxCtor("prft",function(n){this.ref_track_id=n.readUint32(),this.ntp_timestamp=n.readUint64(),this.version===0?this.media_time=n.readUint32():this.media_time=n.readUint64()}),a.createFullBoxCtor("pssh",function(n){if(this.system_id=a.parseHex16(n),this.version>0){var o=n.readUint32();this.kid=[];for(var l=0;l<o;l++)this.kid[l]=a.parseHex16(n)}var d=n.readUint32();d>0&&(this.data=n.readUint8Array(d))}),a.createFullBoxCtor("clef",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),a.createFullBoxCtor("enof",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),a.createFullBoxCtor("prof",function(n){this.width=n.readUint32(),this.height=n.readUint32()}),a.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),a.createBoxCtor("rtp ",function(n){this.descriptionformat=n.readString(4),this.sdptext=n.readString(this.size-this.hdr_size-4)}),a.createFullBoxCtor("saio",function(n){this.flags&1&&(this.aux_info_type=n.readString(4),this.aux_info_type_parameter=n.readUint32());var o=n.readUint32();this.offset=[];for(var l=0;l<o;l++)this.version===0?this.offset[l]=n.readUint32():this.offset[l]=n.readUint64()}),a.createFullBoxCtor("saiz",function(n){if(this.flags&1&&(this.aux_info_type=n.readString(4),this.aux_info_type_parameter=n.readUint32()),this.default_sample_info_size=n.readUint8(),this.sample_count=n.readUint32(),this.sample_info_size=[],this.default_sample_info_size===0)for(var o=0;o<this.sample_count;o++)this.sample_info_size[o]=n.readUint8()}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.namespace=n.readCString(),this.schema_location=n.readCString(),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(n){this.parseHeader(n),this.namespace=n.readCString(),this.schema_location=n.readCString(),this.auxiliary_mime_types=n.readCString(),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(n){this.parseHeader(n),this.content_encoding=n.readCString(),this.mime_format=n.readCString(),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(n){this.parseHeader(n),this.displayFlags=n.readUint32(),this.horizontal_justification=n.readInt8(),this.vertical_justification=n.readInt8(),this.bg_color_rgba=n.readUint8Array(4),this.box_record=n.readInt16Array(4),this.style_record=n.readUint8Array(12),this.parseFooter(n)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(n){this.parseHeader(n),this.parseFooter(n)}),a.createSampleGroupCtor("alst",function(n){var o,l=n.readUint16();for(this.first_output_sample=n.readUint16(),this.sample_offset=[],o=0;o<l;o++)this.sample_offset[o]=n.readUint32();var d=this.description_length-4-4*l;for(this.num_output_samples=[],this.num_total_samples=[],o=0;o<d/4;o++)this.num_output_samples[o]=n.readUint16(),this.num_total_samples[o]=n.readUint16()}),a.createSampleGroupCtor("avll",function(n){this.layerNumber=n.readUint8(),this.accurateStatisticsFlag=n.readUint8(),this.avgBitRate=n.readUint16(),this.avgFrameRate=n.readUint16()}),a.createSampleGroupCtor("avss",function(n){this.subSequenceIdentifier=n.readUint16(),this.layerNumber=n.readUint8();var o=n.readUint8();this.durationFlag=o>>7,this.avgRateFlag=o>>6&1,this.durationFlag&&(this.duration=n.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=n.readUint8(),this.avgBitRate=n.readUint16(),this.avgFrameRate=n.readUint16()),this.dependency=[];for(var l=n.readUint8(),d=0;d<l;d++){var h={};this.dependency.push(h),h.subSeqDirectionFlag=n.readUint8(),h.layerNumber=n.readUint8(),h.subSequenceIdentifier=n.readUint16()}}),a.createSampleGroupCtor("dtrt",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("mvif",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("prol",function(n){this.roll_distance=n.readInt16()}),a.createSampleGroupCtor("rap ",function(n){var o=n.readUint8();this.num_leading_samples_known=o>>7,this.num_leading_samples=o&127}),a.createSampleGroupCtor("rash",function(n){if(this.operation_point_count=n.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)t.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=n.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=n.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var o=0;o<this.operation_point_count;o++)this.available_bitrate[o]=n.readUint32(),this.target_rate_share[o]=n.readUint16()}this.maximum_bitrate=n.readUint32(),this.minimum_bitrate=n.readUint32(),this.discard_priority=n.readUint8()}}),a.createSampleGroupCtor("roll",function(n){this.roll_distance=n.readInt16()}),a.SampleGroupEntry.prototype.parse=function(n){t.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=n.readUint8Array(this.description_length)},a.createSampleGroupCtor("scif",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("scnm",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("seig",function(n){this.reserved=n.readUint8();var o=n.readUint8();this.crypt_byte_block=o>>4,this.skip_byte_block=o&15,this.isProtected=n.readUint8(),this.Per_Sample_IV_Size=n.readUint8(),this.KID=a.parseHex16(n),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=n.readUint8(),this.constant_IV=n.readUint8Array(this.constant_IV_size))}),a.createSampleGroupCtor("stsa",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("sync",function(n){var o=n.readUint8();this.NAL_unit_type=o&63}),a.createSampleGroupCtor("tele",function(n){var o=n.readUint8();this.level_independently_decodable=o>>7}),a.createSampleGroupCtor("tsas",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("tscl",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("vipr",function(n){t.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createFullBoxCtor("sbgp",function(n){this.grouping_type=n.readString(4),this.version===1?this.grouping_type_parameter=n.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var o=n.readUint32(),l=0;l<o;l++){var d={};this.entries.push(d),d.sample_count=n.readInt32(),d.group_description_index=n.readInt32()}});function v(n,o){this.bad_pixel_row=n,this.bad_pixel_column=o}v.prototype.toString=function(){return"[row: "+this.bad_pixel_row+", column: "+this.bad_pixel_column+"]"},a.createFullBoxCtor("sbpm",function(n){var o;for(this.component_count=n.readUint16(),this.component_index=[],o=0;o<this.component_count;o++)this.component_index.push(n.readUint16());var l=n.readUint8();for(this.correction_applied=(l&128)==128,this.num_bad_rows=n.readUint32(),this.num_bad_cols=n.readUint32(),this.num_bad_pixels=n.readUint32(),this.bad_rows=[],this.bad_columns=[],this.bad_pixels=[],o=0;o<this.num_bad_rows;o++)this.bad_rows.push(n.readUint32());for(o=0;o<this.num_bad_cols;o++)this.bad_columns.push(n.readUint32());for(o=0;o<this.num_bad_pixels;o++){var d=n.readUint32(),h=n.readUint32();this.bad_pixels.push(new v(d,h))}}),a.createFullBoxCtor("schm",function(n){this.scheme_type=n.readString(4),this.scheme_version=n.readUint32(),this.flags&1&&(this.scheme_uri=n.readString(this.size-this.hdr_size-8))}),a.createBoxCtor("sdp ",function(n){this.sdptext=n.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("sdtp",function(n){var o,l=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var d=0;d<l;d++)o=n.readUint8(),this.is_leading[d]=o>>6,this.sample_depends_on[d]=o>>4&3,this.sample_is_depended_on[d]=o>>2&3,this.sample_has_redundancy[d]=o&3}),a.createFullBoxCtor("senc"),a.createFullBoxCtor("sgpd",function(n){this.grouping_type=n.readString(4),t.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=n.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=n.readUint32()),this.entries=[];for(var o=n.readUint32(),l=0;l<o;l++){var d;a[this.grouping_type+"SampleGroupEntry"]?d=new a[this.grouping_type+"SampleGroupEntry"](this.grouping_type):d=new a.SampleGroupEntry(this.grouping_type),this.entries.push(d),this.version===1?this.default_length===0?d.description_length=n.readUint32():d.description_length=this.default_length:d.description_length=this.default_length,d.write===a.SampleGroupEntry.prototype.write&&(t.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),d.data=n.readUint8Array(d.description_length),n.position-=d.description_length),d.parse(n)}}),a.createFullBoxCtor("sidx",function(n){this.reference_ID=n.readUint32(),this.timescale=n.readUint32(),this.version===0?(this.earliest_presentation_time=n.readUint32(),this.first_offset=n.readUint32()):(this.earliest_presentation_time=n.readUint64(),this.first_offset=n.readUint64()),n.readUint16(),this.references=[];for(var o=n.readUint16(),l=0;l<o;l++){var d={};this.references.push(d);var h=n.readUint32();d.reference_type=h>>31&1,d.referenced_size=h&2147483647,d.subsegment_duration=n.readUint32(),h=n.readUint32(),d.starts_with_SAP=h>>31&1,d.SAP_type=h>>28&7,d.SAP_delta_time=h&268435455}}),a.SingleItemTypeReferenceBox=function(n,o,l,d){a.Box.call(this,n,o),this.hdr_size=l,this.start=d},a.SingleItemTypeReferenceBox.prototype=new a.Box,a.SingleItemTypeReferenceBox.prototype.parse=function(n){this.from_item_ID=n.readUint16();var o=n.readUint16();this.references=[];for(var l=0;l<o;l++)this.references[l]={},this.references[l].to_item_ID=n.readUint16()},a.SingleItemTypeReferenceBoxLarge=function(n,o,l,d){a.Box.call(this,n,o),this.hdr_size=l,this.start=d},a.SingleItemTypeReferenceBoxLarge.prototype=new a.Box,a.SingleItemTypeReferenceBoxLarge.prototype.parse=function(n){this.from_item_ID=n.readUint32();var o=n.readUint16();this.references=[];for(var l=0;l<o;l++)this.references[l]={},this.references[l].to_item_ID=n.readUint32()},a.createFullBoxCtor("SmDm",function(n){this.primaryRChromaticity_x=n.readUint16(),this.primaryRChromaticity_y=n.readUint16(),this.primaryGChromaticity_x=n.readUint16(),this.primaryGChromaticity_y=n.readUint16(),this.primaryBChromaticity_x=n.readUint16(),this.primaryBChromaticity_y=n.readUint16(),this.whitePointChromaticity_x=n.readUint16(),this.whitePointChromaticity_y=n.readUint16(),this.luminanceMax=n.readUint32(),this.luminanceMin=n.readUint32()}),a.createFullBoxCtor("smhd",function(n){this.balance=n.readUint16(),n.readUint16()}),a.createFullBoxCtor("ssix",function(n){this.subsegments=[];for(var o=n.readUint32(),l=0;l<o;l++){var d={};this.subsegments.push(d),d.ranges=[];for(var h=n.readUint32(),_=0;_<h;_++){var b={};d.ranges.push(b),b.level=n.readUint8(),b.range_size=n.readUint24()}}}),a.createFullBoxCtor("stco",function(n){var o;if(o=n.readUint32(),this.chunk_offsets=[],this.version===0)for(var l=0;l<o;l++)this.chunk_offsets.push(n.readUint32())}),a.createFullBoxCtor("stdp",function(n){var o=(this.size-this.hdr_size)/2;this.priority=[];for(var l=0;l<o;l++)this.priority[l]=n.readUint16()}),a.createFullBoxCtor("sthd"),a.createFullBoxCtor("stri",function(n){this.switch_group=n.readUint16(),this.alternate_group=n.readUint16(),this.sub_track_id=n.readUint32();var o=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var l=0;l<o;l++)this.attribute_list[l]=n.readUint32()}),a.createFullBoxCtor("stsc",function(n){var o,l;if(o=n.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(l=0;l<o;l++)this.first_chunk.push(n.readUint32()),this.samples_per_chunk.push(n.readUint32()),this.sample_description_index.push(n.readUint32())}),a.createFullBoxCtor("stsd",function(n){var o,l,d,h;for(this.entries=[],d=n.readUint32(),o=1;o<=d;o++)if(l=a.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),l.code===a.OK)a[l.type+"SampleEntry"]?(h=new a[l.type+"SampleEntry"](l.size),h.hdr_size=l.hdr_size,h.start=l.start):(t.warn("BoxParser","Unknown sample entry type: "+l.type),h=new a.SampleEntry(l.type,l.size,l.hdr_size,l.start)),h.write===a.SampleEntry.prototype.write&&(t.info("BoxParser","SampleEntry "+h.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),h.parseDataAndRewind(n)),h.parse(n),this.entries.push(h);else return}),a.createFullBoxCtor("stsg",function(n){this.grouping_type=n.readUint32();var o=n.readUint16();this.group_description_index=[];for(var l=0;l<o;l++)this.group_description_index[l]=n.readUint32()}),a.createFullBoxCtor("stsh",function(n){var o,l;if(o=n.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(l=0;l<o;l++)this.shadowed_sample_numbers.push(n.readUint32()),this.sync_sample_numbers.push(n.readUint32())}),a.createFullBoxCtor("stss",function(n){var o,l;if(l=n.readUint32(),this.version===0)for(this.sample_numbers=[],o=0;o<l;o++)this.sample_numbers.push(n.readUint32())}),a.createFullBoxCtor("stsz",function(n){var o;if(this.sample_sizes=[],this.version===0)for(this.sample_size=n.readUint32(),this.sample_count=n.readUint32(),o=0;o<this.sample_count;o++)this.sample_size===0?this.sample_sizes.push(n.readUint32()):this.sample_sizes[o]=this.sample_size}),a.createFullBoxCtor("stts",function(n){var o,l,d;if(o=n.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(l=0;l<o;l++)this.sample_counts.push(n.readUint32()),d=n.readInt32(),d<0&&(t.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),d=1),this.sample_deltas.push(d)}),a.createFullBoxCtor("stvi",function(n){var o=n.readUint32();this.single_view_allowed=o&3,this.stereo_scheme=n.readUint32();var l=n.readUint32();this.stereo_indication_type=n.readString(l);var d,h;for(this.boxes=[];n.getPosition()<this.start+this.size;)if(d=a.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),d.code===a.OK)h=d.box,this.boxes.push(h),this[h.type]=h;else return}),a.createBoxCtor("styp",function(n){a.ftypBox.prototype.parse.call(this,n)}),a.createFullBoxCtor("stz2",function(n){var o,l;if(this.sample_sizes=[],this.version===0)if(this.reserved=n.readUint24(),this.field_size=n.readUint8(),l=n.readUint32(),this.field_size===4)for(o=0;o<l;o+=2){var d=n.readUint8();this.sample_sizes[o]=d>>4&15,this.sample_sizes[o+1]=d&15}else if(this.field_size===8)for(o=0;o<l;o++)this.sample_sizes[o]=n.readUint8();else if(this.field_size===16)for(o=0;o<l;o++)this.sample_sizes[o]=n.readUint16();else t.error("BoxParser","Error in length field in stz2 box")}),a.createFullBoxCtor("subs",function(n){var o,l,d,h;for(d=n.readUint32(),this.entries=[],o=0;o<d;o++){var _={};if(this.entries[o]=_,_.sample_delta=n.readUint32(),_.subsamples=[],h=n.readUint16(),h>0)for(l=0;l<h;l++){var b={};_.subsamples.push(b),this.version==1?b.size=n.readUint32():b.size=n.readUint16(),b.priority=n.readUint8(),b.discardable=n.readUint8(),b.codec_specific_parameters=n.readUint32()}}}),a.createFullBoxCtor("tenc",function(n){if(n.readUint8(),this.version===0)n.readUint8();else{var o=n.readUint8();this.default_crypt_byte_block=o>>4&15,this.default_skip_byte_block=o&15}this.default_isProtected=n.readUint8(),this.default_Per_Sample_IV_Size=n.readUint8(),this.default_KID=a.parseHex16(n),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=n.readUint8(),this.default_constant_IV=n.readUint8Array(this.default_constant_IV_size))}),a.createFullBoxCtor("tfdt",function(n){this.version==1?this.baseMediaDecodeTime=n.readUint64():this.baseMediaDecodeTime=n.readUint32()}),a.createFullBoxCtor("tfhd",function(n){var o=0;this.track_id=n.readUint32(),this.size-this.hdr_size>o&&this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=n.readUint64(),o+=8):this.base_data_offset=0,this.size-this.hdr_size>o&&this.flags&a.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=n.readUint32(),o+=4):this.default_sample_description_index=0,this.size-this.hdr_size>o&&this.flags&a.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=n.readUint32(),o+=4):this.default_sample_duration=0,this.size-this.hdr_size>o&&this.flags&a.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=n.readUint32(),o+=4):this.default_sample_size=0,this.size-this.hdr_size>o&&this.flags&a.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=n.readUint32(),o+=4):this.default_sample_flags=0}),a.createFullBoxCtor("tfra",function(n){this.track_ID=n.readUint32(),n.readUint24();var o=n.readUint8();this.length_size_of_traf_num=o>>4&3,this.length_size_of_trun_num=o>>2&3,this.length_size_of_sample_num=o&3,this.entries=[];for(var l=n.readUint32(),d=0;d<l;d++)this.version===1?(this.time=n.readUint64(),this.moof_offset=n.readUint64()):(this.time=n.readUint32(),this.moof_offset=n.readUint32()),this.traf_number=n["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=n["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=n["readUint"+8*(this.length_size_of_sample_num+1)]()}),a.createFullBoxCtor("tkhd",function(n){this.version==1?(this.creation_time=n.readUint64(),this.modification_time=n.readUint64(),this.track_id=n.readUint32(),n.readUint32(),this.duration=n.readUint64()):(this.creation_time=n.readUint32(),this.modification_time=n.readUint32(),this.track_id=n.readUint32(),n.readUint32(),this.duration=n.readUint32()),n.readUint32Array(2),this.layer=n.readInt16(),this.alternate_group=n.readInt16(),this.volume=n.readInt16()>>8,n.readUint16(),this.matrix=n.readInt32Array(9),this.width=n.readUint32(),this.height=n.readUint32()}),a.createBoxCtor("tmax",function(n){this.time=n.readUint32()}),a.createBoxCtor("tmin",function(n){this.time=n.readUint32()}),a.createBoxCtor("totl",function(n){this.bytessent=n.readUint32()}),a.createBoxCtor("tpay",function(n){this.bytessent=n.readUint32()}),a.createBoxCtor("tpyl",function(n){this.bytessent=n.readUint64()}),a.TrackGroupTypeBox.prototype.parse=function(n){this.parseFullHeader(n),this.track_group_id=n.readUint32()},a.createTrackGroupCtor("msrc"),a.TrackReferenceTypeBox=function(n,o,l,d){a.Box.call(this,n,o),this.hdr_size=l,this.start=d},a.TrackReferenceTypeBox.prototype=new a.Box,a.TrackReferenceTypeBox.prototype.parse=function(n){this.track_ids=n.readUint32Array((this.size-this.hdr_size)/4)},a.trefBox.prototype.parse=function(n){for(var o,l;n.getPosition()<this.start+this.size;)if(o=a.parseOneBox(n,!0,this.size-(n.getPosition()-this.start)),o.code===a.OK)l=new a.TrackReferenceTypeBox(o.type,o.size,o.hdr_size,o.start),l.write===a.Box.prototype.write&&l.type!=="mdat"&&(t.info("BoxParser","TrackReference "+l.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),l.parseDataAndRewind(n)),l.parse(n),this.boxes.push(l);else return},a.createFullBoxCtor("trep",function(n){for(this.track_ID=n.readUint32(),this.boxes=[];n.getPosition()<this.start+this.size;)if(ret=a.parseOneBox(n,!1,this.size-(n.getPosition()-this.start)),ret.code===a.OK)box=ret.box,this.boxes.push(box);else return}),a.createFullBoxCtor("trex",function(n){this.track_id=n.readUint32(),this.default_sample_description_index=n.readUint32(),this.default_sample_duration=n.readUint32(),this.default_sample_size=n.readUint32(),this.default_sample_flags=n.readUint32()}),a.createBoxCtor("trpy",function(n){this.bytessent=n.readUint64()}),a.createFullBoxCtor("trun",function(n){var o=0;if(this.sample_count=n.readUint32(),o+=4,this.size-this.hdr_size>o&&this.flags&a.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=n.readInt32(),o+=4):this.data_offset=0,this.size-this.hdr_size>o&&this.flags&a.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=n.readUint32(),o+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>o)for(var l=0;l<this.sample_count;l++)this.flags&a.TRUN_FLAGS_DURATION&&(this.sample_duration[l]=n.readUint32()),this.flags&a.TRUN_FLAGS_SIZE&&(this.sample_size[l]=n.readUint32()),this.flags&a.TRUN_FLAGS_FLAGS&&(this.sample_flags[l]=n.readUint32()),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[l]=n.readUint32():this.sample_composition_time_offset[l]=n.readInt32())}),a.createFullBoxCtor("tsel",function(n){this.switch_group=n.readUint32();var o=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var l=0;l<o;l++)this.attribute_list[l]=n.readUint32()}),a.createFullBoxCtor("txtC",function(n){this.config=n.readCString()}),a.createBoxCtor("tyco",function(n){var o=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var l=0;l<o;l++)this.compatible_brands[l]=n.readString(4)}),a.createFullBoxCtor("udes",function(n){this.lang=n.readCString(),this.name=n.readCString(),this.description=n.readCString(),this.tags=n.readCString()}),a.createFullBoxCtor("uncC",function(n){var o;if(this.profile=n.readUint32(),this.version!=1){if(this.version==0){for(this.component_count=n.readUint32(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],o=0;o<this.component_count;o++)this.component_index.push(n.readUint16()),this.component_bit_depth_minus_one.push(n.readUint8()),this.component_format.push(n.readUint8()),this.component_align_size.push(n.readUint8());this.sampling_type=n.readUint8(),this.interleave_type=n.readUint8(),this.block_size=n.readUint8();var l=n.readUint8();this.component_little_endian=l>>7&1,this.block_pad_lsb=l>>6&1,this.block_little_endian=l>>5&1,this.block_reversed=l>>4&1,this.pad_unknown=l>>3&1,this.pixel_size=n.readUint32(),this.row_align_size=n.readUint32(),this.tile_align_size=n.readUint32(),this.num_tile_cols_minus_one=n.readUint32(),this.num_tile_rows_minus_one=n.readUint32()}}}),a.createFullBoxCtor("url ",function(n){this.flags!==1&&(this.location=n.readCString())}),a.createFullBoxCtor("urn ",function(n){this.name=n.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=n.readCString())}),a.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(n){this.LiveServerManifest=n.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),a.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(n){this.system_id=a.parseHex16(n);var o=n.readUint32();o>0&&(this.data=n.readUint8Array(o))}),a.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),a.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(n){this.default_AlgorithmID=n.readUint24(),this.default_IV_size=n.readUint8(),this.default_KID=a.parseHex16(n)}),a.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(n){this.fragment_count=n.readUint8(),this.entries=[];for(var o=0;o<this.fragment_count;o++){var l={},d=0,h=0;this.version===1?(d=n.readUint64(),h=n.readUint64()):(d=n.readUint32(),h=n.readUint32()),l.absolute_time=d,l.absolute_duration=h,this.entries.push(l)}}),a.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(n){this.version===1?(this.absolute_time=n.readUint64(),this.duration=n.readUint64()):(this.absolute_time=n.readUint32(),this.duration=n.readUint32())}),a.createFullBoxCtor("vmhd",function(n){this.graphicsmode=n.readUint16(),this.opcolor=n.readUint16Array(3)}),a.createFullBoxCtor("vpcC",function(n){var o;this.version===1?(this.profile=n.readUint8(),this.level=n.readUint8(),o=n.readUint8(),this.bitDepth=o>>4,this.chromaSubsampling=o>>1&7,this.videoFullRangeFlag=o&1,this.colourPrimaries=n.readUint8(),this.transferCharacteristics=n.readUint8(),this.matrixCoefficients=n.readUint8(),this.codecIntializationDataSize=n.readUint16(),this.codecIntializationData=n.readUint8Array(this.codecIntializationDataSize)):(this.profile=n.readUint8(),this.level=n.readUint8(),o=n.readUint8(),this.bitDepth=o>>4&15,this.colorSpace=o&15,o=n.readUint8(),this.chromaSubsampling=o>>4&15,this.transferFunction=o>>1&7,this.videoFullRangeFlag=o&1,this.codecIntializationDataSize=n.readUint16(),this.codecIntializationData=n.readUint8Array(this.codecIntializationDataSize))}),a.createBoxCtor("vttC",function(n){this.text=n.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("vvcC",function(n){var o,l,d={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(A){this.held_bits=A.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(A){this.held_bits=A.readUint16(),this.num_held_bits=16},extract_bits:function(A){var W=this.held_bits>>this.num_held_bits-A&(1<<A)-1;return this.num_held_bits-=A,W}};if(d.stream_read_1_bytes(n),d.extract_bits(5),this.lengthSizeMinusOne=d.extract_bits(2),this.ptl_present_flag=d.extract_bits(1),this.ptl_present_flag){d.stream_read_2_bytes(n),this.ols_idx=d.extract_bits(9),this.num_sublayers=d.extract_bits(3),this.constant_frame_rate=d.extract_bits(2),this.chroma_format_idc=d.extract_bits(2),d.stream_read_1_bytes(n),this.bit_depth_minus8=d.extract_bits(3),d.extract_bits(5);{if(d.stream_read_2_bytes(n),d.extract_bits(2),this.num_bytes_constraint_info=d.extract_bits(6),this.general_profile_idc=d.extract_bits(7),this.general_tier_flag=d.extract_bits(1),this.general_level_idc=n.readUint8(),d.stream_read_1_bytes(n),this.ptl_frame_only_constraint_flag=d.extract_bits(1),this.ptl_multilayer_enabled_flag=d.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(o=0;o<this.num_bytes_constraint_info-1;o++){var h=d.extract_bits(6);d.stream_read_1_bytes(n);var _=d.extract_bits(2);this.general_constraint_info[o]=h<<2|_}this.general_constraint_info[this.num_bytes_constraint_info-1]=d.extract_bits(6)}else d.extract_bits(6);if(this.num_sublayers>1){for(d.stream_read_1_bytes(n),this.ptl_sublayer_present_mask=0,l=this.num_sublayers-2;l>=0;--l){var b=d.extract_bits(1);this.ptl_sublayer_present_mask|=b<<l}for(l=this.num_sublayers;l<=8&&this.num_sublayers>1;++l)d.extract_bits(1);for(this.sublayer_level_idc=[],l=this.num_sublayers-2;l>=0;--l)this.ptl_sublayer_present_mask&1<<l&&(this.sublayer_level_idc[l]=n.readUint8())}if(this.ptl_num_sub_profiles=n.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(o=0;o<this.ptl_num_sub_profiles;o++)this.general_sub_profile_idc.push(n.readUint32())}this.max_picture_width=n.readUint16(),this.max_picture_height=n.readUint16(),this.avg_frame_rate=n.readUint16()}var S=12,C=13;this.nalu_arrays=[];var B=n.readUint8();for(o=0;o<B;o++){var I=[];this.nalu_arrays.push(I),d.stream_read_1_bytes(n),I.completeness=d.extract_bits(1),d.extract_bits(2),I.nalu_type=d.extract_bits(5);var k=1;for(I.nalu_type!=C&&I.nalu_type!=S&&(k=n.readUint16()),l=0;l<k;l++){var G=n.readUint16();I.push({data:n.readUint8Array(G),length:G})}}}),a.createFullBoxCtor("vvnC",function(n){var o=strm.readUint8();this.lengthSizeMinusOne=o&3}),a.SampleEntry.prototype.isVideo=function(){return!1},a.SampleEntry.prototype.isAudio=function(){return!1},a.SampleEntry.prototype.isSubtitle=function(){return!1},a.SampleEntry.prototype.isMetadata=function(){return!1},a.SampleEntry.prototype.isHint=function(){return!1},a.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},a.SampleEntry.prototype.getWidth=function(){return""},a.SampleEntry.prototype.getHeight=function(){return""},a.SampleEntry.prototype.getChannelCount=function(){return""},a.SampleEntry.prototype.getSampleRate=function(){return""},a.SampleEntry.prototype.getSampleSize=function(){return""},a.VisualSampleEntry.prototype.isVideo=function(){return!0},a.VisualSampleEntry.prototype.getWidth=function(){return this.width},a.VisualSampleEntry.prototype.getHeight=function(){return this.height},a.AudioSampleEntry.prototype.isAudio=function(){return!0},a.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},a.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},a.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},a.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},a.MetadataSampleEntry.prototype.isMetadata=function(){return!0},a.decimalToHex=function(n,o){var l=Number(n).toString(16);for(o=typeof o>"u"||o===null?o=2:o;l.length<o;)l="0"+l;return l},a.avc1SampleEntry.prototype.getCodec=a.avc2SampleEntry.prototype.getCodec=a.avc3SampleEntry.prototype.getCodec=a.avc4SampleEntry.prototype.getCodec=function(){var n=a.SampleEntry.prototype.getCodec.call(this);return this.avcC?n+"."+a.decimalToHex(this.avcC.AVCProfileIndication)+a.decimalToHex(this.avcC.profile_compatibility)+a.decimalToHex(this.avcC.AVCLevelIndication):n},a.hev1SampleEntry.prototype.getCodec=a.hvc1SampleEntry.prototype.getCodec=function(){var n,o=a.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(o+=".",this.hvcC.general_profile_space){case 0:o+="";break;case 1:o+="A";break;case 2:o+="B";break;case 3:o+="C";break}o+=this.hvcC.general_profile_idc,o+=".";var l=this.hvcC.general_profile_compatibility,d=0;for(n=0;n<32&&(d|=l&1,n!=31);n++)d<<=1,l>>=1;o+=a.decimalToHex(d,0),o+=".",this.hvcC.general_tier_flag===0?o+="L":o+="H",o+=this.hvcC.general_level_idc;var h=!1,_="";for(n=5;n>=0;n--)(this.hvcC.general_constraint_indicator[n]||h)&&(_="."+a.decimalToHex(this.hvcC.general_constraint_indicator[n],0)+_,h=!0);o+=_}return o},a.vvc1SampleEntry.prototype.getCodec=a.vvi1SampleEntry.prototype.getCodec=function(){var n,o=a.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){o+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?o+=".H":o+=".L",o+=this.vvcC.general_level_idc;var l="";if(this.vvcC.general_constraint_info){var d=[],h=0;h|=this.vvcC.ptl_frame_only_constraint<<7,h|=this.vvcC.ptl_multilayer_enabled<<6;var _;for(n=0;n<this.vvcC.general_constraint_info.length;++n)h|=this.vvcC.general_constraint_info[n]>>2&63,d.push(h),h&&(_=n),h=this.vvcC.general_constraint_info[n]>>2&3;if(_===void 0)l=".CA";else{l=".C";var b="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",S=0,C=0;for(n=0;n<=_;++n)for(S=S<<8|d[n],C+=8;C>=5;){var B=S>>C-5&31;l+=b[B],C-=5,S&=(1<<C)-1}C&&(S<<=5-C,l+=b[S&31])}}o+=l}return o},a.mp4aSampleEntry.prototype.getCodec=function(){var n=a.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var o=this.esds.esd.getOTI(),l=this.esds.esd.getAudioConfig();return n+"."+a.decimalToHex(o)+(l?"."+l:"")}else return n},a.stxtSampleEntry.prototype.getCodec=function(){var n=a.SampleEntry.prototype.getCodec.call(this);return this.mime_format?n+"."+this.mime_format:n},a.vp08SampleEntry.prototype.getCodec=a.vp09SampleEntry.prototype.getCodec=function(){var n=a.SampleEntry.prototype.getCodec.call(this),o=this.vpcC.level;o==0&&(o="00");var l=this.vpcC.bitDepth;return l==8&&(l="08"),n+".0"+this.vpcC.profile+"."+o+"."+l},a.av01SampleEntry.prototype.getCodec=function(){var n=a.SampleEntry.prototype.getCodec.call(this),o=this.av1C.seq_level_idx_0;o<10&&(o="0"+o);var l;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?l=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(l=this.av1C.high_bitdepth===1?"10":"08"),n+"."+this.av1C.seq_profile+"."+o+(this.av1C.seq_tier_0?"H":"M")+"."+l},a.Box.prototype.writeHeader=function(n,o){this.size+=8,this.size>f&&(this.size+=8),this.type==="uuid"&&(this.size+=16),t.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+n.getPosition()+(o||"")),this.size>f?n.writeUint32(1):(this.sizePosition=n.getPosition(),n.writeUint32(this.size)),n.writeString(this.type,null,4),this.type==="uuid"&&n.writeUint8Array(this.uuid),this.size>f&&n.writeUint64(this.size)},a.FullBox.prototype.writeHeader=function(n){this.size+=4,a.Box.prototype.writeHeader.call(this,n," v="+this.version+" f="+this.flags),n.writeUint8(this.version),n.writeUint24(this.flags)},a.Box.prototype.write=function(n){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(n),n.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(n),this.data&&n.writeUint8Array(this.data))},a.ContainerBox.prototype.write=function(n){this.size=0,this.writeHeader(n);for(var o=0;o<this.boxes.length;o++)this.boxes[o]&&(this.boxes[o].write(n),this.size+=this.boxes[o].size);t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},a.TrackReferenceTypeBox.prototype.write=function(n){this.size=this.track_ids.length*4,this.writeHeader(n),n.writeUint32Array(this.track_ids)},a.avcCBox.prototype.write=function(n){var o;for(this.size=7,o=0;o<this.SPS.length;o++)this.size+=2+this.SPS[o].length;for(o=0;o<this.PPS.length;o++)this.size+=2+this.PPS[o].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(n),n.writeUint8(this.configurationVersion),n.writeUint8(this.AVCProfileIndication),n.writeUint8(this.profile_compatibility),n.writeUint8(this.AVCLevelIndication),n.writeUint8(this.lengthSizeMinusOne+252),n.writeUint8(this.SPS.length+224),o=0;o<this.SPS.length;o++)n.writeUint16(this.SPS[o].length),n.writeUint8Array(this.SPS[o].nalu);for(n.writeUint8(this.PPS.length),o=0;o<this.PPS.length;o++)n.writeUint16(this.PPS[o].length),n.writeUint8Array(this.PPS[o].nalu);this.ext&&n.writeUint8Array(this.ext)},a.co64Box.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(n),n.writeUint32(this.chunk_offsets.length),o=0;o<this.chunk_offsets.length;o++)n.writeUint64(this.chunk_offsets[o])},a.cslgBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(n),n.writeInt32(this.compositionToDTSShift),n.writeInt32(this.leastDecodeToDisplayDelta),n.writeInt32(this.greatestDecodeToDisplayDelta),n.writeInt32(this.compositionStartTime),n.writeInt32(this.compositionEndTime)},a.cttsBox.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(n),n.writeUint32(this.sample_counts.length),o=0;o<this.sample_counts.length;o++)n.writeUint32(this.sample_counts[o]),this.version===1?n.writeInt32(this.sample_offsets[o]):n.writeUint32(this.sample_offsets[o])},a.drefBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++)this.entries[o].write(n),this.size+=this.entries[o].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},a.elngBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(n),n.writeString(this.extended_language)},a.elstBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(n),n.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++){var l=this.entries[o];n.writeUint32(l.segment_duration),n.writeInt32(l.media_time),n.writeInt16(l.media_rate_integer),n.writeInt16(l.media_rate_fraction)}},a.emsgBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(n),n.writeCString(this.scheme_id_uri),n.writeCString(this.value),n.writeUint32(this.timescale),n.writeUint32(this.presentation_time_delta),n.writeUint32(this.event_duration),n.writeUint32(this.id),n.writeUint8Array(this.message_data)},a.ftypBox.prototype.write=function(n){this.size=8+4*this.compatible_brands.length,this.writeHeader(n),n.writeString(this.major_brand,null,4),n.writeUint32(this.minor_version);for(var o=0;o<this.compatible_brands.length;o++)n.writeString(this.compatible_brands[o],null,4)},a.hdlrBox.prototype.write=function(n){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(n),n.writeUint32(0),n.writeString(this.handler,null,4),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeCString(this.name)},a.hvcCBox.prototype.write=function(n){var o,l;for(this.size=23,o=0;o<this.nalu_arrays.length;o++)for(this.size+=3,l=0;l<this.nalu_arrays[o].length;l++)this.size+=2+this.nalu_arrays[o][l].data.length;for(this.writeHeader(n),n.writeUint8(this.configurationVersion),n.writeUint8((this.general_profile_space<<6)+(this.general_tier_flag<<5)+this.general_profile_idc),n.writeUint32(this.general_profile_compatibility),n.writeUint8Array(this.general_constraint_indicator),n.writeUint8(this.general_level_idc),n.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),n.writeUint8(this.parallelismType+252),n.writeUint8(this.chroma_format_idc+252),n.writeUint8(this.bit_depth_luma_minus8+248),n.writeUint8(this.bit_depth_chroma_minus8+248),n.writeUint16(this.avgFrameRate),n.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),n.writeUint8(this.nalu_arrays.length),o=0;o<this.nalu_arrays.length;o++)for(n.writeUint8((this.nalu_arrays[o].completeness<<7)+this.nalu_arrays[o].nalu_type),n.writeUint16(this.nalu_arrays[o].length),l=0;l<this.nalu_arrays[o].length;l++)n.writeUint16(this.nalu_arrays[o][l].data.length),n.writeUint8Array(this.nalu_arrays[o][l].data)},a.kindBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(n),n.writeCString(this.schemeURI),n.writeCString(this.value)},a.mdhdBox.prototype.write=function(n){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.timescale),n.writeUint32(this.duration),n.writeUint16(this.language),n.writeUint16(0)},a.mehdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.fragment_duration)},a.mfhdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4,this.writeHeader(n),n.writeUint32(this.sequence_number)},a.mvhdBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.timescale),n.writeUint32(this.duration),n.writeUint32(this.rate),n.writeUint16(this.volume<<8),n.writeUint16(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32Array(this.matrix),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(this.next_track_id)},a.SampleEntry.prototype.writeHeader=function(n){this.size=8,a.Box.prototype.writeHeader.call(this,n),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint8(0),n.writeUint16(this.data_reference_index)},a.SampleEntry.prototype.writeFooter=function(n){for(var o=0;o<this.boxes.length;o++)this.boxes[o].write(n),this.size+=this.boxes[o].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},a.SampleEntry.prototype.write=function(n){this.writeHeader(n),n.writeUint8Array(this.data),this.size+=this.data.length,t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},a.VisualSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=2*7+6*4+32,n.writeUint16(0),n.writeUint16(0),n.writeUint32(0),n.writeUint32(0),n.writeUint32(0),n.writeUint16(this.width),n.writeUint16(this.height),n.writeUint32(this.horizresolution),n.writeUint32(this.vertresolution),n.writeUint32(0),n.writeUint16(this.frame_count),n.writeUint8(Math.min(31,this.compressorname.length)),n.writeString(this.compressorname,null,31),n.writeUint16(this.depth),n.writeInt16(-1),this.writeFooter(n)},a.AudioSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=2*4+3*4,n.writeUint32(0),n.writeUint32(0),n.writeUint16(this.channel_count),n.writeUint16(this.samplesize),n.writeUint16(0),n.writeUint16(0),n.writeUint32(this.samplerate<<16),this.writeFooter(n)},a.stppSampleEntry.prototype.write=function(n){this.writeHeader(n),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,n.writeCString(this.namespace),n.writeCString(this.schema_location),n.writeCString(this.auxiliary_mime_types),this.writeFooter(n)},a.SampleGroupEntry.prototype.write=function(n){n.writeUint8Array(this.data)},a.sbgpBox.prototype.write=function(n){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(n),n.writeString(this.grouping_type,null,4),n.writeUint32(this.grouping_type_parameter),n.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++){var l=this.entries[o];n.writeInt32(l.sample_count),n.writeInt32(l.group_description_index)}},a.sgpdBox.prototype.write=function(n){var o,l;for(this.flags=0,this.size=12,o=0;o<this.entries.length;o++)l=this.entries[o],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=l.data.length);for(this.writeHeader(n),n.writeString(this.grouping_type,null,4),this.version===1&&n.writeUint32(this.default_length),this.version>=2&&n.writeUint32(this.default_sample_description_index),n.writeUint32(this.entries.length),o=0;o<this.entries.length;o++)l=this.entries[o],this.version===1&&this.default_length===0&&n.writeUint32(l.description_length),l.write(n)},a.sidxBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(n),n.writeUint32(this.reference_ID),n.writeUint32(this.timescale),n.writeUint32(this.earliest_presentation_time),n.writeUint32(this.first_offset),n.writeUint16(0),n.writeUint16(this.references.length);for(var o=0;o<this.references.length;o++){var l=this.references[o];n.writeUint32(l.reference_type<<31|l.referenced_size),n.writeUint32(l.subsegment_duration),n.writeUint32(l.starts_with_SAP<<31|l.SAP_type<<28|l.SAP_delta_time)}},a.smhdBox.prototype.write=function(n){this.version=0,this.flags=1,this.size=4,this.writeHeader(n),n.writeUint16(this.balance),n.writeUint16(0)},a.stcoBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(n),n.writeUint32(this.chunk_offsets.length),n.writeUint32Array(this.chunk_offsets)},a.stscBox.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(n),n.writeUint32(this.first_chunk.length),o=0;o<this.first_chunk.length;o++)n.writeUint32(this.first_chunk[o]),n.writeUint32(this.samples_per_chunk[o]),n.writeUint32(this.sample_description_index[o])},a.stsdBox.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(n),n.writeUint32(this.entries.length),this.size+=4,o=0;o<this.entries.length;o++)this.entries[o].write(n),this.size+=this.entries[o].size;t.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),n.adjustUint32(this.sizePosition,this.size)},a.stshBox.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(n),n.writeUint32(this.shadowed_sample_numbers.length),o=0;o<this.shadowed_sample_numbers.length;o++)n.writeUint32(this.shadowed_sample_numbers[o]),n.writeUint32(this.sync_sample_numbers[o])},a.stssBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(n),n.writeUint32(this.sample_numbers.length),n.writeUint32Array(this.sample_numbers)},a.stszBox.prototype.write=function(n){var o,l=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(o=0;o+1<this.sample_sizes.length;)if(this.sample_sizes[o+1]!==this.sample_sizes[0]){l=!1;break}else o++;else l=!1;this.size=8,l||(this.size+=4*this.sample_sizes.length),this.writeHeader(n),l?n.writeUint32(this.sample_sizes[0]):n.writeUint32(0),n.writeUint32(this.sample_sizes.length),l||n.writeUint32Array(this.sample_sizes)},a.sttsBox.prototype.write=function(n){var o;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(n),n.writeUint32(this.sample_counts.length),o=0;o<this.sample_counts.length;o++)n.writeUint32(this.sample_counts[o]),n.writeUint32(this.sample_deltas[o])},a.tfdtBox.prototype.write=function(n){var o=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>o?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(n),this.version===1?n.writeUint64(this.baseMediaDecodeTime):n.writeUint32(this.baseMediaDecodeTime)},a.tfhdBox.prototype.write=function(n){this.version=0,this.size=4,this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(n),n.writeUint32(this.track_id),this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&n.writeUint64(this.base_data_offset),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&n.writeUint32(this.default_sample_description_index),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&n.writeUint32(this.default_sample_duration),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&n.writeUint32(this.default_sample_size),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&n.writeUint32(this.default_sample_flags)},a.tkhdBox.prototype.write=function(n){this.version=0,this.size=4*18+2*4,this.writeHeader(n),n.writeUint32(this.creation_time),n.writeUint32(this.modification_time),n.writeUint32(this.track_id),n.writeUint32(0),n.writeUint32(this.duration),n.writeUint32(0),n.writeUint32(0),n.writeInt16(this.layer),n.writeInt16(this.alternate_group),n.writeInt16(this.volume<<8),n.writeUint16(0),n.writeInt32Array(this.matrix),n.writeUint32(this.width),n.writeUint32(this.height)},a.trexBox.prototype.write=function(n){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(n),n.writeUint32(this.track_id),n.writeUint32(this.default_sample_description_index),n.writeUint32(this.default_sample_duration),n.writeUint32(this.default_sample_size),n.writeUint32(this.default_sample_flags)},a.trunBox.prototype.write=function(n){this.version=0,this.size=4,this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&a.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&a.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&a.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(n),n.writeUint32(this.sample_count),this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=n.getPosition(),n.writeInt32(this.data_offset)),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&n.writeUint32(this.first_sample_flags);for(var o=0;o<this.sample_count;o++)this.flags&a.TRUN_FLAGS_DURATION&&n.writeUint32(this.sample_duration[o]),this.flags&a.TRUN_FLAGS_SIZE&&n.writeUint32(this.sample_size[o]),this.flags&a.TRUN_FLAGS_FLAGS&&n.writeUint32(this.sample_flags[o]),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?n.writeUint32(this.sample_composition_time_offset[o]):n.writeInt32(this.sample_composition_time_offset[o]))},a["url Box"].prototype.write=function(n){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(n),this.location&&n.writeCString(this.location)},a["urn Box"].prototype.write=function(n){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(n),n.writeCString(this.name),this.location&&n.writeCString(this.location)},a.vmhdBox.prototype.write=function(n){this.version=0,this.flags=1,this.size=8,this.writeHeader(n),n.writeUint16(this.graphicsmode),n.writeUint16Array(this.opcolor)},a.cttsBox.prototype.unpack=function(n){var o,l,d;for(d=0,o=0;o<this.sample_counts.length;o++)for(l=0;l<this.sample_counts[o];l++)n[d].pts=n[d].dts+this.sample_offsets[o],d++},a.sttsBox.prototype.unpack=function(n){var o,l,d;for(d=0,o=0;o<this.sample_counts.length;o++)for(l=0;l<this.sample_counts[o];l++)d===0?n[d].dts=0:n[d].dts=n[d-1].dts+this.sample_deltas[o],d++},a.stcoBox.prototype.unpack=function(n){var o;for(o=0;o<this.chunk_offsets.length;o++)n[o].offset=this.chunk_offsets[o]},a.stscBox.prototype.unpack=function(n){var o,l,d,h,_;for(h=0,_=0,o=0;o<this.first_chunk.length;o++)for(l=0;l<(o+1<this.first_chunk.length?this.first_chunk[o+1]:1/0);l++)for(_++,d=0;d<this.samples_per_chunk[o];d++){if(n[h])n[h].description_index=this.sample_description_index[o],n[h].chunk_index=_;else return;h++}},a.stszBox.prototype.unpack=function(n){var o;for(o=0;o<this.sample_sizes.length;o++)n[o].size=this.sample_sizes[o]},a.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],a.boxEqualFields=function(n,o){if(n&&!o)return!1;var l;for(l in n)if(!(a.DIFF_BOXES_PROP_NAMES.indexOf(l)>-1)){if(n[l]instanceof a.Box||o[l]instanceof a.Box)continue;if(typeof n[l]>"u"||typeof o[l]>"u")continue;if(typeof n[l]=="function"||typeof o[l]=="function")continue;if(n.subBoxNames&&n.subBoxNames.indexOf(l.slice(0,4))>-1||o.subBoxNames&&o.subBoxNames.indexOf(l.slice(0,4))>-1)continue;if(l==="data"||l==="start"||l==="size"||l==="creation_time"||l==="modification_time")continue;if(a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(l)>-1)continue;if(n[l]!==o[l])return!1}return!0},a.boxEqual=function(n,o){if(!a.boxEqualFields(n,o))return!1;for(var l=0;l<a.DIFF_BOXES_PROP_NAMES.length;l++){var d=a.DIFF_BOXES_PROP_NAMES[l];if(n[d]&&o[d]&&!a.boxEqual(n[d],o[d]))return!1}return!0};var g=function(){};g.prototype.parseSample=function(n){var o,l,d=new r(n.buffer);for(o=[];!d.isEos();)l=a.parseOneBox(d,!1),l.code===a.OK&&l.box.type==="vttc"&&o.push(l.box);return o},g.prototype.getText=function(n,o,l){function d(B,I,k){return k=k||"0",B=B+"",B.length>=I?B:new Array(I-B.length+1).join(k)+B}function h(B){var I=Math.floor(B/3600),k=Math.floor((B-I*3600)/60),G=Math.floor(B-I*3600-k*60),A=Math.floor((B-I*3600-k*60-G)*1e3);return""+d(I,2)+":"+d(k,2)+":"+d(G,2)+"."+d(A,3)}for(var _=this.parseSample(l),b="",S=0;S<_.length;S++){var C=_[S];b+=h(n)+" --> "+h(o)+`\r
`,b+=C.payl.text}return b};var y=function(){};y.prototype.parseSample=function(n){var o={},l;o.resources=[];var d=new r(n.data.buffer);if(!n.subsamples||n.subsamples.length===0)o.documentString=d.readString(n.data.length);else if(o.documentString=d.readString(n.subsamples[0].size),n.subsamples.length>1)for(l=1;l<n.subsamples.length;l++)o.resources[l]=d.readUint8Array(n.subsamples[l].size);return typeof DOMParser<"u"&&(o.document=new DOMParser().parseFromString(o.documentString,"application/xml")),o};var E=function(){};E.prototype.parseSample=function(n){var o,l=new r(n.data.buffer);return o=l.readString(n.data.length),o},E.prototype.parseConfig=function(n){var o,l=new r(n.buffer);return l.readUint32(),o=l.readCString(),o},e.VTTin4Parser=g,e.XMLSubtitlein4Parser=y,e.Textin4Parser=E;var m=function(n){this.stream=n||new u,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.items=[],this.entity_groups=[],this.onSidx=null,this.sidxSent=!1};m.prototype.setSegmentOptions=function(n,o,l){var d=this.getTrackById(n);if(d){var h={};this.fragmentedTracks.push(h),h.id=n,h.user=o,h.trak=d,d.nextSample=0,h.segmentStream=null,h.nb_samples=1e3,h.rapAlignement=!0,l&&(l.nbSamples&&(h.nb_samples=l.nbSamples),l.rapAlignement&&(h.rapAlignement=l.rapAlignement))}},m.prototype.unsetSegmentOptions=function(n){for(var o=-1,l=0;l<this.fragmentedTracks.length;l++){var d=this.fragmentedTracks[l];d.id==n&&(o=l)}o>-1&&this.fragmentedTracks.splice(o,1)},m.prototype.setExtractionOptions=function(n,o,l){var d=this.getTrackById(n);if(d){var h={};this.extractedTracks.push(h),h.id=n,h.user=o,h.trak=d,d.nextSample=0,h.nb_samples=1e3,h.samples=[],l&&l.nbSamples&&(h.nb_samples=l.nbSamples)}},m.prototype.unsetExtractionOptions=function(n){for(var o=-1,l=0;l<this.extractedTracks.length;l++){var d=this.extractedTracks[l];d.id==n&&(o=l)}o>-1&&this.extractedTracks.splice(o,1)},m.prototype.parse=function(){var n,o,l=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),n=a.parseOneBox(this.stream,l),n.code===a.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(n))continue;return}else return;else{var d;switch(o=n.box,d=o.type!=="uuid"?o.type:o.uuid,this.boxes.push(o),d){case"mdat":this.mdats.push(o);break;case"moof":this.moofs.push(o);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[d]!==void 0&&t.warn("ISOFile","Duplicate Box of type: "+d+", overriding previous occurrence"),this[d]=o;break}this.updateUsedBytes&&this.updateUsedBytes(o,n)}},m.prototype.checkBuffer=function(n){if(n==null)throw"Buffer must be defined and non empty";if(n.fileStart===void 0)throw"Buffer must have a fileStart property";return n.byteLength===0?(t.warn("ISOFile","Ignoring empty buffer (fileStart: "+n.fileStart+")"),this.stream.logBufferLevel(),!1):(t.info("ISOFile","Processing buffer (fileStart: "+n.fileStart+")"),n.usedBytes=0,this.stream.insertBuffer(n),this.stream.logBufferLevel(),this.stream.initialized()?!0:(t.warn("ISOFile","Not ready to start parsing"),!1))},m.prototype.appendBuffer=function(n,o){var l;if(this.checkBuffer(n))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(o),this.nextSeekPosition?(l=this.nextSeekPosition,this.nextSeekPosition=void 0):l=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(l=this.stream.getEndFilePositionAfter(l))):this.nextParsePosition?l=this.nextParsePosition:l=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(t.info("ISOFile","Done processing buffer (fileStart: "+n.fileStart+") - next buffer to fetch should have a fileStart position of "+l),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),l},m.prototype.getInfo=function(){var n,o,l={},d,h,_,b,S=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(l.hasMoov=!0,l.duration=this.moov.mvhd.duration,l.timescale=this.moov.mvhd.timescale,l.isFragmented=this.moov.mvex!=null,l.isFragmented&&this.moov.mvex.mehd&&(l.fragment_duration=this.moov.mvex.mehd.fragment_duration),l.isProgressive=this.isProgressive,l.hasIOD=this.moov.iods!=null,l.brands=[],l.brands.push(this.ftyp.major_brand),l.brands=l.brands.concat(this.ftyp.compatible_brands),l.created=new Date(S+this.moov.mvhd.creation_time*1e3),l.modified=new Date(S+this.moov.mvhd.modification_time*1e3),l.tracks=[],l.audioTracks=[],l.videoTracks=[],l.subtitleTracks=[],l.metadataTracks=[],l.hintTracks=[],l.otherTracks=[],n=0;n<this.moov.traks.length;n++){if(d=this.moov.traks[n],b=d.mdia.minf.stbl.stsd.entries[0],h={},l.tracks.push(h),h.id=d.tkhd.track_id,h.name=d.mdia.hdlr.name,h.references=[],d.tref)for(o=0;o<d.tref.boxes.length;o++)_={},h.references.push(_),_.type=d.tref.boxes[o].type,_.track_ids=d.tref.boxes[o].track_ids;d.edts&&(h.edits=d.edts.elst.entries),h.created=new Date(S+d.tkhd.creation_time*1e3),h.modified=new Date(S+d.tkhd.modification_time*1e3),h.movie_duration=d.tkhd.duration,h.movie_timescale=l.timescale,h.layer=d.tkhd.layer,h.alternate_group=d.tkhd.alternate_group,h.volume=d.tkhd.volume,h.matrix=d.tkhd.matrix,h.track_width=d.tkhd.width/65536,h.track_height=d.tkhd.height/65536,h.timescale=d.mdia.mdhd.timescale,h.cts_shift=d.mdia.minf.stbl.cslg,h.duration=d.mdia.mdhd.duration,h.samples_duration=d.samples_duration,h.codec=b.getCodec(),h.kind=d.udta&&d.udta.kinds.length?d.udta.kinds[0]:{schemeURI:"",value:""},h.language=d.mdia.elng?d.mdia.elng.extended_language:d.mdia.mdhd.languageString,h.nb_samples=d.samples.length,h.size=d.samples_size,h.bitrate=h.size*8*h.timescale/h.samples_duration,b.isAudio()?(h.type="audio",l.audioTracks.push(h),h.audio={},h.audio.sample_rate=b.getSampleRate(),h.audio.channel_count=b.getChannelCount(),h.audio.sample_size=b.getSampleSize()):b.isVideo()?(h.type="video",l.videoTracks.push(h),h.video={},h.video.width=b.getWidth(),h.video.height=b.getHeight()):b.isSubtitle()?(h.type="subtitles",l.subtitleTracks.push(h)):b.isHint()?(h.type="metadata",l.hintTracks.push(h)):b.isMetadata()?(h.type="metadata",l.metadataTracks.push(h)):(h.type="metadata",l.otherTracks.push(h))}else l.hasMoov=!1;if(l.mime="",l.hasMoov&&l.tracks){for(l.videoTracks&&l.videoTracks.length>0?l.mime+='video/mp4; codecs="':l.audioTracks&&l.audioTracks.length>0?l.mime+='audio/mp4; codecs="':l.mime+='application/mp4; codecs="',n=0;n<l.tracks.length;n++)n!==0&&(l.mime+=","),l.mime+=l.tracks[n].codec;l.mime+='"; profiles="',l.mime+=this.ftyp.compatible_brands.join(),l.mime+='"'}return l},m.prototype.setNextSeekPositionFromSample=function(n){n&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(n.offset+n.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=n.offset+n.alreadyRead)},m.prototype.processSamples=function(n){var o,l;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(o=0;o<this.fragmentedTracks.length;o++){var d=this.fragmentedTracks[o];for(l=d.trak;l.nextSample<l.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Creating media fragment on track #"+d.id+" for sample "+l.nextSample);var h=this.createFragment(d.id,l.nextSample,d.segmentStream);if(h)d.segmentStream=h,l.nextSample++;else break;if((l.nextSample%d.nb_samples===0||n||l.nextSample>=l.samples.length)&&(t.info("ISOFile","Sending fragmented data on track #"+d.id+" for samples ["+Math.max(0,l.nextSample-d.nb_samples)+","+(l.nextSample-1)+"]"),t.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(d.id,d.user,d.segmentStream.buffer,l.nextSample,n||l.nextSample>=l.samples.length),d.segmentStream=null,d!==this.fragmentedTracks[o]))break}}if(this.onSamples!==null)for(o=0;o<this.extractedTracks.length;o++){var _=this.extractedTracks[o];for(l=_.trak;l.nextSample<l.samples.length&&this.sampleProcessingStarted;){t.debug("ISOFile","Exporting on track #"+_.id+" sample #"+l.nextSample);var b=this.getSample(l,l.nextSample);if(b)l.nextSample++,_.samples.push(b);else{this.setNextSeekPositionFromSample(l.samples[l.nextSample]);break}if((l.nextSample%_.nb_samples===0||l.nextSample>=l.samples.length)&&(t.debug("ISOFile","Sending samples on track #"+_.id+" for sample "+l.nextSample),this.onSamples&&this.onSamples(_.id,_.user,_.samples),_.samples=[],_!==this.extractedTracks[o]))break}}}},m.prototype.getBox=function(n){var o=this.getBoxes(n,!0);return o.length?o[0]:null},m.prototype.getBoxes=function(n,o){var l=[];return m._sweep.call(this,n,l,o),l},m._sweep=function(n,o,l){this.type&&this.type==n&&o.push(this);for(var d in this.boxes){if(o.length&&l)return;m._sweep.call(this.boxes[d],n,o,l)}},m.prototype.getTrackSamplesInfo=function(n){var o=this.getTrackById(n);if(o)return o.samples},m.prototype.getTrackSample=function(n,o){var l=this.getTrackById(n),d=this.getSample(l,o);return d},m.prototype.releaseUsedSamples=function(n,o){var l=0,d=this.getTrackById(n);d.lastValidSample||(d.lastValidSample=0);for(var h=d.lastValidSample;h<o;h++)l+=this.releaseSample(d,h);t.info("ISOFile","Track #"+n+" released samples up to "+o+" (released size: "+l+", remaining: "+this.samplesDataSize+")"),d.lastValidSample=o},m.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},m.prototype.stop=function(){this.sampleProcessingStarted=!1},m.prototype.flush=function(){t.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},m.prototype.seekTrack=function(n,o,l){var d,h,_=1/0,b=0,S=0,C;if(l.samples.length===0)return t.info("ISOFile","No sample in track, cannot seek! Using time "+t.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(d=0;d<l.samples.length;d++){if(h=l.samples[d],d===0)S=0,C=h.timescale;else if(h.cts>n*h.timescale){S=d-1;break}o&&h.is_sync&&(b=d)}for(o&&(S=b),n=l.samples[S].cts,l.nextSample=S;l.samples[S].alreadyRead===l.samples[S].size&&l.samples[S+1];)S++;return _=l.samples[S].offset+l.samples[S].alreadyRead,t.info("ISOFile","Seeking to "+(o?"RAP":"")+" sample #"+l.nextSample+" on track "+l.tkhd.track_id+", time "+t.getDurationString(n,C)+" and offset: "+_),{offset:_,time:n/C}},m.prototype.getTrackDuration=function(n){var o;return n.samples?(o=n.samples[n.samples.length-1],(o.cts+o.duration)/o.timescale):1/0},m.prototype.seek=function(n,o){var l=this.moov,d,h,_,b={offset:1/0,time:1/0};if(this.moov){for(_=0;_<l.traks.length;_++)d=l.traks[_],!(n>this.getTrackDuration(d))&&(h=this.seekTrack(n,o,d),h.offset<b.offset&&(b.offset=h.offset),h.time<b.time&&(b.time=h.time));return t.info("ISOFile","Seeking at time "+t.getDurationString(b.time,1)+" needs a buffer with a fileStart position of "+b.offset),b.offset===1/0?b={offset:this.nextParsePosition,time:0}:b.offset=this.stream.getEndFilePositionAfter(b.offset),t.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+b.offset),b}else throw"Cannot seek: moov not received!"},m.prototype.equal=function(n){for(var o=0;o<this.boxes.length&&o<n.boxes.length;){var l=this.boxes[o],d=n.boxes[o];if(!a.boxEqual(l,d))return!1;o++}return!0},e.ISOFile=m,m.prototype.lastBoxStartPosition=0,m.prototype.parsingMdat=null,m.prototype.nextParsePosition=0,m.prototype.discardMdatData=!1,m.prototype.processIncompleteBox=function(n){var o,l,d;return n.type==="mdat"?(o=new a[n.type+"Box"](n.size),this.parsingMdat=o,this.boxes.push(o),this.mdats.push(o),o.start=n.start,o.hdr_size=n.hdr_size,this.stream.addUsedBytes(o.hdr_size),this.lastBoxStartPosition=o.start+o.size,d=this.stream.seek(o.start+o.size,!1,this.discardMdatData),d?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=o.start+o.size,!1)):(n.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),l=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,l?(this.nextParsePosition=this.stream.getEndPosition(),!0):(n.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+n.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},m.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},m.prototype.processIncompleteMdat=function(){var n,o;return n=this.parsingMdat,o=this.stream.seek(n.start+n.size,!1,this.discardMdatData),o?(t.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},m.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},m.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},m.prototype.updateUsedBytes=function(n,o){this.stream.addUsedBytes&&(n.type==="mdat"?(this.stream.addUsedBytes(n.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(n.size-n.hdr_size)):this.stream.addUsedBytes(n.size))},m.prototype.add=a.Box.prototype.add,m.prototype.addBox=a.Box.prototype.addBox,m.prototype.init=function(n){var o=n||{};this.add("ftyp").set("major_brand",o.brands&&o.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",o.brands||["iso4"]);var l=this.add("moov");return l.add("mvhd").set("timescale",o.timescale||600).set("rate",o.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",o.duration||0).set("volume",o.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),l.add("mvex"),this},m.prototype.addTrack=function(n){this.moov||this.init(n);var o=n||{};o.width=o.width||320,o.height=o.height||320,o.id=o.id||this.moov.mvhd.next_track_id,o.type=o.type||"avc1";var l=this.moov.add("trak");this.moov.mvhd.next_track_id=o.id+1,l.add("tkhd").set("flags",a.TKHD_FLAG_ENABLED|a.TKHD_FLAG_IN_MOVIE|a.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",o.id).set("duration",o.duration||0).set("layer",o.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",o.width<<16).set("height",o.height<<16);var d=l.add("mdia");d.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",o.timescale||1).set("duration",o.media_duration||0).set("language",o.language||"und"),d.add("hdlr").set("handler",o.hdlr||"vide").set("name",o.name||"Track created with MP4Box.js"),d.add("elng").set("extended_language",o.language||"fr-FR");var h=d.add("minf");if(a[o.type+"SampleEntry"]!==void 0){var _=new a[o.type+"SampleEntry"];_.data_reference_index=1;var b="";for(var S in a.sampleEntryCodes)for(var C=a.sampleEntryCodes[S],B=0;B<C.length;B++)if(C.indexOf(o.type)>-1){b=S;break}switch(b){case"Visual":if(h.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),_.set("width",o.width).set("height",o.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",o.type+" Compressor").set("depth",24),o.avcDecoderConfigRecord){var I=new a.avcCBox;I.parse(new r(o.avcDecoderConfigRecord)),_.addBox(I)}else if(o.hevcDecoderConfigRecord){var k=new a.hvcCBox;k.parse(new r(o.hevcDecoderConfigRecord)),_.addBox(k)}break;case"Audio":h.add("smhd").set("balance",o.balance||0),_.set("channel_count",o.channel_count||2).set("samplesize",o.samplesize||16).set("samplerate",o.samplerate||65536);break;case"Hint":h.add("hmhd");break;case"Subtitle":switch(h.add("sthd"),o.type){case"stpp":_.set("namespace",o.namespace||"nonamespace").set("schema_location",o.schema_location||"").set("auxiliary_mime_types",o.auxiliary_mime_types||"");break}break;case"Metadata":h.add("nmhd");break;case"System":h.add("nmhd");break;default:h.add("nmhd");break}o.description&&_.addBox(o.description),o.description_boxes&&o.description_boxes.forEach(function(A){_.addBox(A)}),h.add("dinf").add("dref").addEntry(new a["url Box"]().set("flags",1));var G=h.add("stbl");return G.add("stsd").addEntry(_),G.add("stts").set("sample_counts",[]).set("sample_deltas",[]),G.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),G.add("stco").set("chunk_offsets",[]),G.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",o.id).set("default_sample_description_index",o.default_sample_description_index||1).set("default_sample_duration",o.default_sample_duration||0).set("default_sample_size",o.default_sample_size||0).set("default_sample_flags",o.default_sample_flags||0),this.buildTrakSampleLists(l),o.id}},a.Box.prototype.computeSize=function(n){var o=n||new s;o.endianness=s.BIG_ENDIAN,this.write(o)},m.prototype.addSample=function(n,o,l){var d=l||{},h={},_=this.getTrackById(n);if(_!==null){h.number=_.samples.length,h.track_id=_.tkhd.track_id,h.timescale=_.mdia.mdhd.timescale,h.description_index=d.sample_description_index?d.sample_description_index-1:0,h.description=_.mdia.minf.stbl.stsd.entries[h.description_index],h.data=o,h.size=o.byteLength,h.alreadyRead=h.size,h.duration=d.duration||1,h.cts=d.cts||0,h.dts=d.dts||0,h.is_sync=d.is_sync||!1,h.is_leading=d.is_leading||0,h.depends_on=d.depends_on||0,h.is_depended_on=d.is_depended_on||0,h.has_redundancy=d.has_redundancy||0,h.degradation_priority=d.degradation_priority||0,h.offset=0,h.subsamples=d.subsamples,_.samples.push(h),_.samples_size+=h.size,_.samples_duration+=h.duration,_.first_dts===void 0&&(_.first_dts=d.dts),this.processSamples();var b=this.createSingleSampleMoof(h);return this.addBox(b),b.computeSize(),b.trafs[0].truns[0].data_offset=b.size+8,this.add("mdat").data=new Uint8Array(o),h}},m.prototype.createSingleSampleMoof=function(n){var o=0;n.is_sync?o=1<<25:o=65536;var l=new a.moofBox;l.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var d=l.add("traf"),h=this.getTrackById(n.track_id);return d.add("tfhd").set("track_id",n.track_id).set("flags",a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),d.add("tfdt").set("baseMediaDecodeTime",n.dts-(h.first_dts||0)),d.add("trun").set("flags",a.TRUN_FLAGS_DATA_OFFSET|a.TRUN_FLAGS_DURATION|a.TRUN_FLAGS_SIZE|a.TRUN_FLAGS_FLAGS|a.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[n.duration]).set("sample_size",[n.size]).set("sample_flags",[o]).set("sample_composition_time_offset",[n.cts-n.dts]),l},m.prototype.lastMoofIndex=0,m.prototype.samplesDataSize=0,m.prototype.resetTables=function(){var n,o,l,d,h,_,b,S;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,n=0;n<this.moov.traks.length;n++){o=this.moov.traks[n],o.tkhd.duration=0,o.mdia.mdhd.duration=0,l=o.mdia.minf.stbl.stco||o.mdia.minf.stbl.co64,l.chunk_offsets=[],d=o.mdia.minf.stbl.stsc,d.first_chunk=[],d.samples_per_chunk=[],d.sample_description_index=[],h=o.mdia.minf.stbl.stsz||o.mdia.minf.stbl.stz2,h.sample_sizes=[],_=o.mdia.minf.stbl.stts,_.sample_counts=[],_.sample_deltas=[],b=o.mdia.minf.stbl.ctts,b&&(b.sample_counts=[],b.sample_offsets=[]),S=o.mdia.minf.stbl.stss;var C=o.mdia.minf.stbl.boxes.indexOf(S);C!=-1&&(o.mdia.minf.stbl.boxes[C]=null)}},m.initSampleGroups=function(n,o,l,d,h){var _,b,S,C;function B(I,k,G){this.grouping_type=I,this.grouping_type_parameter=k,this.sbgp=G,this.last_sample_in_run=-1,this.entry_index=-1}for(o&&(o.sample_groups_info=[]),n.sample_groups_info||(n.sample_groups_info=[]),b=0;b<l.length;b++){for(C=l[b].grouping_type+"/"+l[b].grouping_type_parameter,S=new B(l[b].grouping_type,l[b].grouping_type_parameter,l[b]),o&&(o.sample_groups_info[C]=S),n.sample_groups_info[C]||(n.sample_groups_info[C]=S),_=0;_<d.length;_++)d[_].grouping_type===l[b].grouping_type&&(S.description=d[_],S.description.used=!0);if(h)for(_=0;_<h.length;_++)h[_].grouping_type===l[b].grouping_type&&(S.fragment_description=h[_],S.fragment_description.used=!0,S.is_fragment=!0)}if(o){if(h)for(b=0;b<h.length;b++)!h[b].used&&h[b].version>=2&&(C=h[b].grouping_type+"/0",S=new B(h[b].grouping_type,0),S.is_fragment=!0,o.sample_groups_info[C]||(o.sample_groups_info[C]=S))}else for(b=0;b<d.length;b++)!d[b].used&&d[b].version>=2&&(C=d[b].grouping_type+"/0",S=new B(d[b].grouping_type,0),n.sample_groups_info[C]||(n.sample_groups_info[C]=S))},m.setSampleGroupProperties=function(n,o,l,d){var h,_;o.sample_groups=[];for(h in d)if(o.sample_groups[h]={},o.sample_groups[h].grouping_type=d[h].grouping_type,o.sample_groups[h].grouping_type_parameter=d[h].grouping_type_parameter,l>=d[h].last_sample_in_run&&(d[h].last_sample_in_run<0&&(d[h].last_sample_in_run=0),d[h].entry_index++,d[h].entry_index<=d[h].sbgp.entries.length-1&&(d[h].last_sample_in_run+=d[h].sbgp.entries[d[h].entry_index].sample_count)),d[h].entry_index<=d[h].sbgp.entries.length-1?o.sample_groups[h].group_description_index=d[h].sbgp.entries[d[h].entry_index].group_description_index:o.sample_groups[h].group_description_index=-1,o.sample_groups[h].group_description_index!==0){var b;d[h].fragment_description?b=d[h].fragment_description:b=d[h].description,o.sample_groups[h].group_description_index>0?(o.sample_groups[h].group_description_index>65535?_=(o.sample_groups[h].group_description_index>>16)-1:_=o.sample_groups[h].group_description_index-1,b&&_>=0&&(o.sample_groups[h].description=b.entries[_])):b&&b.version>=2&&b.default_group_description_index>0&&(o.sample_groups[h].description=b.entries[b.default_group_description_index-1])}},m.process_sdtp=function(n,o,l){o&&(n?(o.is_leading=n.is_leading[l],o.depends_on=n.sample_depends_on[l],o.is_depended_on=n.sample_is_depended_on[l],o.has_redundancy=n.sample_has_redundancy[l]):(o.is_leading=0,o.depends_on=0,o.is_depended_on=0,o.has_redundancy=0))},m.prototype.buildSampleLists=function(){var n,o;for(n=0;n<this.moov.traks.length;n++)o=this.moov.traks[n],this.buildTrakSampleLists(o)},m.prototype.buildTrakSampleLists=function(n){var o,l,d,h,_,b,S,C,B,I,k,G,A,W,Q,ke,we,ne,X,Pe,Ne,Ge,Ie,et;if(n.samples=[],n.samples_duration=0,n.samples_size=0,l=n.mdia.minf.stbl.stco||n.mdia.minf.stbl.co64,d=n.mdia.minf.stbl.stsc,h=n.mdia.minf.stbl.stsz||n.mdia.minf.stbl.stz2,_=n.mdia.minf.stbl.stts,b=n.mdia.minf.stbl.ctts,S=n.mdia.minf.stbl.stss,C=n.mdia.minf.stbl.stsd,B=n.mdia.minf.stbl.subs,G=n.mdia.minf.stbl.stdp,I=n.mdia.minf.stbl.sbgps,k=n.mdia.minf.stbl.sgpds,ne=-1,X=-1,Pe=-1,Ne=-1,Ge=0,Ie=0,et=0,m.initSampleGroups(n,null,I,k),!(typeof h>"u")){for(o=0;o<h.sample_sizes.length;o++){var ie={};ie.number=o,ie.track_id=n.tkhd.track_id,ie.timescale=n.mdia.mdhd.timescale,ie.alreadyRead=0,n.samples[o]=ie,ie.size=h.sample_sizes[o],n.samples_size+=ie.size,o===0?(W=1,A=0,ie.chunk_index=W,ie.chunk_run_index=A,we=d.samples_per_chunk[A],ke=0,A+1<d.first_chunk.length?Q=d.first_chunk[A+1]-1:Q=1/0):o<we?(ie.chunk_index=W,ie.chunk_run_index=A):(W++,ie.chunk_index=W,ke=0,W<=Q||(A++,A+1<d.first_chunk.length?Q=d.first_chunk[A+1]-1:Q=1/0),ie.chunk_run_index=A,we+=d.samples_per_chunk[A]),ie.description_index=d.sample_description_index[ie.chunk_run_index]-1,ie.description=C.entries[ie.description_index],ie.offset=l.chunk_offsets[ie.chunk_index-1]+ke,ke+=ie.size,o>ne&&(X++,ne<0&&(ne=0),ne+=_.sample_counts[X]),o>0?(n.samples[o-1].duration=_.sample_deltas[X],n.samples_duration+=n.samples[o-1].duration,ie.dts=n.samples[o-1].dts+n.samples[o-1].duration):ie.dts=0,b?(o>=Pe&&(Ne++,Pe<0&&(Pe=0),Pe+=b.sample_counts[Ne]),ie.cts=n.samples[o].dts+b.sample_offsets[Ne]):ie.cts=ie.dts,S?(o==S.sample_numbers[Ge]-1?(ie.is_sync=!0,Ge++):(ie.is_sync=!1,ie.degradation_priority=0),B&&B.entries[Ie].sample_delta+et==o+1&&(ie.subsamples=B.entries[Ie].subsamples,et+=B.entries[Ie].sample_delta,Ie++)):ie.is_sync=!0,m.process_sdtp(n.mdia.minf.stbl.sdtp,ie,ie.number),G?ie.degradation_priority=G.priority[o]:ie.degradation_priority=0,B&&B.entries[Ie].sample_delta+et==o&&(ie.subsamples=B.entries[Ie].subsamples,et+=B.entries[Ie].sample_delta),(I.length>0||k.length>0)&&m.setSampleGroupProperties(n,ie,o,n.sample_groups_info)}o>0&&(n.samples[o-1].duration=Math.max(n.mdia.mdhd.duration-n.samples[o-1].dts,0),n.samples_duration+=n.samples[o-1].duration)}},m.prototype.updateSampleLists=function(){var n,o,l,d,h,_,b,S,C,B,I,k,G,A,W;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(C=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,C.type=="moof")for(B=C,n=0;n<B.trafs.length;n++){for(I=B.trafs[n],k=this.getTrackById(I.tfhd.track_id),G=this.getTrexById(I.tfhd.track_id),I.tfhd.flags&a.TFHD_FLAG_SAMPLE_DESC?d=I.tfhd.default_sample_description_index:d=G?G.default_sample_description_index:1,I.tfhd.flags&a.TFHD_FLAG_SAMPLE_DUR?h=I.tfhd.default_sample_duration:h=G?G.default_sample_duration:0,I.tfhd.flags&a.TFHD_FLAG_SAMPLE_SIZE?_=I.tfhd.default_sample_size:_=G?G.default_sample_size:0,I.tfhd.flags&a.TFHD_FLAG_SAMPLE_FLAGS?b=I.tfhd.default_sample_flags:b=G?G.default_sample_flags:0,I.sample_number=0,I.sbgps.length>0&&m.initSampleGroups(k,I,I.sbgps,k.mdia.minf.stbl.sgpds,I.sgpds),o=0;o<I.truns.length;o++){var Q=I.truns[o];for(l=0;l<Q.sample_count;l++){A={},A.moof_number=this.lastMoofIndex,A.number_in_traf=I.sample_number,I.sample_number++,A.number=k.samples.length,I.first_sample_index=k.samples.length,k.samples.push(A),A.track_id=k.tkhd.track_id,A.timescale=k.mdia.mdhd.timescale,A.description_index=d-1,A.description=k.mdia.minf.stbl.stsd.entries[A.description_index],A.size=_,Q.flags&a.TRUN_FLAGS_SIZE&&(A.size=Q.sample_size[l]),k.samples_size+=A.size,A.duration=h,Q.flags&a.TRUN_FLAGS_DURATION&&(A.duration=Q.sample_duration[l]),k.samples_duration+=A.duration,k.first_traf_merged||l>0?A.dts=k.samples[k.samples.length-2].dts+k.samples[k.samples.length-2].duration:(I.tfdt?A.dts=I.tfdt.baseMediaDecodeTime:A.dts=0,k.first_traf_merged=!0),A.cts=A.dts,Q.flags&a.TRUN_FLAGS_CTS_OFFSET&&(A.cts=A.dts+Q.sample_composition_time_offset[l]),W=b,Q.flags&a.TRUN_FLAGS_FLAGS?W=Q.sample_flags[l]:l===0&&Q.flags&a.TRUN_FLAGS_FIRST_FLAG&&(W=Q.first_sample_flags),A.is_sync=!(W>>16&1),A.is_leading=W>>26&3,A.depends_on=W>>24&3,A.is_depended_on=W>>22&3,A.has_redundancy=W>>20&3,A.degradation_priority=W&65535;var ke=!!(I.tfhd.flags&a.TFHD_FLAG_BASE_DATA_OFFSET),we=!!(I.tfhd.flags&a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),ne=!!(Q.flags&a.TRUN_FLAGS_DATA_OFFSET),X=0;ke?X=I.tfhd.base_data_offset:we||o===0?X=B.start:X=S,o===0&&l===0?ne?A.offset=X+Q.data_offset:A.offset=X:A.offset=S,S=A.offset+A.size,(I.sbgps.length>0||I.sgpds.length>0||k.mdia.minf.stbl.sbgps.length>0||k.mdia.minf.stbl.sgpds.length>0)&&m.setSampleGroupProperties(k,A,A.number_in_traf,I.sample_groups_info)}}if(I.subs){k.has_fragment_subsamples=!0;var Pe=I.first_sample_index;for(o=0;o<I.subs.entries.length;o++)Pe+=I.subs.entries[o].sample_delta,A=k.samples[Pe-1],A.subsamples=I.subs.entries[o].subsamples}}}},m.prototype.getSample=function(n,o){var l,d=n.samples[o];if(!this.moov)return null;if(!d.data)d.data=new Uint8Array(d.size),d.alreadyRead=0,this.samplesDataSize+=d.size,t.debug("ISOFile","Allocating sample #"+o+" on track #"+n.tkhd.track_id+" of size "+d.size+" (total: "+this.samplesDataSize+")");else if(d.alreadyRead==d.size)return d;for(;;){var h=this.stream.findPosition(!0,d.offset+d.alreadyRead,!1);if(h>-1){l=this.stream.buffers[h];var _=l.byteLength-(d.offset+d.alreadyRead-l.fileStart);if(d.size-d.alreadyRead<=_)return t.debug("ISOFile","Getting sample #"+o+" data (alreadyRead: "+d.alreadyRead+" offset: "+(d.offset+d.alreadyRead-l.fileStart)+" read size: "+(d.size-d.alreadyRead)+" full size: "+d.size+")"),s.memcpy(d.data.buffer,d.alreadyRead,l,d.offset+d.alreadyRead-l.fileStart,d.size-d.alreadyRead),l.usedBytes+=d.size-d.alreadyRead,this.stream.logBufferLevel(),d.alreadyRead=d.size,d;if(_===0)return null;t.debug("ISOFile","Getting sample #"+o+" partial data (alreadyRead: "+d.alreadyRead+" offset: "+(d.offset+d.alreadyRead-l.fileStart)+" read size: "+_+" full size: "+d.size+")"),s.memcpy(d.data.buffer,d.alreadyRead,l,d.offset+d.alreadyRead-l.fileStart,_),d.alreadyRead+=_,l.usedBytes+=_,this.stream.logBufferLevel()}else return null}},m.prototype.releaseSample=function(n,o){var l=n.samples[o];return l.data?(this.samplesDataSize-=l.size,l.data=null,l.alreadyRead=0,l.size):0},m.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},m.prototype.getCodecs=function(){var n,o="";for(n=0;n<this.moov.traks.length;n++){var l=this.moov.traks[n];n>0&&(o+=","),o+=l.mdia.minf.stbl.stsd.entries[0].getCodec()}return o},m.prototype.getTrexById=function(n){var o;if(!this.moov||!this.moov.mvex)return null;for(o=0;o<this.moov.mvex.trexs.length;o++){var l=this.moov.mvex.trexs[o];if(l.track_id==n)return l}return null},m.prototype.getTrackById=function(n){if(this.moov===void 0)return null;for(var o=0;o<this.moov.traks.length;o++){var l=this.moov.traks[o];if(l.tkhd.track_id==n)return l}return null},m.prototype.itemsDataSize=0,m.prototype.flattenItemInfo=function(){var n=this.items,o=this.entity_groups,l,d,h,_=this.meta;if(_!=null&&_.hdlr!==void 0&&_.iinf!==void 0){for(l=0;l<_.iinf.item_infos.length;l++)h={},h.id=_.iinf.item_infos[l].item_ID,n[h.id]=h,h.ref_to=[],h.name=_.iinf.item_infos[l].item_name,_.iinf.item_infos[l].protection_index>0&&(h.protection=_.ipro.protections[_.iinf.item_infos[l].protection_index-1]),_.iinf.item_infos[l].item_type?h.type=_.iinf.item_infos[l].item_type:h.type="mime",h.content_type=_.iinf.item_infos[l].content_type,h.content_encoding=_.iinf.item_infos[l].content_encoding;if(_.grpl)for(l=0;l<_.grpl.boxes.length;l++)entity_group={},entity_group.id=_.grpl.boxes[l].group_id,entity_group.entity_ids=_.grpl.boxes[l].entity_ids,entity_group.type=_.grpl.boxes[l].type,o[entity_group.id]=entity_group;if(_.iloc)for(l=0;l<_.iloc.items.length;l++){var b=_.iloc.items[l];switch(h=n[b.item_ID],b.data_reference_index!==0&&(t.warn("Item storage with reference to other files: not supported"),h.source=_.dinf.boxes[b.data_reference_index-1]),b.construction_method){case 0:break;case 1:break;case 2:t.warn("Item storage with construction_method : not supported");break}for(h.extents=[],h.size=0,d=0;d<b.extents.length;d++)h.extents[d]={},h.extents[d].offset=b.extents[d].extent_offset+b.base_offset,b.construction_method==1&&(h.extents[d].offset+=_.idat.start+_.idat.hdr_size),h.extents[d].length=b.extents[d].extent_length,h.extents[d].alreadyRead=0,h.size+=h.extents[d].length}if(_.pitm&&(n[_.pitm.item_id].primary=!0),_.iref)for(l=0;l<_.iref.references.length;l++){var S=_.iref.references[l];for(d=0;d<S.references.length;d++)n[S.from_item_ID].ref_to.push({type:S.type,id:S.references[d]})}if(_.iprp)for(var C=0;C<_.iprp.ipmas.length;C++){var B=_.iprp.ipmas[C];for(l=0;l<B.associations.length;l++){var I=B.associations[l];if(h=n[I.id],h||(h=o[I.id]),h)for(h.properties===void 0&&(h.properties={},h.properties.boxes=[]),d=0;d<I.props.length;d++){var k=I.props[d];if(k.property_index>0&&k.property_index-1<_.iprp.ipco.boxes.length){var G=_.iprp.ipco.boxes[k.property_index-1];h.properties[G.type]=G,h.properties.boxes.push(G)}}}}}},m.prototype.getItem=function(n){var o,l;if(!this.meta)return null;if(l=this.items[n],!l.data&&l.size)l.data=new Uint8Array(l.size),l.alreadyRead=0,this.itemsDataSize+=l.size,t.debug("ISOFile","Allocating item #"+n+" of size "+l.size+" (total: "+this.itemsDataSize+")");else if(l.alreadyRead===l.size)return l;for(var d=0;d<l.extents.length;d++){var h=l.extents[d];if(h.alreadyRead!==h.length){var _=this.stream.findPosition(!0,h.offset+h.alreadyRead,!1);if(_>-1){o=this.stream.buffers[_];var b=o.byteLength-(h.offset+h.alreadyRead-o.fileStart);if(h.length-h.alreadyRead<=b)t.debug("ISOFile","Getting item #"+n+" extent #"+d+" data (alreadyRead: "+h.alreadyRead+" offset: "+(h.offset+h.alreadyRead-o.fileStart)+" read size: "+(h.length-h.alreadyRead)+" full extent size: "+h.length+" full item size: "+l.size+")"),s.memcpy(l.data.buffer,l.alreadyRead,o,h.offset+h.alreadyRead-o.fileStart,h.length-h.alreadyRead),o.usedBytes+=h.length-h.alreadyRead,this.stream.logBufferLevel(),l.alreadyRead+=h.length-h.alreadyRead,h.alreadyRead=h.length;else return t.debug("ISOFile","Getting item #"+n+" extent #"+d+" partial data (alreadyRead: "+h.alreadyRead+" offset: "+(h.offset+h.alreadyRead-o.fileStart)+" read size: "+b+" full extent size: "+h.length+" full item size: "+l.size+")"),s.memcpy(l.data.buffer,l.alreadyRead,o,h.offset+h.alreadyRead-o.fileStart,b),h.alreadyRead+=b,l.alreadyRead+=b,o.usedBytes+=b,this.stream.logBufferLevel(),null}else return null}}return l.alreadyRead===l.size?l:null},m.prototype.releaseItem=function(n){var o=this.items[n];if(o.data){this.itemsDataSize-=o.size,o.data=null,o.alreadyRead=0;for(var l=0;l<o.extents.length;l++){var d=o.extents[l];d.alreadyRead=0}return o.size}else return 0},m.prototype.processItems=function(n){for(var o in this.items){var l=this.items[o];this.getItem(l.id),n&&!l.sent&&(n(l),l.sent=!0,l.data=null)}},m.prototype.hasItem=function(n){for(var o in this.items){var l=this.items[o];if(l.name===n)return l.id}return-1},m.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},m.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},m.prototype.itemToFragmentedTrackFile=function(n){var o=n||{},l=null;if(o.itemId?l=this.getItem(o.itemId):l=this.getPrimaryItem(),l==null)return null;var d=new m;d.discardMdatData=!1;var h={type:l.type,description_boxes:l.properties.boxes};l.properties.ispe&&(h.width=l.properties.ispe.image_width,h.height=l.properties.ispe.image_height);var _=d.addTrack(h);return _?(d.addSample(_,l.data),d):null},m.prototype.write=function(n){for(var o=0;o<this.boxes.length;o++)this.boxes[o].write(n)},m.prototype.createFragment=function(n,o,l){var d=this.getTrackById(n),h=this.getSample(d,o);if(h==null)return this.setNextSeekPositionFromSample(d.samples[o]),null;var _=l||new s;_.endianness=s.BIG_ENDIAN;var b=this.createSingleSampleMoof(h);b.write(_),b.trafs[0].truns[0].data_offset=b.size+8,t.debug("MP4Box","Adjusting data_offset with new value "+b.trafs[0].truns[0].data_offset),_.adjustUint32(b.trafs[0].truns[0].data_offset_position,b.trafs[0].truns[0].data_offset);var S=new a.mdatBox;return S.data=h.data,S.write(_),_},m.writeInitializationSegment=function(n,o,l,d){var h;t.debug("ISOFile","Generating initialization segment");var _=new s;_.endianness=s.BIG_ENDIAN,n.write(_);var b=o.add("mvex");for(l&&b.add("mehd").set("fragment_duration",l),h=0;h<o.traks.length;h++)b.add("trex").set("track_id",o.traks[h].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",d).set("default_sample_size",0).set("default_sample_flags",65536);return o.write(_),_.buffer},m.prototype.save=function(n){var o=new s;o.endianness=s.BIG_ENDIAN,this.write(o),o.save(n)},m.prototype.getBuffer=function(){var n=new s;return n.endianness=s.BIG_ENDIAN,this.write(n),n.buffer},m.prototype.initializeSegmentation=function(){var n,o,l,d;for(this.onSegment===null&&t.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),o=[],n=0;n<this.fragmentedTracks.length;n++){var h=new a.moovBox;h.mvhd=this.moov.mvhd,h.boxes.push(h.mvhd),l=this.getTrackById(this.fragmentedTracks[n].id),h.boxes.push(l),h.traks.push(l),d={},d.id=l.tkhd.track_id,d.user=this.fragmentedTracks[n].user,d.buffer=m.writeInitializationSegment(this.ftyp,h,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[n].samples.length>0?this.moov.traks[n].samples[0].duration:0),o.push(d)}return o},a.Box.prototype.printHeader=function(n){this.size+=8,this.size>f&&(this.size+=8),this.type==="uuid"&&(this.size+=16),n.log(n.indent+"size:"+this.size),n.log(n.indent+"type:"+this.type)},a.FullBox.prototype.printHeader=function(n){this.size+=4,a.Box.prototype.printHeader.call(this,n),n.log(n.indent+"version:"+this.version),n.log(n.indent+"flags:"+this.flags)},a.Box.prototype.print=function(n){this.printHeader(n)},a.ContainerBox.prototype.print=function(n){this.printHeader(n);for(var o=0;o<this.boxes.length;o++)if(this.boxes[o]){var l=n.indent;n.indent+=" ",this.boxes[o].print(n),n.indent=l}},m.prototype.print=function(n){n.indent="";for(var o=0;o<this.boxes.length;o++)this.boxes[o]&&this.boxes[o].print(n)},a.mvhdBox.prototype.print=function(n){a.FullBox.prototype.printHeader.call(this,n),n.log(n.indent+"creation_time: "+this.creation_time),n.log(n.indent+"modification_time: "+this.modification_time),n.log(n.indent+"timescale: "+this.timescale),n.log(n.indent+"duration: "+this.duration),n.log(n.indent+"rate: "+this.rate),n.log(n.indent+"volume: "+(this.volume>>8)),n.log(n.indent+"matrix: "+this.matrix.join(", ")),n.log(n.indent+"next_track_id: "+this.next_track_id)},a.tkhdBox.prototype.print=function(n){a.FullBox.prototype.printHeader.call(this,n),n.log(n.indent+"creation_time: "+this.creation_time),n.log(n.indent+"modification_time: "+this.modification_time),n.log(n.indent+"track_id: "+this.track_id),n.log(n.indent+"duration: "+this.duration),n.log(n.indent+"volume: "+(this.volume>>8)),n.log(n.indent+"matrix: "+this.matrix.join(", ")),n.log(n.indent+"layer: "+this.layer),n.log(n.indent+"alternate_group: "+this.alternate_group),n.log(n.indent+"width: "+this.width),n.log(n.indent+"height: "+this.height)};var U={};U.createFile=function(n,o){var l=n!==void 0?n:!0,d=new m(o);return d.discardMdatData=!l,d},e.createFile=U.createFile}(ys)),ys}var Mw=kw(),Ks=ic(Mw);function Dw(e){return gt(this,void 0,void 0,function*(){let t=null,r=null;const s={video:null,audio:null},f=[];let u=-1;const c=yield e.getReader();yield $w(c,p=>{t=p.info;const{videoDecoderConf:v,videoTrackConf:g}=Hw(p.mp4boxFile,p.info);s.video=v??null,r=g??null,v===null&&console.error("No video track"),console.log("mp4boxfile moov ready",s)},(p,v,g)=>{if(v==="video"){u===-1&&(u=g[0].dts);for(const y of g)f.push(Yw(y,u))}}),yield c.close();const a=f.at(-1);if(t==null)throw new Error("Stream is done, but not emit ready");if(a==null)throw new Error("Stream not contain any sample");return Nw(f),{videoSamples:f,decoderConfig:s,videoTrack:r}})}function Nw(e){let t=0,r=null;for(const s of e)if(!s.deleted){if(s.is_sync&&(t+=1),t>=2)break;(r==null||s.cts<r.cts)&&(r=s),r!=null&&r.cts<2e5&&(r.duration+=r.cts,r.cts=0)}}function $w(e,t,r){return gt(this,void 0,void 0,function*(){const s=Ks.createFile(!1);s.onReady=u=>{var c;t({mp4boxFile:s,info:u});const a=(c=u.videoTracks[0])===null||c===void 0?void 0:c.id;a!==null&&s.setExtractionOptions(a,"video",{nbSamples:100}),s.start()},s.onSamples=r;function f(){return gt(this,void 0,void 0,function*(){let u=0;const c=30*1024*1024;for(;;){const a=yield e.read(c,{at:u});if(a.byteLength===0)break;a.fileStart=u;const p=s.appendBuffer(a);if(p==null)break;u=p}})}yield f(),s.stop()})}function Hw(e,t){const r=t.videoTracks[0],s={};if(r!=null){const f=Gw(e.getTrackById(r.id)).buffer,{descKey:u,type:c}=r.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:r.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};u!==""&&(s.videoTrackConf={timescale:1e6,duration:Ww(r.duration,r.timescale),width:r.video.width,height:r.video.height,brands:t.brands,type:c,[u]:f}),s.videoDecoderConf={codec:r.codec,codedHeight:r.video.height,codedWidth:r.video.width,description:f}}return s}function Gw(e){var t,r,s;for(const f of e.mdia.minf.stbl.stsd.entries){const u=(s=(r=(t=f.avcC)!==null&&t!==void 0?t:f.hvcC)!==null&&r!==void 0?r:f.av1C)!==null&&s!==void 0?s:f.vpcC;if(u!=null){const c=new Ks.DataStream(void 0,0,Ks.DataStream.BIG_ENDIAN);return u.write(c),new Uint8Array(c.buffer.slice(8))}}throw Error("avcC, hvcC, av1C or VPX not found")}function Vw(e,t){if(t!=="avc1"&&t!=="hvc1")return!0;const r=new DataView(e.buffer);let s=0;for(;s<e.byteLength-4;){if(t==="avc1"&&(r.getUint8(s+4)&31)===5)return!0;if(t==="hvc1"){const f=r.getUint8(s+4)>>1&63;if(f===19||f===20)return!0}s+=r.getUint32(s)+4}return!1}function jw(e,t){if(t!=="avc1"&&t!=="hvc1")return 0;const r=new DataView(e.buffer);if(t==="avc1"&&(r.getUint8(4)&31)===6)return r.getUint32(0)+4;if(t==="hvc1"){const s=r.getUint8(4)>>1&63;if(s===39||s===40)return r.getUint32(0)+4}return 0}function Yw(e,t=0,r){const s=e.is_sync&&Vw(e.data,e.description.type);let f=e.offset,u=e.size;if(s){const c=jw(e.data,e.description.type);f+=c,u-=c}return Object.assign(Object.assign({},e),{is_idr:s,offset:f,size:u,cts:(e.cts-t)/e.timescale*1e6,dts:(e.dts-t)/e.timescale*1e6,duration:e.duration/e.timescale*1e6,timescale:1e6,data:null})}function Ww(e,t){return e/t*1e6}class Kw{constructor(){this.videoSamples=[],this.decodeConf=null,this.videoTrack=null,this.demuxed=!1}demux(t){return gt(this,void 0,void 0,function*(){const{decoderConfig:r,videoSamples:s,videoTrack:f}=yield Dw(t);this.videoSamples=s,this.decodeConf=r,this.videoTrack=f,this.demuxed=!0})}destroy(){this.videoSamples=[],this.decodeConf=null,this.videoTrack=null,this.demuxed=!1}}var $i;(function(e){e.LOG="log",e.WARN="warn",e.ERROR="error"})($i||($i={}));class qw{constructor(t,r=$i.LOG){this.prefix=t,this.level=r}get inner_prefix(){return`${this.prefix}`}log(...t){this.level===$i.LOG&&console.log(`${this.inner_prefix} `,...t)}warn(...t){this.level!==$i.ERROR&&console.warn(`${this.inner_prefix} `,...t)}error(...t){this.level===$i.ERROR&&console.error(`${this.inner_prefix} `,...t)}}var jt,gn;const Zw=new qw("WebVideoDecoder");class Rl{get decodeQueueSize(){var t,r;return(r=(t=Ue(this,jt,"f"))===null||t===void 0?void 0:t.decodeQueueSize)!==null&&r!==void 0?r:0}static isSupport(t){return gt(this,void 0,void 0,function*(){return self.VideoDecoder&&(yield VideoDecoder.isConfigSupported(t)).supported})}constructor(t,r,s){if(this.decoderConf=t,this.onFrame=r,this.onDecodeError=s,jt.set(this,null),gn.set(this,!1),!VideoDecoder.isConfigSupported(t)){const f=`VideoDecoder is not support config, ${JSON.stringify(t)}`;Zw.error(f),s(new Error(f));return}Ki(this,jt,new VideoDecoder({output:this.onFrame,error:this.onDecodeError})),Ue(this,jt,"f").configure(this.decoderConf)}decode(t){if(Ue(this,jt,"f")==null||Ue(this,jt,"f").state!=="configured")throw new Error("Decoder is not prepared");if(!Ue(this,gn,"f")){Ki(this,gn,!0);for(let r=0;r<t.length;r++)Ue(this,jt,"f").decode(t[r]);Ki(this,gn,!1)}}flush(){Ue(this,jt,"f").flush()}reset(){}}jt=new WeakMap,gn=new WeakMap;const Xw=(e,t)=>gt(void 0,void 0,void 0,function*(){const r=e[0],s=e.at(-1);if(s==null)return[];const f=s.offset+s.size-r.offset;if(f<3e7){const u=new Uint8Array(yield t.read(f,{at:r.offset}));return e.map(c=>{const a=c.offset-r.offset;return new EncodedVideoChunk({type:c.is_idr?"key":"delta",timestamp:c.cts,duration:c.duration,data:u.subarray(a,a+c.size)})})}return yield Promise.all(e.map(u=>gt(void 0,void 0,void 0,function*(){return new EncodedVideoChunk({type:u.is_idr?"key":"delta",timestamp:u.cts,duration:u.duration,data:yield t.read(u.size,{at:u.offset})})})))}),Jw=e=>Object.prototype.toString.call(e)==="[object String]",Qw=e=>{if(!e.input)throw new Error("Invalid options, input must exist");if(!e.container||!Jw(e.container))throw new Error("Invalid options, container must be a string");if(!document.querySelector(e.container))throw new Error("Invalid options, container must be a DOM element")};var Ze;class e1{constructor(t={maxSize:1/0}){this.config=t,Ze.set(this,[])}get canAddSize(){return this.config.maxSize-Ue(this,Ze,"f").length}get length(){return Ue(this,Ze,"f").length}setSizeChangeCallback(t){this.config.onSizeChange=t}push(t){var r,s;Ue(this,Ze,"f").push(t),(s=(r=this.config).onSizeChange)===null||s===void 0||s.call(r,1)}pushList(t){var r,s;Ue(this,Ze,"f").push(...t),(s=(r=this.config).onSizeChange)===null||s===void 0||s.call(r,t.length)}pop(){var t,r;if(Ue(this,Ze,"f").length){const s=Ue(this,Ze,"f").pop();return(r=(t=this.config).onSizeChange)===null||r===void 0||r.call(t,-1),s}return null}unshift(t){var r,s;Ue(this,Ze,"f").unshift(t),(s=(r=this.config).onSizeChange)===null||s===void 0||s.call(r,1)}shift(){var t,r;if(Ue(this,Ze,"f").length){const s=Ue(this,Ze,"f").shift();return(r=(t=this.config)===null||t===void 0?void 0:t.onSizeChange)===null||r===void 0||r.call(t,-1),s}return null}splice(t,r){var s,f;const u=Ue(this,Ze,"f").splice(t,r);return(f=(s=this.config).onSizeChange)===null||f===void 0||f.call(s,u.length),u}at(t){return Ue(this,Ze,"f").at(t)}clear(){var t,r;const s=Ue(this,Ze,"f").length;Ki(this,Ze,[]),s&&((r=(t=this.config).onSizeChange)===null||r===void 0||r.call(t,s))}}Ze=new WeakMap;const zl=40,t1=40,kl=60,i1=80;class Ml{get isPlayEnd(){return this.cursorIndex>=this.demuxer.videoSamples.length&&this.decoder.decodeQueueSize===0}constructor(t){this.options=t,this.fetcher=new zw,this.demuxer=new Kw,this.decoder=null,this.frames=new e1({maxSize:i1}),this.cursorIndex=0,this.hasError=!1,this.firstRendered=!1,this.duration=0,this.preRenderState={time:0,duration:0,timer:0},Qw(t),this.initUI(),this.fetchAndDemux()}play(){console.log("play"),this.render(),this.videoRenderControl.emit("api:play")}pause(){this.preRenderState.timer&&(clearTimeout(this.preRenderState.timer),this.preRenderState.timer=0),this.preRenderState.time=0,this.preRenderState.duration=0,this.videoRenderControl.emit("api:pause")}destroy(){this.videoRenderControl.destroy(),this.demuxer.destroy(),this.fetcher.destroy()}initUI(){this.videoRenderControl=new Sw(this.options),this.videoRenderControl.on("ui:play",()=>this.render()),this.videoRenderControl.on("ui:pause",()=>this.pause())}fetchAndDemux(){return gt(this,void 0,void 0,function*(){try{yield this.fetcher.load(this.options.input),yield this.demuxer.demux(this.fetcher);const t=this.demuxer.videoTrack;if(!t){this.hasError=!0;return}const{width:r,height:s,duration:f}=t;this.videoRenderControl.setMetaData({width:r,height:s,duration:f/1e3}),this.duration=f/1e3,this.initDecoder()}catch{this.hasError=!0}})}initDecoder(){return gt(this,void 0,void 0,function*(){if(this.hasError)return;const t=this.demuxer.decodeConf;t!=null&&t.video&&(yield Rl.isSupport(t.video))?(this.decoder=new Rl(t.video,this.onFrames.bind(this),r=>{console.error(r)}),this.cursorIndex=0,this.startDecode()):this.hasError=!0})}startDecode(){return gt(this,void 0,void 0,function*(){if(!this.decoder||this.cursorIndex>=this.demuxer.videoSamples.length||this.frames.length>=kl||this.decoder.decodeQueueSize>=kl)return;console.log("start decode",this.cursorIndex);const t=this.cursorIndex;this.cursorIndex+=zl;const r=yield Xw(this.demuxer.videoSamples.slice(t,t+zl),yield this.fetcher.getReader());this.decoder.decode(r)})}onFrames(t){this.firstRendered||(this.firstRendered=!0,this.videoRenderControl.draw(t)),this.frames.push(t)}render(){this.preRenderState.timer&&clearTimeout(this.preRenderState.timer);const t=this.frames.shift();if(t){const r=t.duration/1e3;if(!this.preRenderState.time){this.drawFrame(t,r);return}const s=performance.now();let f=s-this.preRenderState.time;if(f>this.preRenderState.duration){if(f-=this.preRenderState.duration,f<r){this.drawFrame(t,r-f);return}for(console.log("deprecate frame"),t.close(),f-=r;this.frames.length;){let u=this.frames.shift();if(f<u.duration/1e3){this.drawFrame(u,u.duration/1e3-f);return}f-=u.duration/1e3,u.close(),console.log("deprecate frame")}console.log("Wait for next frame"),this.preRenderState.time=s,this.preRenderState.duration=f,this.preRenderState.timer=setTimeout(()=>this.render(),50);return}this.drawFrame(t,this.preRenderState.duration-f+r)}else this.isPlayEnd?(console.log("play ended"),this.pause()):(this.startDecode(),this.preRenderState.timer=setTimeout(()=>this.render(),50))}drawFrame(t,r){var s;this.preRenderState.time=performance.now(),this.preRenderState.duration=t.duration/1e3,this.videoRenderControl.draw(t),this.preRenderState.timer=setTimeout(()=>this.render(),r);const f=t.timestamp/1e3,u=this.frames.at(0),c=this.frames.at(-1);this.videoRenderControl.setProgress((f+t.duration/1e3)/((s=this.duration)!==null&&s!==void 0?s:1)*100,u&&c?(c.timestamp-u.timestamp+u.duration)/1e3/this.duration*100:0),t.close(),this.frames.length<=t1&&this.startDecode()}}const n1={style:{width:"800px"}},r1=oe({__name:"App",setup(e){const t=de(),r=de("url"),s=de("https://mms.vod.susercontent.com/api/v4/11111000/mms/my-11111000-6ke14-lxtirx2rlojq57.ori.mp4"),f=de([]),u=()=>{t.value&&t.value.destroy(),r.value==="url"?t.value=new Ml({container:".container",width:"800px",height:"400px",input:s.value}):r.value==="file"&&(t.value=new Ml({container:".container",width:"800px",height:"400px",input:f.value[0]}))};return Or(()=>{t.value&&t.value.destroy()}),(c,a)=>{const p=qm,v=Km,g=Hb,y=cm,E=zm,m=_w,U=$b;return $(),ee(Le,null,[re("div",n1,[a[4]||(a[4]=re("div",{class:"text-4xl mb-20 font-bold"},"WebCodecs Player",-1)),le(U,{"label-width":"20%","label-position":"right",class:"text-center mb-10"},{default:ce(()=>[le(g,{label:"Method:"},{default:ce(()=>[le(v,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=n=>r.value=n),size:"large"},{default:ce(()=>[le(p,{label:"URL",value:"url"}),le(p,{label:"Local File",value:"file"})]),_:1},8,["modelValue"])]),_:1}),r.value==="url"?($(),ve(g,{key:0,label:"URL:"},{default:ce(()=>[le(y,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=n=>s.value=n),placeholder:"Please input mp4 file url"},null,8,["modelValue"])]),_:1})):te("",!0),r.value==="file"?($(),ve(g,{key:1,label:"File:"},{default:ce(()=>[le(m,{ref:"upload",class:"upload-demo",limit:1,"auto-upload":!0,accept:".mp4,.mov","before-upload":n=>(f.value=[n],!1)},{trigger:ce(()=>[le(E,null,{default:ce(()=>a[2]||(a[2]=[qi("Select Video")])),_:1})]),_:1},8,["before-upload"])]),_:1})):te("",!0),le(g,{class:"mt-10"},{default:ce(()=>[le(E,{type:"primary",disabled:r.value==="url"?!s.value:!f.value.length,onClick:u},{default:ce(()=>a[3]||(a[3]=[qi("Submit")])),_:1},8,["disabled"])]),_:1})]),_:1})]),a[5]||(a[5]=re("div",{class:"container"},null,-1))],64)}}}),s1=(e,t)=>{const r=e.__vccOpts||e;for(const[s,f]of t)r[s]=f;return r},o1=s1(r1,[["__scopeId","data-v-e4e3e2ea"]]);Wh(o1).mount("#app")});export default a1();
